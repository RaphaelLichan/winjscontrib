{"version":3,"sources":["Sources/Search/winjscontrib.search.ts","Sources/Search/winjscontrib.search.index.ts","Sources/Search/winjscontrib.search.indexgroup.ts","Sources/Search/winjscontrib.search.indexworkerproxy.ts","Sources/Search/winjscontrib.search.stemming.ts"],"names":["WinJSContrib","WinJSContrib.Search","WinJSContrib.Search.writeWinRTFile","WinJSContrib.Search.openWinRTFile","WinJSContrib.Search.Index","WinJSContrib.Search.Index.constructor","WinJSContrib.Search.Index.count","WinJSContrib.Search.Index.clear","WinJSContrib.Search.Index.dispose","WinJSContrib.Search.Index.export","WinJSContrib.Search.Index.toString","WinJSContrib.Search.Index.loadData","WinJSContrib.Search.Index.save","WinJSContrib.Search.Index.load","WinJSContrib.Search.Index._runSearch","WinJSContrib.Search.Index.search","WinJSContrib.Search.Index._searchItem","WinJSContrib.Search.Index.define","WinJSContrib.Search.Index._add","WinJSContrib.Search.Index.add","WinJSContrib.Search.Index.addRange","WinJSContrib.Search.Index.refresh","WinJSContrib.Search.Index.processText","WinJSContrib.Search.Index.checkWord","WinJSContrib.Search.Index.tokenize","WinJSContrib.Search.IndexGroup","WinJSContrib.Search.IndexGroup.constructor","WinJSContrib.Search.IndexGroup.addIndex","WinJSContrib.Search.IndexGroup.addRangefunction","WinJSContrib.Search.IndexGroup.search","WinJSContrib.Search.IndexGroup.search.searchindex","WinJSContrib.Search.IndexGroup.save","WinJSContrib.Search.IndexGroup.load","WinJSContrib.Search.IndexGroup.dispose","WinJSContrib.Search.IndexWorkerProxy","WinJSContrib.Search.IndexWorkerProxy.constructor","WinJSContrib.Search.IndexWorkerProxy.init","WinJSContrib.Search.IndexWorkerProxy.search","WinJSContrib.Search.IndexWorkerProxy.count","WinJSContrib.Search.IndexWorkerProxy.add","WinJSContrib.Search.IndexWorkerProxy.addRange","WinJSContrib.Search.IndexWorkerProxy.dispose","WinJSContrib.Search.IndexWorkerProxy.clear","WinJSContrib.Search.IndexWorkerProxy.load","WinJSContrib.Search.IndexWorkerProxy.save","WinJSContrib.Search.Stemming","WinJSContrib.Search.Stemming.Pipeline","WinJSContrib.Search.Stemming.Pipeline.constructor","WinJSContrib.Search.Stemming.Pipeline.add","WinJSContrib.Search.Stemming.Pipeline.clear","WinJSContrib.Search.Stemming.Pipeline.run","WinJSContrib.Search.Stemming.Presets","WinJSContrib.Search.Stemming.StopWords","WinJSContrib.Search.Stemming.Op","WinJSContrib.Search.Stemming.Op.lowerCase","WinJSContrib.Search.Stemming.Op.dedup","WinJSContrib.Search.Stemming.Op.dropInitialLetters","WinJSContrib.Search.Stemming.Op.dropBafterMAtEnd","WinJSContrib.Search.Stemming.Op.cTransform","WinJSContrib.Search.Stemming.Op.dTransform","WinJSContrib.Search.Stemming.Op.dropG","WinJSContrib.Search.Stemming.Op.transformG","WinJSContrib.Search.Stemming.Op.dropH","WinJSContrib.Search.Stemming.Op.transformCK","WinJSContrib.Search.Stemming.Op.transformPH","WinJSContrib.Search.Stemming.Op.transformQ","WinJSContrib.Search.Stemming.Op.transformS","WinJSContrib.Search.Stemming.Op.transformT","WinJSContrib.Search.Stemming.Op.dropT","WinJSContrib.Search.Stemming.Op.transformV","WinJSContrib.Search.Stemming.Op.transformWH","WinJSContrib.Search.Stemming.Op.dropW","WinJSContrib.Search.Stemming.Op.transformX","WinJSContrib.Search.Stemming.Op.dropY","WinJSContrib.Search.Stemming.Op.transformZ","WinJSContrib.Search.Stemming.Op.dropVowels","WinJSContrib.Search.Stemming.Op.removeDiacritics"],"mappings":"AAuBA,IAAO,YAAY,CA8DlB;AA9DD,WAAO,YAAY;IAACA,IAAAA,MAAMA,CA8DzBA;IA9DmBA,WAAAA,MAAMA,EAACA,CAACA;QACxBC,AAkCAA;;WAhCGA;QAEHA;;;;;;WAMGA;QAEHA;;;;;;;WAOGA;QAGHA;;;;WAIGA;QAGHA;;;;WAIGA;QACQA,iBAAUA,GAAGA,sDAAsDA,CAACA;QAG/EA,wBAA+BA,MAAMA,EAAEA,QAAQA,EAAEA,uBAAuBA,EAAEA,WAAWA;YACjFC,MAAMA,CAACA,IAAIA,KAAKA,CAACA,OAAOA,CAACA,UAAUA,QAAQA,EAAEA,KAAKA;gBAC9C,MAAM,CAAC,eAAe,CAAC,QAAQ,EAAE,uBAAuB,CAAC,CAAC,IAAI,CAAC,UAAU,OAAO;oBAC5E,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;wBAC7E,EAAE,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,GAAG,CAAC;4BAAC,KAAK,CAAC,GAAG,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;wBAClE,QAAQ,EAAE,CAAC;oBACf,CAAC,EAAE,KAAK,CAAC,CAAC;gBACd,CAAC,EAAE,KAAK,CAAC,CAAC;YACd,CAAC,CAACA,CAACA;QACPA,CAACA;QATeD,qBAAcA,iBAS7BA,CAAAA;QAEDA,uBAA8BA,MAAMA,EAAEA,QAAQA;YAC1CE,MAAMA,CAACA,IAAIA,KAAKA,CAACA,OAAOA,CAACA,UAAUA,QAAQA,EAAEA,KAAKA;gBAC9C,MAAM,CAAC,eAAe,CAAC,QAAQ,EAAE,OAAO,CAAC,OAAO,CAAC,uBAAuB,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI;oBACtG,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI;wBAC1D,EAAE,CAAC,CAAC,IAAI,CAAC;4BACL,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;wBAC/B,IAAI;4BACA,QAAQ,EAAE,CAAC;oBACnB,CAAC,EAAE,KAAK,CAAC,CAAC;gBACd,CAAC,EAAE,KAAK,CAAC,CAAC;YACd,CAAC,CAACA,CAACA;QACPA,CAACA;QAXeF,oBAAaA,gBAW5BA,CAAAA;IAELA,CAACA,EA9DmBD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QA8DzBA;AAADA,CAACA,EA9DM,YAAY,KAAZ,YAAY,QA8DlB;;ACrFD,IAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,IAAO,YAAY,CAqZlB;AArZD,WAAO,YAAY;IAACA,IAAAA,MAAMA,CAqZzBA;IArZmBA,WAAAA,MAAMA,EAACA,CAACA;QACxBC,IAAIA,MAAMA,GAAGA,YAAYA,CAACA,IAAIA,CAACA,SAASA,CAACA,qBAAqBA,CAACA,CAACA;QAQhEA;YAWIG;;;;;;;;eAQGA;YACHA,eAAYA,IAAIA,EAAEA,UAAUA,EAAEA,SAAqDA;gBAb5EC,UAAKA,GAAUA,EAAEA,CAACA;gBAClBA,cAASA,GAAYA,IAAIA,CAACA;gBAa7BA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,KAAKA,CAACA,IAAIA,GAAGA,IAAIA,IAAIA,cAAcA,CAACA;gBACpCA,KAAKA,CAACA,UAAUA,GAAGA,UAAUA,IAAIA,EAAEA,CAACA;gBACpCA,KAAKA,CAACA,KAAKA,GAAGA,EAAEA,CAACA;gBACjBA,KAAKA,CAACA,SAASA,GAAGA,IAAIA,CAACA;gBACvBA,KAAKA,CAACA,UAAUA,GAAGA,SAASA,CAACA;gBAE7BA,KAAKA,CAACA,SAASA,GAAGA,YAAYA,CAACA,MAAMA,CAACA,QAAQA,CAACA,SAASA,CAACA,MAAMA,CAACA;gBAChEA,KAAKA,CAACA,QAAQA,GAAGA,IAAIA,YAAYA,CAACA,MAAMA,CAACA,QAAQA,CAACA,QAAQA,CAACA,UAAUA,CAACA,CAACA;gBAEvEA,EAAEA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA;oBACZA,KAAKA,CAACA,SAASA,GAAGA,SAASA,CAACA;gBAChCA,CAACA;gBACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,YAAYA,CAACA,aAAaA,IAAIA,YAAYA,CAACA,aAAaA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACxEA,KAAKA,CAACA,SAASA,GAAGA,YAAYA,CAACA,aAAaA,CAACA,OAAOA,CAACA,KAAKA,CAACA,oBAAoBA,CAACA,CAACA;gBACrFA,CAACA;gBAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBAC1BA,KAAKA,CAACA,aAAaA,GAAGA,OAAOA,CAACA,OAAOA,CAACA,eAAeA,CAACA,OAAOA,CAACA,WAAWA,CAACA,iBAAiBA,CAACA,oBAAoBA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,uBAAuBA,CAACA,YAAYA,CAACA,CAACA,IAAIA,CAACA,UAAUA,MAAMA;wBACzL,MAAM,CAAC,MAAM,CAAC;oBAClB,CAAC,EAAEA,UAAUA,GAAGA;wBACZ,MAAM,CAAC,KAAK,CAAC,oBAAoB,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC;wBACjD,MAAM,CAAC,IAAI,CAAC;oBAChB,CAAC,CAACA,CAACA;gBACPA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,MAAMA,wFAAwFA,CAACA;gBACnGA,CAACA;YACLA,CAACA;YAEDD;;;;eAIGA;YACIA,qBAAKA,GAAZA;gBACIE,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;YACjDA,CAACA;YAEDF;;;;eAIGA;YACIA,qBAAKA,GAAZA;gBACIG,IAAIA,CAACA,KAAKA,GAAGA,EAAEA,CAACA;gBAChBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,CAACA;YAChCA,CAACA;YAEDH;;;eAGGA;YACIA,uBAAOA,GAAdA;gBACII,IAAIA,CAACA,KAAKA,GAAGA,EAAEA,CAACA;gBAChBA,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA;gBAC5BA,IAAIA,CAACA,SAASA,GAAGA,SAASA,CAACA;gBAC3BA,IAAIA,CAACA,QAAQA,CAACA,KAAKA,EAAEA,CAACA;gBACtBA,IAAIA,CAACA,QAAQA,GAAGA,SAASA,CAACA;gBAC1BA,IAAIA,CAACA,UAAUA,GAAGA,SAASA,CAACA;gBAC5BA,IAAIA,CAACA,aAAaA,GAAGA,SAASA,CAACA;YACnCA,CAACA;YAEDJ;;;eAGGA;YACIA,sBAAMA,GAAbA;gBACIK,MAAMA,CAACA,EAAEA,UAAUA,EAAEA,IAAIA,CAACA,UAAUA,EAAEA,KAAKA,EAAEA,IAAIA,CAACA,KAAKA,EAAEA,CAACA;YAC9DA,CAACA;YAEDL;;;eAGGA;YACIA,wBAAQA,GAAfA;gBACIM,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,CAACA,CAACA;YACzCA,CAACA;YAEDN;;;eAGGA;YACIA,wBAAQA,GAAfA,UAAgBA,WAAWA;gBACvBO,IAAIA,GAAGA,GAAGA,WAAWA,CAACA;gBAEtBA,EAAEA,CAACA,CAACA,OAAOA,GAAGA,IAAIA,QAAQA,CAACA;oBACvBA,GAAGA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,WAAWA,CAACA,CAACA;gBAElCA,EAAEA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;oBACNA,EAAEA,CAACA,CAACA,GAAGA,CAACA,UAAUA,IAAIA,GAAGA,CAACA,UAAUA,CAACA,MAAMA,IAAIA,GAAGA,CAACA,KAAKA,IAAIA,GAAGA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA,CAACA;wBAC3EA,IAAIA,CAACA,UAAUA,GAAGA,GAAGA,CAACA,UAAUA,CAACA;wBACjCA,IAAIA,CAACA,QAAQA,CAACA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;oBAC1CA,CAACA;oBACDA,IAAIA,CAACA,KAAKA,GAAGA,GAAGA,CAACA,KAAKA,IAAIA,EAAEA,CAACA;gBACjCA,CAACA;YACLA,CAACA;YAEDP;;;;eAIGA;YACIA,oBAAIA,GAAXA;gBAAAQ,iBAaCA;gBAZGA,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,MAAMA,EAAEA,CAACA;gBACxBA,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;oBACjBA,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;gBAC/CA,CAACA;gBAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBAC1BA,MAAMA,CAACA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,CAACA,UAACA,MAAMA;wBAClCA,MAAMA,CAACA,qBAAcA,CAACA,MAAMA,EAAEA,KAAIA,CAACA,IAAIA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,uBAAuBA,CAACA,eAAeA,EAAEA,GAAGA,CAACA,CAACA,IAAIA,CAACA,UAACA,QAAQA;4BACjHA,MAAMA,CAACA,EAAEA,KAAKA,EAAEA,KAAIA,EAAEA,CAACA;wBAC3BA,CAACA,CAACA,CAACA;oBACPA,CAACA,CAACA,CAACA;gBACPA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,SAASA,CAACA,EAAEA,OAAOA,EAAEA,sEAAsEA,EAAEA,CAACA,CAACA;gBACxHA,CAACA;YACLA,CAACA;YAEDR;;;;eAIGA;YACIA,oBAAIA,GAAXA;gBAAAS,iBAcCA;gBAbGA,EAAEA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA;oBACjBA,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,IAAIA,CAACA,UAACA,QAAQA;wBAChDA,KAAIA,CAACA,QAAQA,CAACA,QAAQA,CAACA,CAACA;oBAC5BA,CAACA,CAACA,CAACA;gBACPA,CAACA;gBAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBAC1BA,MAAMA,CAACA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,CAACA,UAACA,MAAMA;wBAClCA,MAAMA,CAACA,oBAAaA,CAACA,MAAMA,EAAEA,KAAIA,CAACA,IAAIA,CAACA,CAACA,IAAIA,CAACA,UAACA,QAAQA;4BAClDA,KAAIA,CAACA,QAAQA,CAACA,QAAQA,CAACA,CAACA;wBAC5BA,CAACA,CAACA,CAACA;oBACPA,CAACA,CAACA,CAACA;gBACPA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,SAASA,CAACA,EAAEA,OAAOA,EAAEA,sEAAsEA,EAAEA,CAACA,CAACA;gBACxHA,CAACA;YACLA,CAACA;YAEDT,0BAAUA,GAAVA,UAAWA,SAASA,EAAEA,OAAOA;gBACzBU,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,IAAIA,cAAcA,GAAGA,KAAKA,CAACA,WAAWA,CAACA,SAASA,CAACA,CAACA;gBAClDA,IAAIA,YAAYA,GAAwBA,EAAEA,CAACA;gBAC3CA,IAAIA,IAAIA,GAAGA,KAAKA,CAACA,KAAKA,CAACA,MAAMA,CAACA;gBAC9BA,IAAIA,YAAYA,GAAGA,CAACA,CAACA,CAACA;gBAEtBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAC5BA,IAAIA,UAAUA,GAAGA,KAAKA,CAACA,WAAWA,CAACA,cAAcA,EAAEA,KAAKA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACnEA,EAAEA,CAACA,CAACA,UAAUA,CAACA,CAACA,CAACA;wBACbA,YAAYA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;oBAClCA,CAACA;oBAEDA,IAAIA,CAACA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,CAACA;oBAC9BA,EAAEA,CAACA,CAACA,KAAKA,CAACA,UAAUA,IAAIA,CAACA,IAAIA,YAAYA,CAACA;wBACtCA,KAAKA,CAACA,UAAUA,CAACA,EAAEA,eAAeA,EAAEA,CAACA,EAAEA,KAAKA,EAAEA,IAAIA,EAAEA,OAAOA,EAAEA,CAACA,EAAEA,CAACA,CAACA;oBACtEA,YAAYA,GAAGA,CAACA,CAACA;gBACrBA,CAACA;gBAEDA,YAAYA,GAAGA,YAAYA,CAACA,IAAIA,CAACA,UAAUA,CAACA,EAAEA,CAACA;oBAC3C,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC3B,CAAC,CAACA,CAACA;gBAEHA,EAAEA,CAACA,CAACA,OAAOA,IAAIA,OAAOA,CAACA,KAAKA,CAACA,CAACA,CAACA;oBAC3BA,YAAYA,GAAGA,YAAYA,CAACA,KAAKA,CAACA,CAACA,EAAEA,OAAOA,CAACA,KAAKA,CAACA,CAACA;gBACxDA,CAACA;gBAEDA,MAAMA,CAACA,YAAYA,CAACA;YACxBA,CAACA;YAEDV;;;;;eAKGA;YACIA,sBAAMA,GAAbA,UAAcA,SAASA,EAAEA,OAAOA;gBAC5BW,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,IAAIA,CAACA,UAAUA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA,CAACA;YACnEA,CAACA;YAEDX,2BAAWA,GAAXA,UAAYA,YAAYA,EAAEA,SAASA;gBAC/BY,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,IAAIA,IAAIA,GAAGA,SAASA,CAACA,KAAKA,CAACA,MAAMA,CAACA;gBAClCA,IAAIA,MAAMA,GAAGA,CAACA,CAACA;gBAEfA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAC5BA,IAAIA,SAASA,GAAGA,SAASA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA;oBAEnCA,EAAEA,CAACA,CAACA,YAAYA,CAACA,WAAWA,IAAIA,SAASA,CAACA,MAAMA,CAACA,WAAWA,IAAIA,YAAYA,CAACA,WAAWA,CAACA,CAACA,CAACA;wBACvFA,MAAMA,IAAIA,CAACA,GAAGA,SAASA,CAACA,MAAMA,CAACA;oBACnCA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,YAAYA,CAACA,WAAWA,IAAIA,SAASA,CAACA,MAAMA,CAACA,WAAWA,IAAIA,SAASA,CAACA,MAAMA,CAACA,WAAWA,CAACA,OAAOA,CAACA,YAAYA,CAACA,WAAWA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;wBAClIA,MAAMA,IAAIA,CAACA,GAAGA,SAASA,CAACA,MAAMA,CAACA;oBACnCA,CAACA;oBAEDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,SAASA,CAACA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;wBACrDA,IAAIA,KAAKA,GAAGA,SAASA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA;wBACtCA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,YAAYA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;4BACjDA,IAAIA,MAAMA,GAAGA,YAAYA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA;4BAEnCA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,GAAGA,CAACA,IAAIA,KAAKA,IAAIA,MAAMA,CAACA,CAACA,CAACA;gCACvCA,MAAMA,IAAIA,SAASA,CAACA,MAAMA,CAACA;4BAC/BA,CAACA;4BAEDA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,GAAGA,CAACA,IAAIA,KAAKA,CAACA,OAAOA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;gCAClDA,MAAMA,IAAIA,SAASA,CAACA,MAAMA,GAAGA,GAAGA,CAACA;4BACrCA,CAACA;wBACLA,CAACA;oBACLA,CAACA;gBACLA,CAACA;gBAEDA,EAAEA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA;oBACTA,MAAMA,CAACA,EAAEA,IAAIA,EAAEA,MAAMA,EAAEA,GAAGA,EAAEA,SAASA,CAACA,GAAGA,EAAEA,IAAIA,EAAEA,SAASA,CAACA,OAAOA,EAAEA,CAACA;gBACzEA,CAACA;YACLA,CAACA;YAEDZ;;;eAGGA;YACIA,sBAAMA,GAAbA,UAAcA,GAAGA;gBACba,IAAIA,CAACA,UAAUA,GAAGA,GAAGA,CAACA;YAC1BA,CAACA;YAEDb,oBAAIA,GAAJA,UAAKA,GAAGA;gBACJc,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,IAAIA,GAAGA,GAAGA,SAASA,CAACA;gBACpBA,IAAIA,GAAGA,GAAGA,KAAKA,CAACA,UAAUA,CAACA;gBAE3BA,IAAIA,GAAGA,GAAGA;oBACNA,KAAKA,EAAEA,EAAEA;oBACTA,OAAOA,EAAEA,SAASA;oBAClBA,GAAGA,EAAEA,SAASA;iBACjBA,CAAAA;gBAEDA,EAAEA,CAACA,CAACA,CAACA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,MAAMA,CAACA;oBACpBA,MAAMA,CAACA;gBAEXA,EAAEA,CAACA,CAACA,KAAKA,CAACA,SAASA,CAACA;oBAChBA,GAAGA,CAACA,OAAOA,GAAGA,GAAGA,CAACA;gBACtBA,EAAEA,CAACA,CAACA,GAAGA,CAACA,GAAGA,CAACA;oBACRA,GAAGA,CAACA,GAAGA,GAAGA,YAAYA,CAACA,KAAKA,CAACA,YAAYA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,GAAGA,CAACA,CAACA;gBAE5DA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,GAAGA,CAACA,MAAMA,CAACA,CAACA,CAACA;oBACzBA,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBACjCA,IAAIA,IAAIA,GAAGA,GAAGA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;wBAC3BA,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,MAAMA,IAAIA,CAACA,CAACA;wBAC9BA,IAAIA,KAAKA,GAAGA,YAAYA,CAACA,KAAKA,CAACA,YAAYA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA,CAACA;wBAEjEA,EAAEA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;4BACRA,IAAIA,SAASA,GAAGA,OAAOA,KAAKA,CAACA;4BAE7BA,EAAEA,CAACA,CAACA,SAASA,KAAKA,QAAQA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,KAAKA,IAAIA,IAAIA,KAAKA,CAACA,MAAMA,KAAKA,SAASA,CAACA,CAACA,CAACA,CAACA;gCAClFA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oCAC3CA,IAAIA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,CAACA,CAACA;oCACpBA,EAAEA,CAACA,CAACA,IAAIA,IAAIA,OAAOA,IAAIA,IAAIA,QAAQA,CAACA,CAACA,CAACA;wCAClCA,GAAGA,CAACA,KAAKA,CAACA,IAAIA,CAACA,EAAEA,MAAMA,EAAEA,KAAKA,CAACA,WAAWA,CAACA,IAAIA,CAACA,EAAEA,MAAMA,EAAEA,MAAMA,EAAEA,CAACA,CAACA;oCACxEA,CAACA;gCACLA,CAACA;4BACLA,CAACA;4BAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,SAASA,KAAKA,QAAQA,CAACA,CAACA,CAACA;gCAChCA,GAAGA,CAACA,KAAKA,CAACA,IAAIA,CAACA,EAAEA,MAAMA,EAAEA,KAAKA,CAACA,WAAWA,CAACA,KAAKA,CAACA,EAAEA,MAAMA,EAAEA,MAAMA,EAAEA,CAACA,CAACA;4BACzEA,CAACA;4BAACA,IAAIA,CAACA,CAACA;gCACJA,MAAMA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,cAAcA,GAAGA,SAASA,CAACA,CAACA;4BAClDA,CAACA;wBACLA,CAACA;oBACLA,CAACA;gBACLA,CAACA;gBAEDA,KAAKA,CAACA,KAAKA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;gBAEtBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;YACnCA,CAACA;YAEDd;;;;;;eAMGA;YACIA,mBAAGA,GAAVA,UAAWA,GAAGA;gBACVe,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA,CAACA;YAC9CA,CAACA;YAEDf;;;;;eAKGA;YACIA,wBAAQA,GAAfA,UAAgBA,GAAGA,EAAEA,QAAQA;gBACzBgB,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,IAAIA,IAAIA,GAAGA,GAAGA,CAACA,MAAMA,CAACA;gBACtBA,IAAIA,OAAOA,GAAGA,EAAEA,CAACA;gBACjBA,IAAIA,YAAYA,GAAGA,CAACA,CAACA,CAACA;gBAEtBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAC5BA,IAAIA,IAAIA,GAAGA,KAAKA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA;oBAC9BA,EAAEA,CAACA,CAACA,IAAIA,CAACA;wBACLA,OAAOA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;oBAEvBA,IAAIA,CAACA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,CAACA;oBAC9BA,EAAEA,CAACA,CAACA,QAAQA,IAAIA,CAACA,IAAIA,YAAYA,CAACA;wBAC9BA,QAAQA,CAACA,EAAEA,eAAeA,EAAEA,CAACA,EAAEA,KAAKA,EAAEA,IAAIA,EAAEA,OAAOA,EAAEA,CAACA,EAAEA,CAACA,CAACA;oBAC9DA,YAAYA,GAAGA,CAACA,CAACA;gBACrBA,CAACA;gBAEDA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,OAAOA,EAAEA,OAAOA,CAACA,MAAMA,EAAEA,CAACA,CAACA;YAC3DA,CAACA;YAEDhB,uBAAOA,GAAPA;gBACIiB,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,IAAIA,GAAGA,GAAGA,KAAKA,CAACA,KAAKA,CAACA;gBACtBA,IAAIA,IAAIA,GAAGA,GAAGA,CAACA,MAAMA,CAACA;gBACtBA,KAAKA,CAACA,KAAKA,GAAGA,EAAEA,CAACA;gBACjBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAC5BA,IAAIA,IAAIA,GAAGA,KAAKA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA;oBAC1BA,KAAKA,CAACA,GAAGA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA;gBAC5BA,CAACA;YACLA,CAACA;YAEDjB;;;;eAIGA;YACIA,2BAAWA,GAAlBA,UAAmBA,IAAIA;gBACnBkB,EAAEA,CAACA,CAACA,OAAOA,IAAIA,IAAIA,QAAQA,CAACA;oBACxBA,IAAIA,GAAGA,IAAIA,CAACA,QAAQA,EAAEA,CAACA;gBAE3BA,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,CAACA;gBACjCA,IAAIA,GAAGA,GAAGA,EAAEA,CAACA;gBACbA,IAAIA,IAAIA,GAAGA,MAAMA,CAACA,MAAMA,CAACA;gBACzBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAC5BA,IAAIA,GAAGA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,GAAGA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACvCA,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,GAAGA,CAACA,CAACA;wBACfA,GAAGA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;gBACtBA,CAACA;gBAEDA,MAAMA,CAACA,EAAEA,KAAKA,EAAEA,GAAGA,EAAEA,WAAWA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,GAAGA,CAACA,IAAIA,CAACA,EAAEA,CAACA;YAChEA,CAACA;YAEDlB;;;;eAIGA;YACIA,yBAASA,GAAhBA,UAAiBA,KAAKA;gBAClBmB,IAAIA,IAAIA,GAAGA,IAAIA,CAACA,SAASA,CAACA,MAAMA,CAACA;gBACjCA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAC5BA,EAAEA,CAACA,CAACA,KAAKA,IAAIA,IAAIA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA;wBAC3BA,MAAMA,CAACA,EAAEA,CAACA;gBAClBA,CAACA;gBAEDA,MAAMA,CAACA,KAAKA,CAACA;YACjBA,CAACA;YAEDnB;;;;eAIGA;YACIA,wBAAQA,GAAfA,UAAgBA,KAAKA;gBACjBoB,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,IAAIA,MAAMA,GAAGA,EAAEA,CAACA;gBAChBA,EAAEA,CAACA,CAACA,CAACA,KAAKA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA;oBACvBA,MAAMA,CAACA,MAAMA,CAACA;gBAElBA,IAAIA,KAAKA,GAAGA,KAAKA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;gBAC/BA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBACpCA,EAAEA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBACtBA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;oBAC1BA,CAACA;gBACLA,CAACA;gBAEDA,MAAMA,CAACA,MAAMA,CAACA;YAClBA,CAACA;YACLpB,YAACA;QAADA,CA3YAH,AA2YCG,IAAAH;QA3YYA,YAAKA,QA2YjBA,CAAAA;IACLA,CAACA,EArZmBD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QAqZzBA;AAADA,CAACA,EArZM,YAAY,KAAZ,YAAY,QAqZlB;;ACtZD,IAAO,YAAY,CAkJlB;AAlJD,WAAO,YAAY;IAACA,IAAAA,MAAMA,CAkJzBA;IAlJmBA,WAAAA,MAAMA,EAACA,CAACA;QACvBC;YAGGwB;;;;;;eAMGA;YACHA,oBAAaA,WAAWA;gBACpBC,AAKAA;;;;mBADGA;gBACHA,IAAIA,CAACA,OAAOA,GAAGA,EAAEA,CAACA;gBAClBA,EAAEA,CAACA,CAACA,WAAWA,CAACA,CAACA,CAACA;oBACdA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,WAAWA,CAACA,CAACA,CAACA;wBACxBA,IAAIA,GAAGA,GAAGA,WAAWA,CAACA,CAACA,CAACA,CAACA;wBACzBA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,SAASA,CAACA;4BACfA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,GAAGA,IAAIA,YAAYA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,EAAEA,GAAGA,CAACA,UAAUA,CAACA,CAACA;wBACvEA,IAAIA;4BACAA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,GAAGA,IAAIA,YAAYA,CAACA,MAAMA,CAACA,gBAAgBA,CAACA,CAACA,EAAEA,GAAGA,CAACA,UAAUA,CAACA,CAACA;oBACtFA,CAACA;gBACLA,CAACA;YACLA,CAACA;YAEDD;;;;;;;;eAQGA;YACIA,6BAAQA,GAAfA,UAAgBA,IAAIA,EAAEA,UAAUA,EAAEA,KAAKA,EAAEA,KAAKA;gBAC1CE,EAAEA,CAACA,CAACA,KAAKA,CAACA;oBACNA,IAAIA,GAAGA,GAAQA,IAAIA,YAAYA,CAACA,MAAMA,CAACA,gBAAgBA,CAACA,IAAIA,EAAEA,UAAUA,CAACA,CAACA;gBAC9EA,IAAIA;oBACAA,IAAIA,GAAGA,GAAQA,IAAIA,YAAYA,CAACA,MAAMA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,UAAUA,CAACA,CAACA;gBAGnEA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,CAACA;gBACzBA,EAAEA,CAACA,CAACA,KAAKA,IAAIA,KAAKA,CAACA,MAAMA,CAACA,CAACA,CAACA;oBACxBA,MAAMA,CAACA,GAAGA,CAACA,QAAQA,CAACA,KAAKA,CAACA,CAACA,IAAIA,CAACA;wBAC5B,MAAM,CAAC,GAAG,CAAC;oBACf,CAAC,CAACA,CAACA;gBACPA,CAACA;gBACDA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;YACnCA,CAACA;YAEDF;;;;;;eAMGA;YACIA,qCAAgBA,GAAvBA,UAAyBA,IAAIA,EAAEA,KAAKA;gBAChCG,IAAIA,GAAGA,GAAIA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,CAACA;gBAC9BA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,KAAKA,IAAIA,KAAKA,CAACA,MAAMA,CAACA,CAACA,CAACA;oBAC/BA,MAAMA,CAACA,GAAGA,CAACA,QAAQA,CAACA,KAAKA,CAACA,CAACA;gBAC/BA,CAACA;gBACDA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,SAASA,CAACA,EAAEA,OAAOA,EAAEA,eAAeA,GAAGA,IAAIA,GAAGA,YAAYA,EAAEA,CAACA,CAACA;YACvFA,CAACA;YAEDH;;;;eAIGA;YACIA,2BAAMA,GAAbA,UAAcA,SAASA;gBACnBI,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBACjBA,IAAIA,YAAYA,GAAGA;oBACfA,SAASA,EAAEA,KAAKA;oBAChBA,UAAUA,EAAuBA,EAAEA;iBACtCA,CAACA;gBAEFA,qBAAqBA,IAAIA,EAAEA,KAAKA;oBAC5BC,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,SAASA,CAACA,CAACA,IAAIA,CAACA,UAACA,GAAGA;wBACpCA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,GAAGA,CAACA,MAAMA,CAACA,CAACA,CAACA;4BACpBA,GAAGA,CAACA,OAAOA,CAACA,UAACA,IAAIA;gCACbA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA;gCAC3BA,YAAYA,CAACA,UAAUA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;4BACvCA,CAACA,CAACA,CAACA;wBACPA,CAACA;wBACDA,YAAYA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,CAACA;oBAC7BA,CAACA,CAACA,CAACA;gBACPA,CAACA;gBAEDD,IAAIA,QAAQA,GAAGA,EAAEA,CAACA;gBAElBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACzBA,QAAQA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA,EAAEA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACnDA,CAACA;gBAEDA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA,IAAIA,CAACA;oBACrCA,YAAYA,CAACA,UAAUA,CAACA,IAAIA,CAACA,UAAUA,CAACA,EAAEA,CAACA;wBACvC,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC3B,CAAC,CAACA,CAACA;oBAEHA,YAAYA,CAACA,SAASA,GAAGA,YAAYA,CAACA,UAAUA,CAACA,MAAMA,GAAGA,CAACA,CAACA;oBAC5DA,MAAMA,CAACA,YAAYA,CAACA;gBACxBA,CAACA,CAACA,CAACA;YACPA,CAACA;YAEDJ;;;;eAIGA;YACIA,yBAAIA,GAAXA;gBACIM,IAAIA,QAAQA,GAAGA,EAAEA,CAACA;gBAClBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACzBA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,IAAIA,EAAEA,CAACA,CAACA;gBAC1CA,CAACA;gBACDA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;YACxCA,CAACA;YAEDN;;;;eAIGA;YACIA,yBAAIA,GAAXA;gBACIO,IAAIA,QAAQA,GAAGA,EAAEA,CAACA;gBAClBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACzBA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,IAAIA,EAAEA,CAACA,CAACA;gBAC1CA,CAACA;gBACDA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;YACxCA,CAACA;YAEDP;;;eAGGA;YACIA,4BAAOA,GAAdA;gBACIQ,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACzBA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,OAAOA,EAAEA,CAACA;gBAC9BA,CAACA;gBACDA,IAAIA,CAACA,OAAOA,GAAGA,EAAEA,CAACA;YACtBA,CAACA;YACLR,iBAACA;QAADA,CAhJCxB,AAgJAwB,IAAAxB;QAhJaA,iBAAUA,aAgJvBA,CAAAA;IACLA,CAACA,EAlJmBD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QAkJzBA;AAADA,CAACA,EAlJM,YAAY,KAAZ,YAAY,QAkJlB;;AClJD,IAAO,YAAY,CA0GlB;AA1GD,WAAO,YAAY;IAACA,IAAAA,MAAMA,CA0GzBA;IA1GmBA,WAAAA,MAAMA,EAACA,CAACA;QACxBC;YAGIiC;;;;;;;eAOGA;YACHA,0BAAYA,IAAaA,EAAEA,UAAUA,EAAEA,UAAmBA;gBACtDC,IAAIA,OAAOA,GAAGA,IAAIA,CAACA;gBACnBA,OAAOA,CAACA,MAAMA,GAAGA,IAAIA,YAAYA,CAACA,SAASA,CAACA,WAAWA,CAACA,UAAUA,IAAIA,YAAYA,CAACA,MAAMA,CAACA,UAAUA,CAACA,CAACA;gBACtGA,OAAOA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,UAAUA,CAACA,CAACA;YACnCA,CAACA;YAEDD;;;;;;eAMGA;YACIA,+BAAIA,GAAXA,UAAYA,IAAIA,EAAEA,UAAUA,EAAEA,IAAKA;gBAC/BE,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,EAAEA,IAAIA,EAAEA,IAAIA,EAAEA,IAAIA,EAAEA,IAAIA,EAAEA,UAAUA,EAAEA,UAAUA,EAAEA,CAACA,CAACA;YACzFA,CAACA;YAEDF;;;;;;eAMGA;YACIA,iCAAMA,GAAbA,UAAcA,UAAUA,EAAEA,OAAOA;gBAC7BG,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,QAAQA,EAAEA,EAAEA,UAAUA,EAAEA,UAAUA,EAAEA,OAAOA,EAAEA,OAAOA,EAAEA,CAACA,CAACA;YACrFA,CAACA;YAEDH;;;;eAIGA;YACIA,gCAAKA,GAAZA;gBACII,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA;YACtCA,CAACA;YAEDJ;;;;;;eAMGA;YACIA,8BAAGA,GAAVA,UAAWA,IAAIA,EAAEA,OAAOA;gBACpBK,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,EAAEA,EAAEA,KAAKA,EAAEA,CAACA,IAAIA,CAACA,EAAEA,OAAOA,EAAEA,OAAOA,EAAEA,CAACA,CAACA;YAC3EA,CAACA;YAEDL;;;;;;eAMGA;YACIA,mCAAQA,GAAfA,UAAgBA,IAAIA,EAAEA,OAAOA;gBACzBM,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,EAAEA,EAAEA,KAAKA,EAAEA,IAAIA,EAAEA,OAAOA,EAAEA,OAAOA,EAAEA,CAACA,CAACA;YACzEA,CAACA;YAEDN;;;eAGGA;YACIA,kCAAOA,GAAdA;gBACIO,IAAIA,CAACA,MAAMA,CAACA,OAAOA,EAAEA,CAACA;YAC1BA,CAACA;YAEDP;;;;eAIGA;YACIA,gCAAKA,GAAZA;gBACIQ,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA;YACtCA,CAACA;YAEDR;;;;eAIGA;YACIA,+BAAIA,GAAXA;gBACIS,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;YACrCA,CAACA;YAEDT;;;;eAIGA;YACIA,+BAAIA,GAAXA;gBACIU,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;YACrCA,CAACA;YACLV,uBAACA;QAADA,CAxGAjC,AAwGCiC,IAAAjC;QAxGYA,uBAAgBA,mBAwG5BA,CAAAA;IACLA,CAACA,EA1GmBD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QA0GzBA;AAADA,CAACA,EA1GM,YAAY,KAAZ,YAAY,QA0GlB;;AC1GD,IAAO,YAAY,CA6ElB;AA7ED,WAAO,YAAY;IAACA,IAAAA,MAAMA,CA6EzBA;IA7EmBA,WAAAA,MAAMA;QAACC,IAAAA,QAAQA,CA6ElCA;QA7E0BA,WAAAA,QAAQA,EAACA,CAACA;YAEjC4C,AAKCA;;eAHEA;;gBAMCC;;;mBAGGA;gBACHA,kBAAYA,UAAUA;oBAIfC,WAAMA,GAAGA,UAAUA,UAAUA;wBAChC,IAAI,IAAI,GAAG,IAAI,CAAC;wBAChB,IAAI,IAAI,GAAQ,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;wBACrD,IAAI,GAAG,GAAQ,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;wBAC/C,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;wBACtB,IAAI,cAAc,GAAG,IAAI,CAAC;wBAC1B,EAAE,CAAC,CAAC,UAAU,CAAC,CAAA,CAAC;4BACZ,IAAI,IAAI,GAAG,OAAO,UAAU,CAAC,QAAQ,CAAC;4BACtC,EAAE,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;gCACpB,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;4BAC/C,CAAC;4BAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ,IAAI,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;gCAC3D,cAAc,GAAG,UAAU,CAAC,QAAQ,CAAC;4BACzC,CAAC;wBACL,CAAC;wBAED,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAA,CAAC;4BACjB,cAAc,GAAG,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC;wBACnE,CAAC;wBAED,cAAc,CAAC,OAAO,CAAC,UAAS,IAAI;4BAChC,IAAI,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;4BAC1B,EAAE,CAAC,CAAC,SAAS,CAAC,CAAA,CAAC;gCACX,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;4BACrC,CAAC;wBACL,CAAC,CAAC,CAAC;oBACP,CAAC,CAAAA;oBA5BGA,IAAIA,CAACA,MAAMA,CAACA,UAAUA,CAACA,CAACA;gBAC5BA,CAACA;gBA6BDD;;;;mBAIGA;gBACIA,sBAAGA,GAAVA,UAAWA,QAAQA;oBACfE,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;gBACpCA,CAACA;gBAEDF;;;mBAGGA;gBACIA,wBAAKA,GAAZA;oBACIG,IAAIA,CAACA,WAAWA,GAAGA,EAAEA,CAACA;gBAC1BA,CAACA;gBAEDH;;;;mBAIGA;gBACIA,sBAAGA,GAAVA,UAAWA,IAAIA;oBACXI,IAAIA,IAAIA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,MAAMA,CAACA;oBACnCA,IAAIA,GAAGA,GAAGA,IAAIA,CAACA;oBACfA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAGA,CAACA,GAAGA,IAAIA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;wBAC7BA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA;oBACnCA,CAACA;oBAEDA,MAAMA,CAACA,GAAGA,CAACA;gBACfA,CAACA;gBACLJ,eAACA;YAADA,CArECD,AAqEAC,IAAAD;YArEaA,iBAAQA,WAqErBA,CAAAA;QACLA,CAACA,EA7E0B5C,QAAQA,GAARA,eAAQA,KAARA,eAAQA,QA6ElCA;IAADA,CAACA,EA7EmBD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QA6EzBA;AAADA,CAACA,EA7EM,YAAY,KAAZ,YAAY,QA6ElB;AAED,IAAO,YAAY,CA8Bd;AA9BL,WAAO,YAAY;IAACA,IAAAA,MAAMA,CA8BrBA;IA9BeA,WAAAA,MAAMA;QAACC,IAAAA,QAAQA,CA8B9BA;QA9BsBA,WAAAA,QAAQA;YAAC4C,IAAAA,OAAOA,CA8BtCA;YA9B+BA,WAAAA,OAAOA,EAACA,CAACA;gBAC1BM,gBAAQA,GAAGA;oBAClBA,WAAWA;oBACXA,kBAAkBA;iBACrBA,CAACA;gBAESA,YAAIA,GAAGA;oBACdA,WAAWA;oBACXA,kBAAkBA;oBAClBA,OAAOA;oBACPA,oBAAoBA;oBACpBA,kBAAkBA;oBAClBA,aAAaA;oBACbA,YAAYA;oBACZA,YAAYA;oBACZA,OAAOA;oBACPA,YAAYA;oBACZA,OAAOA;oBACPA,aAAaA;oBACbA,YAAYA;oBACZA,YAAYA;oBACZA,YAAYA;oBACZA,YAAYA;oBACZA,OAAOA;oBACPA,YAAYA;oBACZA,aAAaA;oBACbA,OAAOA;oBACPA,OAAOA;oBACPA,YAAYA;iBACfA,CAACA;YACNA,CAACA,EA9B+BN,OAAOA,GAAPA,gBAAOA,KAAPA,gBAAOA,QA8BtCA;QAADA,CAACA,EA9BsB5C,QAAQA,GAARA,eAAQA,KAARA,eAAQA,QA8B9BA;IAADA,CAACA,EA9BeD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QA8BrBA;AAADA,CAACA,EA9BE,YAAY,KAAZ,YAAY,QA8Bd;AAGD,IAAO,YAAY,CAsJlB;AAtJD,WAAO,YAAY;IAACA,IAAAA,MAAMA,CAsJzBA;IAtJmBA,WAAAA,MAAMA;QAACC,IAAAA,QAAQA,CAsJlCA;QAtJ0BA,WAAAA,QAAQA;YAAC4C,IAAAA,SAASA,CAsJ5CA;YAtJmCA,WAAAA,SAASA,EAACA,CAACA;gBAG5CO,AAICA;;;kBADCA;gBACUA,gBAAMA,GAAGA;oBAChBA,AACGA,QADKA;wBACDA;oBACJA,IAAIA;oBACJA,KAAKA;oBACLA,IAAIA;oBACJA,IAAIA;oBACJA,KAAKA;oBACLA,IAAIA;oBACJA,IAAIA;oBACJA,KAAKA;oBACLA,KAAKA;oBACLA,IAAIA;oBACJA,KAAKA;oBACLA,IAAIA;oBACJA,IAAIA;oBACJA,MAAMA;oBACNA,MAAMA;oBACNA,KAAKA;oBACLA,MAAMA;oBACNA,IAAIA;oBAEPA,AACEA,SADOA;uBACJA;oBACHA,MAAMA;oBACNA,OAAOA;oBACPA,QAAQA;oBACRA,OAAOA;oBACPA,KAAKA;oBACLA,QAAQA;oBACRA,MAAMA;oBACNA,IAAIA;oBACJA,OAAOA;oBACPA,IAAIA;oBACJA,KAAKA;oBACLA,KAAKA;oBACLA,KAAKA;oBACLA,IAAIA;oBACJA,IAAIA;oBACJA,IAAIA;oBACJA,SAASA;oBACTA,MAAMA;oBACNA,KAAKA;oBACLA,IAAIA;oBACJA,KAAKA;oBACLA,QAAQA;oBACRA,OAAOA;oBACPA,MAAMA;oBACNA,KAAKA;oBACLA,IAAIA;oBACJA,MAAMA;oBACNA,QAAQA;oBACRA,MAAMA;oBACNA,MAAMA;oBACNA,OAAOA;oBACPA,KAAKA;oBACLA,MAAMA;oBACNA,KAAKA;oBACLA,KAAKA;oBACLA,KAAKA;oBACLA,KAAKA;oBACLA,MAAMA;oBACNA,IAAIA;oBACJA,KAAKA;oBACLA,MAAMA;oBACNA,KAAKA;oBACLA,KAAKA;oBACLA,KAAKA;oBACLA,SAASA;oBACTA,GAAGA;oBACHA,IAAIA;oBACJA,IAAIA;oBACJA,MAAMA;oBACNA,IAAIA;oBACJA,IAAIA;oBACJA,KAAKA;oBACLA,MAAMA;oBACNA,OAAOA;oBACPA,KAAKA;oBACLA,MAAMA;oBACNA,QAAQA;oBACRA,KAAKA;oBACLA,IAAIA;oBACJA,OAAOA;oBACPA,MAAMA;oBACNA,MAAMA;oBACNA,IAAIA;oBACJA,SAASA;oBACTA,IAAIA;oBACJA,KAAKA;oBACLA,KAAKA;oBACLA,IAAIA;oBACJA,KAAKA;oBACLA,OAAOA;oBACPA,IAAIA;oBACJA,MAAMA;oBACNA,IAAIA;oBACJA,OAAOA;oBACPA,KAAKA;oBACLA,KAAKA;oBACLA,QAAQA;oBACRA,MAAMA;oBACNA,KAAKA;oBACLA,MAAMA;oBACNA,KAAKA;oBACLA,QAAQA;oBACRA,OAAOA;oBACPA,IAAIA;oBACJA,MAAMA;oBACNA,MAAMA;oBACNA,MAAMA;oBACNA,KAAKA;oBACLA,OAAOA;oBACPA,MAAMA;oBACNA,MAAMA;oBACNA,OAAOA;oBACPA,OAAOA;oBACPA,MAAMA;oBACNA,MAAMA;oBACNA,KAAKA;oBACLA,IAAIA;oBACJA,KAAKA;oBACLA,MAAMA;oBACNA,IAAIA;oBACJA,OAAOA;oBACPA,KAAKA;oBACLA,IAAIA;oBACJA,MAAMA;oBACNA,MAAMA;oBACNA,MAAMA;oBACNA,OAAOA;oBACPA,OAAOA;oBACPA,OAAOA;oBACPA,KAAKA;oBACLA,MAAMA;oBACNA,KAAKA;oBACLA,MAAMA;oBACNA,MAAMA;oBACNA,OAAOA;oBACPA,KAAKA;oBACLA,KAAKA;oBACLA,MAAMA;iBACXA,CAACA;YACNA,CAACA,EAtJmCP,SAASA,GAATA,kBAASA,KAATA,kBAASA,QAsJ5CA;QAADA,CAACA,EAtJ0B5C,QAAQA,GAARA,eAAQA,KAARA,eAAQA,QAsJlCA;IAADA,CAACA,EAtJmBD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QAsJzBA;AAADA,CAACA,EAtJM,YAAY,KAAZ,YAAY,QAsJlB;AAGD,IAAO,YAAY,CAiOlB;AAjOD,WAAO,YAAY;IAACA,IAAAA,MAAMA,CAiOzBA;IAjOmBA,WAAAA,MAAMA;QAACC,IAAAA,QAAQA,CAiOlCA;QAjO0BA,WAAAA,QAAQA;YAAC4C,IAAAA,EAAEA,CAiOrCA;YAjOmCA,WAAAA,EAAEA,EAACA,CAACA;gBACxCQ,AAQIA;;;mBALDA;gBAECA;;mBAEGA;mCACuBA,KAAKA;oBAC3BC,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,WAAWA,EAAEA,CAACA;gBAC/BA,CAACA;gBAHeD,YAASA,YAGxBA,CAAAA;gBAEDA,AAGAA;;mBADGA;+BACmBA,KAAKA;oBACvBE,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,WAAWA,EAAEA,IAAIA,CAACA,CAACA;gBAC5CA,CAACA;gBAHeF,QAAKA,QAGpBA,CAAAA;gBAEDA,AAGAA;;mBADGA;4CACgCA,KAAKA;oBACpCG,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,EAAEA,CAACA,CAACA,KAAKA,CAACA,KAAKA,CAACA,mBAAmBA,CAACA,CAACA;wBACjCA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA,EAAEA,KAAKA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA;oBAE7CA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBANeH,qBAAkBA,qBAMjCA,CAAAA;gBAEDA,AAGAA;;mBADGA;0CAC8BA,KAAKA;oBAClCI,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,EAAEA,GAAGA,CAACA,CAACA;gBACrCA,CAACA;gBAHeJ,mBAAgBA,mBAG/BA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BK,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,iBAAiBA,EAAEA,OAAOA,CAACA,CAACA,IAAIA,EAAEA,CAACA;oBACzDA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,MAAMA,EAAEA,KAAKA,CAACA,CAACA;oBACrCA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,WAAWA,EAAEA,KAAKA,CAACA,CAACA;oBAC1CA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;oBAEjCA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBAReL,aAAUA,aAQzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BM,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,cAAcA,EAAEA,KAAKA,CAACA,CAACA;oBAC7CA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;oBAEjCA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBANeN,aAAUA,aAMzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;+BACmBA,KAAKA;oBACvBO,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,kBAAkBA,EAAEA,KAAKA,CAACA,CAACA;oBACjDA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,YAAYA,EAAEA,IAAIA,CAACA,CAACA;oBAE1CA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBANeP,QAAKA,QAMpBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BQ,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,qBAAqBA,EAAEA,OAAOA,CAACA,CAACA;oBACtDA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,EAAEA,GAAGA,CAACA,CAACA;oBAClCA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;oBAEjCA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBAPeR,aAAUA,aAOzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;+BACmBA,KAAKA;oBACvBS,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,uBAAuBA,EAAEA,MAAMA,CAACA,CAACA;gBAC1DA,CAACA;gBAHeT,QAAKA,QAGpBA,CAAAA;gBAEDA,AAGAA;;mBADGA;qCACyBA,KAAKA;oBAC7BU,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,EAAEA,GAAGA,CAACA,CAACA;gBACrCA,CAACA;gBAHeV,cAAWA,cAG1BA,CAAAA;gBAEDA,AAGAA;;mBADGA;qCACyBA,KAAKA;oBAC7BW,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,EAAEA,GAAGA,CAACA,CAACA;gBACrCA,CAACA;gBAHeX,cAAWA,cAG1BA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BY,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;gBACpCA,CAACA;gBAHeZ,aAAUA,aAGzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5Ba,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,aAAaA,EAAEA,KAAKA,CAACA,CAACA;gBAC/CA,CAACA;gBAHeb,aAAUA,aAGzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5Bc,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,WAAWA,EAAEA,KAAKA,CAACA,CAACA;oBAC1CA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;oBAEjCA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBANed,aAAUA,aAMzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;+BACmBA,KAAKA;oBACvBe,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,MAAMA,EAAEA,IAAIA,CAACA,CAACA;gBACvCA,CAACA;gBAHef,QAAKA,QAGpBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BgB,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;gBACpCA,CAACA;gBAHehB,aAAUA,aAGzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;qCACyBA,KAAKA;oBAC7BiB,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,EAAEA,GAAGA,CAACA,CAACA;gBACrCA,CAACA;gBAHejB,cAAWA,cAG1BA,CAAAA;gBAEDA,AAGAA;;mBADGA;+BACmBA,KAAKA;oBACvBkB,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,gBAAgBA,EAAEA,IAAIA,CAACA,CAACA;gBACjDA,CAACA;gBAHelB,QAAKA,QAGpBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BmB,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;oBACjCA,KAAKA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;oBAClCA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;gBALenB,aAAUA,aAKzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;+BACmBA,KAAKA;oBACvBoB,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,gBAAgBA,EAAEA,IAAIA,CAACA,CAACA;gBACjDA,CAACA;gBAHepB,QAAKA,QAGpBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BqB,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,CAACA;gBACnCA,CAACA;gBAHerB,aAAUA,aAGzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;oCACwBA,KAAKA;oBAC5BsB,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA;wBAACA,MAAMA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA,CAACA,GAAGA,KAAKA,CAACA,MAAMA,CAACA,CAACA,EAAEA,KAAKA,CAACA,MAAMA,CAACA,CAACA,OAAOA,CAACA,UAAUA,EAAEA,EAAEA,CAACA,CAACA;gBACnFA,CAACA;gBAHetB,aAAUA,aAGzBA,CAAAA;gBAEDA,AAGAA;;mBADGA;0CAC8BA,CAACA;oBAC9BuB,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA;wBAACA,MAAMA,CAACA;oBACfA,IAAIA,CAACA,GAAGA,CAACA,CAACA,WAAWA,EAAEA,CAACA;oBACxBA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,QAAQA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAC9CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,UAAUA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAChDA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,EAAEA,IAAIA,CAACA,CAACA;oBAC1CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBACzCA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,QAAQA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAC9CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,QAAQA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAC9CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBACzCA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,SAASA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAC/CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,EAAEA,IAAIA,CAACA,CAACA;oBAC1CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,QAAQA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAC9CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,MAAMA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAC5CA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,IAAIA,MAAMA,CAACA,OAAOA,EAAEA,GAAGA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBAC7CA,MAAMA,CAACA,CAACA,CAACA;gBACbA,CAACA;gBAhBevB,mBAAgBA,mBAgB/BA,CAAAA;YACLA,CAACA,EAjOmCR,EAAEA,GAAFA,WAAEA,KAAFA,WAAEA,QAiOrCA;QAADA,CAACA,EAjO0B5C,QAAQA,GAARA,eAAQA,KAARA,eAAQA,QAiOlCA;IAADA,CAACA,EAjOmBD,MAAMA,GAANA,mBAAMA,KAANA,mBAAMA,QAiOzBA;AAADA,CAACA,EAjOM,YAAY,KAAZ,YAAY,QAiOlB","file":"winjscontrib.search.js","sourcesContent":["declare module WinJSContrib.Utils {\r\n    function readProperty(obj: any, name: string);\r\n}\r\n\r\ndeclare module WinJSContrib {\r\n    \r\n\r\n    class Messenger {\r\n        constructor(worker, worker2);\r\n\r\n        start(name, data?: any): WinJS.Promise<any>;\r\n        dispose();\r\n    }\r\n\r\n    module Messenger {\r\n\t\tclass SmartWorker {\r\n\t\t\tconstructor(path: string);\r\n\t\t\tstart(eventname: string, data?: any): WinJS.Promise<any>;\r\n\t\t\tdispose();\r\n\t\t}\r\n    }\r\n}\r\n\r\nmodule WinJSContrib.Search {\r\n    /*\r\n     look at http://burakkanber.com/blog/machine-learning-full-text-search-in-javascript-relevance-scoring/\r\n     */\r\n     \r\n    /**\r\n     * definition for a field\r\n     * @typedef {Object} WinJSContrib.Search.FieldDefinition\r\n     * @property {number} weight weight of the item to rank search results\r\n     * @example\r\n     * { weight : 2}\r\n     */\r\n\r\n    /**\r\n     * Definition of an index content\r\n     * @typedef {Object} WinJSContrib.Search.IndexDefinition\r\n     * @property {string} key name of the property considered as a key for the items\r\n     * @property {Object} fields object containing item's property path as name, and {@link WinJSContrib.Search.FieldDefinition} as value\r\n     * @example\r\n     * { key: 'id', fields: { \"title\": { weight : 5}, \"description.detail\": { weight : 2}}}\r\n     */\r\n\r\n\r\n    /**\r\n     * Small text search features based on objet indexing and text stemming. It's inspired by tools like Lucene.\r\n     * For now indexes are stored with WinRT files, but it will soon be extended to support an extensible storage mecanism\r\n     * @namespace WinJSContrib.Search\r\n     */\r\n\r\n\r\n    /**     \r\n     * path for search worker script file\r\n     * @field WinJSContrib.Search.workerPath\r\n     * @type {string}\r\n     */\r\n    export var workerPath = './scripts/winjscontrib/winjscontrib.search.worker.js';\r\n    \r\n\r\n    export function writeWinRTFile(folder, fileName, CreationCollisionOption, objectGraph) {\r\n        return new WinJS.Promise(function (complete, error) {\r\n            folder.createFileAsync(fileName, CreationCollisionOption).done(function (docfile) {\r\n                Windows.Storage.FileIO.writeTextAsync(docfile, JSON.stringify(objectGraph)).done(function () {\r\n                    if (WinJS && WinJS.log) WinJS.log(\"File written \" + docfile.path);\r\n                    complete();\r\n                }, error);\r\n            }, error);\r\n        });\r\n    }\r\n\r\n    export function openWinRTFile(folder, fileName) {\r\n        return new WinJS.Promise(function (complete, error) {\r\n            folder.createFileAsync(fileName, Windows.Storage.CreationCollisionOption.openIfExists).then(function (file) {\r\n                Windows.Storage.FileIO.readTextAsync(file).done(function (text) {\r\n                    if (text)\r\n                        complete(JSON.parse(text));\r\n                    else\r\n                        complete();\r\n                }, error);\r\n            }, error);\r\n        });\r\n    }\r\n\r\n}\r\n","var __global = this;\r\nmodule WinJSContrib.Search {\r\n    var logger = WinJSContrib.Logs.getLogger(\"WinJSContrib.Search\");\r\n\r\n    export interface ISearchResultItem {\r\n        rank: number,\r\n        key: any,\r\n        item : any\r\n    }\r\n\r\n    export class Index {\r\n        public name: string;\r\n        public definition: any;\r\n        public onprogress: any;\r\n        public folderPromise: any;\r\n        public stopWords: any[];\r\n        public container: WinJSContrib.DataContainer.IDataContainer;\r\n        public items: any[] = [];\r\n        public storeData: boolean = true;\r\n        public pipeline: WinJSContrib.Search.Stemming.Pipeline;\r\n\r\n        /**\r\n         * Search index\r\n         * @class WinJSContrib.Search.Index\r\n         * @classdesc\r\n         * This class is the heart of the search engine. operations performed by this object are synchronous but exposes as promises.\r\n         * This way Index is almost interchangeable with {@link WinJSContrib.Search.IndexWorkerProxy}\r\n         * @param {string} name index name\r\n         * @param {WinJSContrib.Search.IndexDefinition} definition index definition\r\n         */\r\n        constructor(name, definition, container?: WinJSContrib.DataContainer.IDataContainer) {\r\n            var index = this;\r\n            index.name = name || 'defaultIndex';\r\n            index.definition = definition || {};\r\n            index.items = [];\r\n            index.storeData = true;\r\n            index.onprogress = undefined;\r\n\r\n            index.stopWords = WinJSContrib.Search.Stemming.StopWords.common;\r\n            index.pipeline = new WinJSContrib.Search.Stemming.Pipeline(definition);\r\n            \r\n            if (container) {\r\n                index.container = container;\r\n            }\r\n            else if (WinJSContrib.DataContainer && WinJSContrib.DataContainer.current) {\r\n                index.container = WinJSContrib.DataContainer.current.child(\"WinJSContribSearch\");\r\n            } else if (__global.Windows) {\r\n                index.folderPromise = Windows.Storage.ApplicationData.current.localFolder.createFolderAsync(\"WinJSContribSearch\", Windows.Storage.CreationCollisionOption.openIfExists).then(function (folder) {\r\n                    return folder;\r\n                }, function (err) {\r\n                    logger.error(\"Folder init error \" + err.message);\r\n                    return null;\r\n                });\r\n            } else {\r\n                throw \"You must provide at lease a default WinJSContrib.DataContainer to persist search index\";\r\n            }\r\n        }\r\n\r\n        /**\r\n         * get number of items in index\r\n         * @function WinJSContrib.Search.Index.prototype.count\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public count() {\r\n            return WinJS.Promise.wrap(this.items.length);\r\n        }\r\n\r\n        /**\r\n         * clear index\r\n         * @function WinJSContrib.Search.Index.prototype.clear\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public clear() {\r\n            this.items = [];\r\n            return WinJS.Promise.wrap();\r\n        }\r\n\r\n        /**\r\n         * release index\r\n         * @function WinJSContrib.Search.Index.prototype.dispose\r\n         */\r\n        public dispose() {\r\n            this.items = [];\r\n            this.definition = undefined;\r\n            this.stopWords = undefined;\r\n            this.pipeline.clear();\r\n            this.pipeline = undefined;\r\n            this.onprogress = undefined;\r\n            this.folderPromise = undefined;\r\n        }\r\n\r\n        /**\r\n         * export index\r\n         * @function WinJSContrib.Search.Index.prototype.export\r\n         */\r\n        public export() {\r\n            return { definition: this.definition, items: this.items };\r\n        }\r\n\r\n        /**\r\n         * serialize index to string\r\n         * @function WinJSContrib.Search.Index.prototype.toString\r\n         */\r\n        public toString() {\r\n            return JSON.stringify(this.export());\r\n        }\r\n\r\n        /**\r\n         * load index from serialized string\r\n         * @function WinJSContrib.Search.Index.prototype.loadData\r\n         */\r\n        public loadData(indexString) {\r\n            var tmp = indexString;\r\n\r\n            if (typeof tmp == 'String')\r\n                tmp = JSON.parse(indexString);\r\n\r\n            if (tmp) {\r\n                if (tmp.definition && tmp.definition.fields && tmp.items && tmp.items.length) {\r\n                    this.definition = tmp.definition;\r\n                    this.pipeline.reload(this.definition);\r\n                }\r\n                this.items = tmp.items || [];\r\n            }\r\n        }\r\n\r\n        /**\r\n         * save index to storage\r\n         * @function WinJSContrib.Search.Index.prototype.save\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public save(): WinJS.Promise<any> {\r\n            var exp = this.export();\r\n            if (this.container) {\r\n                return this.container.save(this.name, exp);\r\n            } else if (__global.Windows) {\r\n                return this.folderPromise.then((folder) => {\r\n                    return writeWinRTFile(folder, this.name, Windows.Storage.CreationCollisionOption.replaceExisting, exp).then((filename) => {\r\n                        return { index: this };\r\n                    });\r\n                });\r\n            } else {\r\n                return WinJS.Promise.wrapError({ message: \"you must provide a WinJSContrib.DataContainer to persist seach index\" });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * load index from storage\r\n         * @function WinJSContrib.Search.Index.prototype.load\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public load(): WinJS.Promise<any> {\r\n            if (this.container) {\r\n                return this.container.read(this.name).then((savedidx) => {\r\n                    this.loadData(savedidx);\r\n                });\r\n            } else if (__global.Windows) {\r\n                return this.folderPromise.then((folder) => {\r\n                    return openWinRTFile(folder, this.name).then((savedidx) => {\r\n                        this.loadData(savedidx);\r\n                    });\r\n                });\r\n            } else {\r\n                return WinJS.Promise.wrapError({ message: \"you must provide a WinJSContrib.DataContainer to persist seach index\" });\r\n            }\r\n        }\r\n\r\n        _runSearch(querytext, options): ISearchResultItem[] {\r\n            var index = this;\r\n            var preparedTokens = index.processText(querytext);\r\n            var searchResult: ISearchResultItem[] = [];\r\n            var size = index.items.length;\r\n            var lastprogress = -1;\r\n\r\n            for (var i = 0; i < size; i++) {\r\n                var itemResult = index._searchItem(preparedTokens, index.items[i]);\r\n                if (itemResult) {\r\n                    searchResult.push(itemResult);\r\n                }\r\n\r\n                var p = (100 * i / size) << 0;\r\n                if (index.onprogress && p != lastprogress)\r\n                    index.onprogress({ progressPercent: p, items: size, current: i });\r\n                lastprogress = p;\r\n            }\r\n\r\n            searchResult = searchResult.sort(function (a, b) {\r\n                return b.rank - a.rank;\r\n            });\r\n\r\n            if (options && options.limit) {\r\n                searchResult = searchResult.slice(0, options.limit);\r\n            }\r\n\r\n            return searchResult;\r\n        }\r\n\r\n        /**\r\n         * search index\r\n         * @function WinJSContrib.Search.Index.prototype.search\r\n         * @param {string} querytext\r\n         * @returns {WinJS.Promise} search result\r\n         */\r\n        public search(querytext, options): WinJS.Promise<ISearchResultItem[]> {\r\n            return WinJS.Promise.wrap(this._runSearch(querytext, options));\r\n        }\r\n\r\n        _searchItem(searchtokens, indexitem): ISearchResultItem {\r\n            var index = this;\r\n            var size = indexitem.items.length;\r\n            var points = 0;\r\n\r\n            for (var i = 0; i < size; i++) {\r\n                var tokenitem = indexitem.items[i];\r\n\r\n                if (searchtokens.untokenized && tokenitem.tokens.untokenized == searchtokens.untokenized) {\r\n                    points += 4 * tokenitem.weight;\r\n                }\r\n\r\n                if (searchtokens.untokenized && tokenitem.tokens.untokenized && tokenitem.tokens.untokenized.indexOf(searchtokens.untokenized) >= 0) {\r\n                    points += 2 * tokenitem.weight;\r\n                }\r\n\r\n                for (var t = 0; t < tokenitem.tokens.items.length; t++) {\r\n                    var token = tokenitem.tokens.items[t];\r\n                    for (var s = 0; s < searchtokens.items.length; s++) {\r\n                        var stoken = searchtokens.items[s];\r\n\r\n                        if (stoken.length > 1 && token == stoken) {\r\n                            points += tokenitem.weight;\r\n                        }\r\n\r\n                        if (stoken.length > 2 && token.indexOf(stoken) >= 0) {\r\n                            points += tokenitem.weight * 0.2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (points) {\r\n                return { rank: points, key: indexitem.key, item: indexitem.rawdata };\r\n            }\r\n        }\r\n\r\n        /**\r\n         * set index definition\r\n         * @function WinJSContrib.Search.Index.prototype.define\r\n         */\r\n        public define(obj) {\r\n            this.definition = obj;\r\n        }\r\n\r\n        _add(obj) {\r\n            var index = this;\r\n            var key = undefined;\r\n            var def = index.definition;\r\n\r\n            var res = {\r\n                items: [],\r\n                rawdata: undefined,\r\n                key: undefined\r\n            }\r\n\r\n            if (!def || !def.fields)\r\n                return;\r\n\r\n            if (index.storeData)\r\n                res.rawdata = obj;\r\n            if (def.key)\r\n                res.key = WinJSContrib.Utils.readProperty(obj, def.key);\r\n\r\n            for (var elt in def.fields) {\r\n                if (def.fields.hasOwnProperty(elt)) {\r\n                    var item = def.fields[elt];\r\n                    var weight = item.weight || 1;\r\n                    var value = WinJSContrib.Utils.readProperty(obj, elt.split('.'));\r\n\r\n                    if (value) {\r\n                        var valueType = typeof value;\r\n\r\n                        if (valueType !== 'string' && (value.length !== null && value.length !== undefined)) {\r\n                            for (var i = 0, l = value.length; i < l; i++) {\r\n                                var item = value[i];\r\n                                if (item && typeof item == 'string') {\r\n                                    res.items.push({ tokens: index.processText(item), weight: weight });\r\n                                }\r\n                            }\r\n                        } else if (valueType === 'string') {\r\n                            res.items.push({ tokens: index.processText(value), weight: weight });\r\n                        } else {\r\n                            logger.warn(elt + \" is of type \" + valueType);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            index.items.push(res);\r\n\r\n            return WinJS.Promise.wrap(res);\r\n        }\r\n\r\n        /**\r\n         * add an object to index\r\n         * @function WinJSContrib.Search.Index.prototype.add\r\n         * @param {Object} obj object to index\r\n         * @param {WinJSContrib.Search.IndexDefinition} definition index definition (optional), use index's definition if not defined\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public add(obj) {\r\n            return WinJS.Promise.wrap(this._add(obj));\r\n        }\r\n\r\n        /**\r\n         * add an array of objects to index\r\n         * @function WinJSContrib.Search.Index.prototype.addRange\r\n         * @param {Array} items items array\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public addRange(arr, progress) {\r\n            var index = this;\r\n            var size = arr.length;\r\n            var indexed = [];\r\n            var lastprogress = -1;\r\n\r\n            for (var i = 0; i < size; i++) {\r\n                var item = index._add(arr[i]);\r\n                if (item)\r\n                    indexed.push(item);\r\n\r\n                var p = (100 * i / size) << 0;\r\n                if (progress && p != lastprogress)\r\n                    progress({ progressPercent: p, items: size, current: i });\r\n                lastprogress = p;\r\n            }\r\n\r\n            return WinJS.Promise.wrap({ indexed: indexed.length });\r\n        }\r\n\r\n        refresh() {\r\n            var index = this;\r\n            var old = index.items;\r\n            var size = old.length;\r\n            index.items = [];\r\n            for (var i = 0; i < size; i++) {\r\n                var item = index.items[i];\r\n                index.add(item.rawdata);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * prepare a text for search by applying stemming and tokenizing text\r\n         * @function WinJSContrib.Search.Index.prototype.processText\r\n         * @param {string} text\r\n         */\r\n        public processText(text) {\r\n            if (typeof text == \"number\")\r\n                text = text.toString();\r\n\r\n            var tokens = this.tokenize(text);\r\n            var res = [];\r\n            var size = tokens.length;\r\n            for (var i = 0; i < size; i++) {\r\n                var txt = this.pipeline.run(tokens[i]);\r\n                if (txt.length > 1)\r\n                    res.push(txt);\r\n            }\r\n\r\n            return { items: res, untokenized: this.pipeline.run(text) };\r\n        }\r\n\r\n        /**\r\n         * Check if a word is a stopword\r\n         * @function WinJSContrib.Search.Index.prototype.checkWord\r\n         * @param {string} word\r\n         */\r\n        public checkWord(token) {\r\n            var size = this.stopWords.length;\r\n            for (var i = 0; i < size; i++) {\r\n                if (token == this.stopWords[i])\r\n                    return '';\r\n            }\r\n\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * split a string into words\r\n         * @function WinJSContrib.Search.Index.prototype.tokenize\r\n         * @param {string} text\r\n         */\r\n        public tokenize(token) {\r\n            var index = this;\r\n            var tokens = [];\r\n            if (!token || !token.split)\r\n                return tokens;\r\n\r\n            var words = token.split(/\\W+/);\r\n            for (var i = 0; i < words.length; i++) {\r\n                if (words[i].length > 0) {\r\n                    tokens.push(words[i]);\r\n                }\r\n            }\r\n\r\n            return tokens;\r\n        }\r\n    }\r\n}\r\n\r\n    \r\n","module WinJSContrib.Search {\r\n     export class IndexGroup {\r\n        indexes: any;\r\n\r\n        /**\r\n         * group of indexes\r\n         * @class WinJSContrib.Search.IndexGroup\r\n         * @param {Object} definitions object containing definitions\r\n         * @example\r\n         * var idxgroup = new WinJSContrib.Search.IndexGroup({ peoples: { \"firstname\": { weight: 42 }} });\r\n         */\r\n        constructor (definitions) {\r\n            /**         \r\n             * object containing indexes, stored by name\r\n             * @field\r\n             * @type Object \r\n             */\r\n            this.indexes = {};\r\n            if (definitions) {\r\n                for (var n in definitions) {\r\n                    var elt = definitions[n];\r\n                    if (!elt.useworker)\r\n                        this.indexes[n] = new WinJSContrib.Search.Index(n, elt.definition);\r\n                    else\r\n                        this.indexes[n] = new WinJSContrib.Search.IndexWorkerProxy(n, elt.definition);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * add an index to group\r\n         * @function WinJSContrib.Search.IndexGroup.prototype.addIndex\r\n         * @param {string} name index name\r\n         * @param {WinJSContrib.Search.IndexDefinition} definition index definition\r\n         * @params {boolean} async true if index must operate on a web worker\r\n         * @params {Array} items array of items to index\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public addIndex(name, definition, async, items): WinJS.Promise<any> {\r\n            if (async)\r\n                var idx = <any>new WinJSContrib.Search.IndexWorkerProxy(name, definition);\r\n            else\r\n                var idx = <any>new WinJSContrib.Search.Index(name, definition);\r\n\r\n\r\n            this.indexes[name] = idx;\r\n            if (items && items.length) {\r\n                return idx.addRange(items).then(function () {\r\n                    return idx;\r\n                });\r\n            }\r\n            return WinJS.Promise.wrap(idx);\r\n        }\r\n\r\n        /**\r\n         * add items to an index\r\n         * @function WinJSContrib.Search.IndexGroup.prototype.addRange\r\n         * @param {string} name index name\r\n         * @params {Array} items array of items to index\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public addRangefunction (name, items) {\r\n            var idx =  this.indexes[name];\r\n            if (idx && items && items.length) {\r\n                return idx.addRange(items);\r\n            }\r\n            return WinJS.Promise.wrapError({ message: 'search index ' + name + ' not found' });\r\n        }\r\n\r\n        /**\r\n         * search group's indexes\r\n         * @function WinJSContrib.Search.IndexGroup.prototype.search\r\n         * @param {string} querytext search query\r\n         */\r\n        public search(querytext) {\r\n            var group = this;\r\n            var searchresult = {\r\n                hasResult: false,\r\n                allResults: <ISearchResultItem[]>[]\r\n            };\r\n\r\n            function searchindex(name, index) {\r\n                return index.search(querytext).then((res) => {\r\n                    if (res && res.length) {\r\n                        res.forEach((item) => {\r\n                            item.searchItemType = name;\r\n                            searchresult.allResults.push(item);\r\n                        });\r\n                    }\r\n                    searchresult[name] = res;\r\n                });\r\n            }\r\n\r\n            var promises = [];\r\n\r\n            for (var n in this.indexes) {\r\n                promises.push(searchindex(n, this.indexes[n]));\r\n            }\r\n\r\n            return WinJS.Promise.join(promises).then(() => {\r\n                searchresult.allResults.sort(function (a, b) {\r\n                    return b.rank - a.rank;\r\n                });\r\n\r\n                searchresult.hasResult = searchresult.allResults.length > 0;\r\n                return searchresult;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * save group indexes\r\n         * @function WinJSContrib.Search.IndexGroup.prototype.save\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public save() {\r\n            var promises = [];\r\n            for (var n in this.indexes) {\r\n                promises.push(this.indexes[n].save());\r\n            }\r\n            return WinJS.Promise.join(promises);\r\n        }\r\n\r\n        /**\r\n         * load group indexes\r\n         * @function WinJSContrib.Search.IndexGroup.prototype.load\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public load() {\r\n            var promises = [];\r\n            for (var n in this.indexes) {\r\n                promises.push(this.indexes[n].load());\r\n            }\r\n            return WinJS.Promise.join(promises);\r\n        }\r\n\r\n        /**\r\n         * release all indexes\r\n         * @function WinJSContrib.Search.IndexGroup.prototype.dispose\r\n         */\r\n        public dispose() {\r\n            for (var n in this.indexes) {\r\n                this.indexes[n].dispose();\r\n            }\r\n            this.indexes = {};\r\n        }\r\n    }\r\n}\r\n\r\n    \r\n","module WinJSContrib.Search {\r\n    export class IndexWorkerProxy {\r\n        worker : WinJSContrib.Messenger.SmartWorker;\r\n\r\n        /**\r\n         * @classdesc\r\n         * Proxy for a {@link WinJSContrib.Search.Index} running in a web worker\r\n         * @class\r\n         * @param {string} name index name\r\n         * @param {WinJSContrib.Search.IndexDefinition} definition index definition\r\n         * @param {string} workerpath path for web worker script file (optional)\r\n         */\r\n        constructor(name : string, definition, workerpath?: string) {\r\n            var wrapper = this;\r\n            wrapper.worker = new WinJSContrib.Messenger.SmartWorker(workerpath || WinJSContrib.Search.workerPath);\r\n            wrapper.init(name, definition);\r\n        }\r\n\r\n        /**\r\n         * initialize worker\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.init\r\n         * @param {string} name\r\n         * @param {WinJSContrib.Search.IndexDefinition} definition index definition (optional), use index's definition if not defined\r\n         * @returns {WinJS.Promise} \r\n         */\r\n        public init(name, definition, load?) {\r\n            return this.worker.start('init', { name: name, load: load, definition: definition });\r\n        }\r\n\r\n        /**\r\n         * start search\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.search\r\n         * @param {string} searchTerm search query\r\n         * @param {Object} options\r\n         * @returns {WinJS.Promise} \r\n         */\r\n        public search(searchTerm, options) {\r\n            return this.worker.start('search', { searchTerm: searchTerm, options: options });\r\n        }\r\n\r\n        /**\r\n         * get the number of items in index\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.count\r\n         * @returns {WinJS.Promise} \r\n         */\r\n        public count() {\r\n            return this.worker.start('count');\r\n        }\r\n\r\n        /**\r\n         * add an object to index\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.add\r\n         * @param {Object} obj object to index\r\n         * @param {Object} options\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public add(data, options) {\r\n            return this.worker.start('index', { items: [data], options: options });\r\n        }\r\n\r\n        /**\r\n         * add an array of objects to index\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.addRange\r\n         * @param {Array} items items array\r\n         * @param {Object} options\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public addRange(data, options) {\r\n            return this.worker.start('index', { items: data, options: options });\r\n        }\r\n\r\n        /**\r\n         * release proxy\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.dispose\r\n         */\r\n        public dispose() {\r\n            this.worker.dispose();\r\n        }\r\n\r\n        /**\r\n         * clear index\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.clear\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public clear() {\r\n            return this.worker.start('clear');\r\n        }\r\n\r\n        /**\r\n         * load index from storage\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.load\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public load() {\r\n            return this.worker.start('load');\r\n        }\r\n\r\n        /**\r\n         * save index to storage\r\n         * @function WinJSContrib.Search.IndexWorkerProxy.prototype.save\r\n         * @returns {WinJS.Promise}\r\n         */\r\n        public save() {\r\n            return this.worker.start('save');\r\n        }\r\n    }\r\n}","module WinJSContrib.Search.Stemming {\r\n\r\n    /**\r\n     * @namespace\r\n     */\r\n        \r\n\r\n     export class Pipeline{\r\n        public _processors: any[];\r\n\r\n        /**\r\n         * stemming pipeline\r\n         * @class WinJSContrib.Search.Stemming.Pipeline\r\n         */\r\n        constructor(definition) {\r\n            this.reload(definition);\r\n        }\r\n\r\n        public reload = function (definition) {\r\n            var pipe = this;\r\n            var sets = <any>WinJSContrib.Search.Stemming.Presets;\r\n            var ops = <any>WinJSContrib.Search.Stemming.Op;\r\n            pipe._processors = [];\r\n            var processorNames = null;\r\n            if (definition){\r\n                var type = typeof definition.stemming;\r\n                if (type === 'string') {\r\n                    processorNames = sets[definition.stemming];\r\n                } else if (definition.stemming && definition.stemming.length) {\r\n                    processorNames = definition.stemming;\r\n                }\r\n            }\r\n\r\n            if (!processorNames){\r\n                processorNames = WinJSContrib.Search.Stemming.Presets.standard;\r\n            }\r\n\r\n            processorNames.forEach(function(name){\r\n                var processor = ops[name];\r\n                if (processor){\r\n                    pipe._processors.push(processor);\r\n                }\r\n            });\r\n        }   \r\n\r\n        /**\r\n         * add a stemming function to pipeline\r\n         * @function WinJSContrib.Search.Stemming.Pipeline.prototype.add\r\n         * @param {function} callback stemming function\r\n         */\r\n        public add(callback) {\r\n            this._processors.push(callback);\r\n        }\r\n\r\n        /**\r\n         * @function WinJSContrib.Search.Stemming.Pipeline.prototype.clear\r\n         * remove all stemming functions from pipeline\r\n         */\r\n        public clear() {\r\n            this._processors = [];\r\n        }\r\n\r\n        /**\r\n         * apply stemming pipeline to text\r\n         * @function WinJSContrib.Search.Stemming.Pipeline.prototype.run\r\n         * @param {string} text\r\n         */\r\n        public run(text) {\r\n            var size = this._processors.length;\r\n            var res = text;\r\n            for (var i = 0 ; i < size; i++) {\r\n                res = this._processors[i](res);\r\n            }\r\n\r\n            return res;\r\n        }\r\n    }\r\n}\r\n\r\nmodule WinJSContrib.Search.Stemming.Presets {\r\n        export var standard = [\r\n            \"lowerCase\",\r\n            \"removeDiacritics\"\r\n        ];\r\n\r\n        export var full = [\r\n            \"lowerCase\",\r\n            \"removeDiacritics\",\r\n            \"dedup\",\r\n            \"dropInitialLetters\",\r\n            \"dropBafterMAtEnd\",\r\n            \"transformCK\",\r\n            \"cTransform\",\r\n            \"dTransform\",\r\n            \"dropG\",\r\n            \"transformG\",\r\n            \"dropH\",\r\n            \"transformPH\",\r\n            \"transformQ\",\r\n            \"transformS\",\r\n            \"transformX\",\r\n            \"transformT\",\r\n            \"dropT\",\r\n            \"transformV\",\r\n            \"transformWH\",\r\n            \"dropW\",\r\n            \"dropY\",\r\n            \"transformZ\"\r\n        ];\r\n    }\r\n\r\n\r\n    module WinJSContrib.Search.Stemming.StopWords {\r\n    \r\n   \r\n       /**\r\n       * common stop words\r\n       * @field WinJSContrib.Search.Stemming.StopWords.common\r\n       */\r\n        export var common = [\r\n            //french\r\n               \"de\",\r\n               \"du\",\r\n               \"des\",\r\n               \"le\",\r\n               \"la\",\r\n               \"les\",\r\n               \"te\",\r\n               \"ta\",\r\n               \"ton\",\r\n               \"tes\",\r\n               \"un\",\r\n               \"une\",\r\n               \"et\",\r\n               \"ou\",\r\n               \"mais\",\r\n               \"pour\",\r\n               \"par\",\r\n               \"avec\",\r\n               \"si\",\r\n\r\n            //english\r\n              \"a\",\r\n              \"able\",\r\n              \"about\",\r\n              \"across\",\r\n              \"after\",\r\n              \"all\",\r\n              \"almost\",\r\n              \"also\",\r\n              \"am\",\r\n              \"among\",\r\n              \"an\",\r\n              \"and\",\r\n              \"any\",\r\n              \"are\",\r\n              \"as\",\r\n              \"at\",\r\n              \"be\",\r\n              \"because\",\r\n              \"been\",\r\n              \"but\",\r\n              \"by\",\r\n              \"can\",\r\n              \"cannot\",\r\n              \"could\",\r\n              \"dear\",\r\n              \"did\",\r\n              \"do\",\r\n              \"does\",\r\n              \"either\",\r\n              \"else\",\r\n              \"ever\",\r\n              \"every\",\r\n              \"for\",\r\n              \"from\",\r\n              \"get\",\r\n              \"got\",\r\n              \"had\",\r\n              \"has\",\r\n              \"have\",\r\n              \"he\",\r\n              \"her\",\r\n              \"hers\",\r\n              \"him\",\r\n              \"his\",\r\n              \"how\",\r\n              \"however\",\r\n              \"i\",\r\n              \"if\",\r\n              \"in\",\r\n              \"into\",\r\n              \"is\",\r\n              \"it\",\r\n              \"its\",\r\n              \"just\",\r\n              \"least\",\r\n              \"let\",\r\n              \"like\",\r\n              \"likely\",\r\n              \"may\",\r\n              \"me\",\r\n              \"might\",\r\n              \"most\",\r\n              \"must\",\r\n              \"my\",\r\n              \"neither\",\r\n              \"no\",\r\n              \"nor\",\r\n              \"not\",\r\n              \"of\",\r\n              \"off\",\r\n              \"often\",\r\n              \"on\",\r\n              \"only\",\r\n              \"or\",\r\n              \"other\",\r\n              \"our\",\r\n              \"own\",\r\n              \"rather\",\r\n              \"said\",\r\n              \"say\",\r\n              \"says\",\r\n              \"she\",\r\n              \"should\",\r\n              \"since\",\r\n              \"so\",\r\n              \"some\",\r\n              \"than\",\r\n              \"that\",\r\n              \"the\",\r\n              \"their\",\r\n              \"them\",\r\n              \"then\",\r\n              \"there\",\r\n              \"these\",\r\n              \"they\",\r\n              \"this\",\r\n              \"tis\",\r\n              \"to\",\r\n              \"too\",\r\n              \"twas\",\r\n              \"us\",\r\n              \"wants\",\r\n              \"was\",\r\n              \"we\",\r\n              \"were\",\r\n              \"what\",\r\n              \"when\",\r\n              \"where\",\r\n              \"which\",\r\n              \"while\",\r\n              \"who\",\r\n              \"whom\",\r\n              \"why\",\r\n              \"will\",\r\n              \"with\",\r\n              \"would\",\r\n              \"yet\",\r\n              \"you\",\r\n              \"your\"\r\n        ];\r\n    }\r\n\r\n    \r\n    module WinJSContrib.Search.Stemming.Op {\r\n    /**\r\n     * built-in stemmings\r\n     * @namespace\r\n     */\r\n    \r\n        /**\r\n         * \r\n         */\r\n        export function lowerCase(token) {\r\n            if (!token) return;\r\n            return token.toLowerCase();\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dedup(token) {\r\n            if (!token) return;\r\n            return token.replace(/([^c])\\1/g, '$1');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropInitialLetters(token) {\r\n            if (!token) return;\r\n            if (token.match(/^(kn|gn|pn|ae|wr)/))\r\n                return token.substr(1, token.length - 1);\r\n\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropBafterMAtEnd(token) {\r\n            if (!token) return;\r\n            return token.replace(/mb$/, 'm');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function cTransform(token) {\r\n            if (!token) return;\r\n            token = token.replace(/([^s]|^)(c)(h)/g, '$1x$3').trim();\r\n            token = token.replace(/cia/g, 'xia');\r\n            token = token.replace(/c(i|e|y)/g, 's$1');\r\n            token = token.replace(/c/g, 'k');\r\n\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dTransform(token) {\r\n            if (!token) return;\r\n            token = token.replace(/d(ge|gy|gi)/g, 'j$1');\r\n            token = token.replace(/d/g, 't');\r\n\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropG(token) {\r\n            if (!token) return;\r\n            token = token.replace(/gh(^$|[^aeiou])/g, 'h$1');\r\n            token = token.replace(/g(n|ned)$/g, '$1');\r\n\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformG(token) {\r\n            if (!token) return;\r\n            token = token.replace(/([^g]|^)(g)(i|e|y)/g, '$1j$3');\r\n            token = token.replace(/gg/g, 'g');\r\n            token = token.replace(/g/g, 'k');\r\n\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropH(token) {\r\n            if (!token) return;\r\n            return token.replace(/([aeiou])h([^aeiou])/g, '$1$2');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformCK(token) {\r\n            if (!token) return;\r\n            return token.replace(/ck/g, 'k');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformPH(token) {\r\n            if (!token) return;\r\n            return token.replace(/ph/g, 'f');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformQ(token) {\r\n            if (!token) return;\r\n            return token.replace(/q/g, 'k');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformS(token) {\r\n            if (!token) return;\r\n            return token.replace(/s(h|io|ia)/g, 'x$1');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformT(token) {\r\n            if (!token) return;\r\n            token = token.replace(/t(ia|io)/g, 'x$1');\r\n            token = token.replace(/th/, '0');\r\n\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropT(token) {\r\n            if (!token) return;\r\n            return token.replace(/tch/g, 'ch');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformV(token) {\r\n            if (!token) return;\r\n            return token.replace(/v/g, 'f');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformWH(token) {\r\n            if (!token) return;\r\n            return token.replace(/^wh/, 'w');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropW(token) {\r\n            if (!token) return;\r\n            return token.replace(/w([^aeiou]|$)/g, '$1');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformX(token) {\r\n            if (!token) return;\r\n            token = token.replace(/^x/, 's');\r\n            token = token.replace(/x/g, 'ks');\r\n            return token;\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropY(token) {\r\n            if (!token) return;\r\n            return token.replace(/y([^aeiou]|$)/g, '$1');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function transformZ(token) {\r\n            if (!token) return;\r\n            return token.replace(/z/, 's');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function dropVowels(token) {\r\n            if (!token) return;\r\n            return token.charAt(0) + token.substr(1, token.length).replace(/[aeiou]/g, '');\r\n        }\r\n\r\n        /**\r\n         * \r\n         */\r\n        export function removeDiacritics(s) {\r\n            if (!s) return;\r\n            var r = s.toLowerCase();\r\n            r = r.replace(new RegExp(\"/.../g\", 'g'), \" \");\r\n            r = r.replace(new RegExp(\"[àáâãäå]\", 'g'), \"a\");\r\n            r = r.replace(new RegExp(\"æ\", 'g'), \"ae\");\r\n            r = r.replace(new RegExp(\"ç\", 'g'), \"c\");\r\n            r = r.replace(new RegExp(\"[èéêë]\", 'g'), \"e\");\r\n            r = r.replace(new RegExp(\"[ìíîï]\", 'g'), \"i\");\r\n            r = r.replace(new RegExp(\"ñ\", 'g'), \"n\");\r\n            r = r.replace(new RegExp(\"[òóôõö]\", 'g'), \"o\");\r\n            r = r.replace(new RegExp(\"œ\", 'g'), \"oe\");\r\n            r = r.replace(new RegExp(\"[ùúûü]\", 'g'), \"u\");\r\n            r = r.replace(new RegExp(\"[ýÿ]\", 'g'), \"y\");\r\n            r = r.replace(new RegExp(\"['\\\"]\", 'g'), \" \");\r\n            return r;\r\n        }\r\n    }\r\n\r\n    \r\n"],"sourceRoot":"/source/"}
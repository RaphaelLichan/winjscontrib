{"version":3,"sources":["Sources/Controls/winjscontrib.ui.calendar.ts"],"names":["WinJSContrib","WinJSContrib.UI","WinJSContrib.UI.DatePickerControl","WinJSContrib.UI.DatePickerControl.constructor","WinJSContrib.UI.DatePickerControl.value","WinJSContrib.UI.DatePickerControl.dispose","WinJSContrib.UI.DatePickerControl.dispatchEvent","WinJSContrib.UI.DatePickerControl.addEventListener","WinJSContrib.UI.CalendarControl","WinJSContrib.UI.CalendarControl.constructor","WinJSContrib.UI.CalendarControl.value","WinJSContrib.UI.CalendarControl.startDayOfWeek","WinJSContrib.UI.CalendarControl.render","WinJSContrib.UI.CalendarControl.checkState","WinJSContrib.UI.CalendarControl.dispatchEvent","WinJSContrib.UI.CalendarControl.addEventListener","WinJSContrib.UI.CalendarPanelControl","WinJSContrib.UI.CalendarPanelControl.constructor","WinJSContrib.UI.CalendarPanelControl.next","WinJSContrib.UI.CalendarPanelControl.previous","WinJSContrib.UI.CalendarPanelControl.allowNext","WinJSContrib.UI.CalendarPanelControl.allowPrevious","WinJSContrib.UI.CalendarPanelControl.ensureValue","WinJSContrib.UI.CalendarDayPanelControl","WinJSContrib.UI.CalendarDayPanelControl.constructor","WinJSContrib.UI.CalendarDayPanelControl.currentDate","WinJSContrib.UI.CalendarDayPanelControl.ensureValue","WinJSContrib.UI.CalendarDayPanelControl.update","WinJSContrib.UI.CalendarDayPanelControl.next","WinJSContrib.UI.CalendarDayPanelControl.previous","WinJSContrib.UI.CalendarDayPanelControl.allowNext","WinJSContrib.UI.CalendarDayPanelControl.allowPrevious","WinJSContrib.UI.CalendarDayPanelContentControl","WinJSContrib.UI.CalendarDayPanelContentControl.constructor","WinJSContrib.UI.CalendarDayPanelContentControl.enter","WinJSContrib.UI.CalendarDayPanelContentControl.renderContent","WinJSContrib.UI.CalendarDayPanelContentControl.generateDays","WinJSContrib.UI.CalendarDayPanelContentControl.renderDaysWrapper","WinJSContrib.UI.CalendarDayPanelContentControl.renderDays","WinJSContrib.UI.CalendarDayPanelContentControl.remove"],"mappings":"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","file":"Sources/Controls/winjscontrib.ui.calendar.js","sourcesContent":["module WinJSContrib.UI{\r\n    export class DatePickerControl {\r\n        _value: Date;\r\n        public element: HTMLElement;\r\n        public textElement: HTMLElement;\r\n        public flyout: WinJS.UI.Flyout;\r\n        public calendar: CalendarControl;\r\n\r\n        constructor(element: HTMLElement, options: CalendarOptions) {\r\n            this.element = element || document.createElement('DIV');\r\n            options = options || {};        \r\n            this.element.winControl = this;\r\n            this.element.classList.add('mcn-datepicker');\r\n            this.element.classList.add('win-disposable');\r\n\r\n            this.flyout = new WinJS.UI.Flyout();\r\n            this.element.appendChild(this.flyout.element);\r\n\r\n            this.calendar = <CalendarControl>new WinJSContrib.UI.Calendar();\r\n            this.flyout.element.appendChild(this.calendar.element);\r\n            this.flyout.element.classList.add(\"mcn-datepicker-flyout\");\r\n\r\n            this.calendar.onchange = () => {                \r\n                this.value = this.calendar.value;\r\n            }\r\n\r\n            this.textElement = document.createElement(\"DIV\");\r\n            this.textElement.className = \"mcn-datepicker-text\";\r\n            this.element.appendChild(this.textElement);\r\n\r\n            WinJSContrib.UI.tap(this.textElement, () => {\r\n                this.flyout.show(this.textElement);\r\n            });\r\n\r\n            WinJS.UI.setOptions(this, options);\r\n\r\n            if (!this.value) {\r\n                this.value = new Date();\r\n            }\r\n        }\r\n\r\n        get value(): Date {\r\n            return this._value;\r\n        }\r\n\r\n        set value(val: Date) {\r\n            this._value = val;\r\n            this.calendar.value = val;\r\n            this.textElement.innerText = moment(val).format(\"ll\");\r\n            this.flyout.hide();\r\n        }\r\n\r\n        dispose() {\r\n            WinJS.Utilities.disposeSubTree(this.element);\r\n        }\r\n\r\n        dispatchEvent(type: string, data?: any) {\r\n\r\n        }\r\n\r\n        addEventListener(type: string, callback: any) {\r\n\r\n        }\r\n    }\r\n    export var DatePicker = WinJS.Class.mix(WinJS.Utilities.markSupportedForProcessing(DatePickerControl), WinJS.Utilities.eventMixin, WinJS.Utilities.createEventProperties(\"change\"));\r\n\r\n\texport interface CalendarOptions{\r\n\t\tstartDayOfWeek?: number;\r\n        minDate?: string | Date;\r\n    }\r\n\r\n\texport class CalendarControl {\r\n\t\t_value: Date;\r\n\t\t_startDayOfWeek: number;\r\n\t\tpublic element: HTMLElement;\r\n\t\tpublic wrapper: HTMLElement;\r\n\t\tpublic panelsContainer: HTMLElement;\r\n\t\tpublic navbuttons: HTMLElement;\r\n\t\tpublic navbuttonPrevious: HTMLElement;\r\n        public navbuttonNext: HTMLElement;\r\n        public minDate: string | Date;\r\n        public maxDate: string | Date;\r\n        public onchange: () => void;\r\n\t\t_currentPanel: CalendarPanelControl;\r\n\r\n\t\tconstructor(element: HTMLElement, options: CalendarOptions) {\r\n\t\t\tthis.element = element || document.createElement('DIV');\r\n            options = options || {};\r\n            this._startDayOfWeek = 1; //monday\r\n            this._value = new Date();\r\n            this.element.winControl = this;\r\n            this.element.classList.add('mcn-calendar');\r\n            this.element.classList.add('win-disposable');\r\n\r\n\t\t\tthis.wrapper = document.createElement(\"DIV\");\r\n            this.wrapper.className = \"mcn-calendar-wrapper\";\r\n            this.element.appendChild(this.wrapper);\r\n\r\n\t\t\tthis.panelsContainer = document.createElement(\"DIV\");\r\n            this.panelsContainer.className = \"mcn-calendar-panels\";\r\n            this.wrapper.appendChild(this.panelsContainer);\r\n\r\n            this.navbuttons = document.createElement(\"DIV\");\r\n            this.navbuttons.className = \"navbuttons\";\r\n            this.wrapper.appendChild(this.navbuttons);\r\n\r\n\t\t\tthis.navbuttonPrevious = document.createElement(\"BUTTON\");\r\n            this.navbuttonPrevious.className = \"navbutton navbutton-previous\";\r\n            this.navbuttons.appendChild(this.navbuttonPrevious);\r\n            WinJSContrib.UI.tap(this.navbuttonPrevious, () => {\r\n\t\t\t\tif (this._currentPanel)\r\n\t\t\t\t\tthis._currentPanel.previous();\r\n            });\r\n\t\t\t\r\n\t\t\tthis.navbuttonNext = document.createElement(\"BUTTON\");\r\n            this.navbuttonNext.className = \"navbutton navbutton-next\";\r\n            this.navbuttons.appendChild(this.navbuttonNext);\r\n\t\t\tWinJSContrib.UI.tap(this.navbuttonNext, () => {\r\n\t\t\t\tif (this._currentPanel)\r\n\t\t\t\t\tthis._currentPanel.next();\r\n            });\r\n\r\n            WinJS.UI.setOptions(this, options);\r\n\r\n            this._currentPanel = new CalendarDayPanelControl(this, this.value);\r\n            this._currentPanel.currentChanged = () => {\r\n\t\t\t\tthis.checkState();\r\n            }\r\n\t\t}\r\n\r\n\t\tget value() : Date{\r\n\t\t\treturn this._value;\r\n\t\t}\r\n\r\n\t\tset value(val:Date) {\r\n            this._value = val;\r\n            if (this._currentPanel) {\r\n                this._currentPanel._currentDate = new Date(val.getFullYear(), val.getMonth(), 1);\r\n                this._currentPanel.ensureValue();\r\n            }\r\n\t\t}\r\n\r\n\t\tget startDayOfWeek(): number {\r\n\t\t\treturn this._startDayOfWeek;\r\n\t\t}\r\n\r\n\t\tset startDayOfWeek(val: number) {\r\n\t\t\tthis._startDayOfWeek = val;\r\n\t\t}\r\n\r\n\t\trender(){\r\n\r\n\t\t}\r\n\r\n\t\tcheckState(){\r\n\r\n        }\r\n\r\n        dispatchEvent(type:string, data?:any) {\r\n\r\n        }\r\n\r\n        addEventListener(type: string, callback: any) {\r\n\r\n        }\r\n\t}\r\n\r\n\texport class CalendarPanelControl {\r\n\t\tparent: CalendarControl;\r\n\t\tpublic element: HTMLElement;\r\n\t\tpublic currentChanged: () => void;\r\n        public _currentDate: Date;\t\t\r\n\t\t\r\n        constructor(parent: CalendarControl, currentDate: Date){\r\n\t\t\tthis.parent = parent;\r\n\t\t\tthis.element = document.createElement('DIV');\r\n\t\t\tthis.element.className = \"calendar-panel\";\r\n            this.parent.panelsContainer.appendChild(this.element);\r\n            this._currentDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\r\n\t\t}\r\n\r\n\t\tnext(){\r\n\r\n\t\t}\r\n\r\n\t\tprevious() {\r\n\r\n\t\t}\r\n\r\n\t\tallowNext() : boolean {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tallowPrevious() {\r\n\t\t\treturn false;\r\n        }\r\n\r\n        ensureValue() {\r\n        }\r\n\t}\r\n\r\n\texport class CalendarDayPanelControl extends CalendarPanelControl {\r\n\t\tpublic elementContent: HTMLElement;\r\n\t\tpublic _currentItem: CalendarDayPanelContentControl;\t\t\t\t\r\n\r\n\t\tconstructor(parent: CalendarControl, currentDate : Date) {\r\n            super(parent, currentDate);\r\n\t\t\t\r\n\t\t\tthis.element.classList.add(\"day-panel\");\r\n\t\t\tthis.elementContent = document.createElement('DIV');\r\n\t\t\tthis.elementContent.className = \"calendar-panel-content\";\r\n\t\t\tthis.element.appendChild(this.elementContent);\r\n            \r\n            this._currentItem = new CalendarDayPanelContentControl(this, this.currentDate);\r\n\t\t}\r\n\r\n\t\tget currentDate(): Date {\r\n\t\t\treturn this._currentDate;\r\n        }\r\n\r\n        ensureValue() {\r\n            if (moment(this.currentDate).diff(this._currentItem.currentDate) != 0) {\r\n                this.update((elt) => WinJS.UI.Animation.drillInIncoming(elt), (elt) => WinJS.UI.Animation.drillInOutgoing(elt));\r\n            }\r\n        }\r\n\r\n\t\tupdate(animIn?, animOut?){\r\n            this._currentItem.currentDate = moment(this._currentDate);\r\n            this._currentItem.generateDays(animIn, animOut);\r\n            this.parent.checkState();\r\n\t\t}\r\n\r\n\t\tnext() {\r\n            this._currentDate = moment(this._currentDate).add(1, \"M\").toDate();\r\n            this.update(\r\n                (elt) => WinJSContrib.UI.Animation.slideFromBottom(elt, { duration: 160 }),\r\n                (elt) => WinJSContrib.UI.Animation.slideToTop(elt, { duration: 160 }));\r\n\t\t}\r\n\r\n\t\tprevious() {\r\n            this._currentDate = moment(this._currentDate).add(-1, \"M\").toDate();\r\n            this._currentItem.currentDate = moment(this._currentDate);\r\n            this.update(\r\n                (elt) => WinJSContrib.UI.Animation.slideFromTop(elt, { duration: 160 }),\r\n                (elt) => WinJSContrib.UI.Animation.slideToBottom(elt, { duration: 160 }));\r\n\t\t}\r\n\r\n\t\tallowNext(): boolean {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tallowPrevious() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\texport class CalendarDayPanelContentControl {\r\n        public element: HTMLElement;\r\n        public days: HTMLElement;\r\n        public selected: HTMLElement;\r\n\t\tpublic header: HTMLElement;\r\n        public content: HTMLElement;\r\n        public monthTxt: HTMLElement;\r\n        public yearTxt: HTMLElement;\r\n\t\tpublic currentDate: moment.Moment;\r\n        _lastdow : number\r\n        parent: CalendarDayPanelControl;\r\n\r\n\t\tconstructor(parent: CalendarDayPanelControl, currentDate: Date) {\r\n\t\t\tthis.parent = parent;\r\n\t\t\tthis.currentDate = moment(new Date(currentDate.getFullYear(), currentDate.getMonth(), 1));\r\n\t\t\tthis.element = document.createElement('DIV');\r\n            this.element.className = \"calendar-panel-item day-panel-item\";\r\n            this.element.id = \"month\" + this.currentDate.toDate().toISOString();\r\n\t\t\tthis.parent.elementContent.appendChild(this.element);\r\n\t\t\tthis.renderContent();\t\t\t\r\n\t\t}\r\n\r\n        enter(anim) {\r\n            anim = anim || WinJS.UI.Animation.drillOutIncoming;\r\n            return anim(this.element);\r\n\t\t}\r\n\r\n\t\trenderContent() {\r\n\t\t\tvar startdate = this.currentDate.clone().day(this.parent.parent.startDayOfWeek);\r\n\t\t\tthis.element.innerHTML =\r\n\t\t\t\t`<header>\r\n\t\t\t\t\t<div class=\"month\">${this.currentDate.format(\"MMMM\")}</div>\r\n\t\t\t\t\t<div class=\"year\">${this.currentDate.format(\"YYYY\")}</div>\r\n\t\t\t\t</header>\r\n\t\t\t\t<section class=\"day-items\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<section>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</section>`;\r\n\r\n            this.monthTxt = <HTMLElement>this.element.querySelector(\".month\");\r\n            this.yearTxt = <HTMLElement>this.element.querySelector(\".year\");\r\n\r\n            this.header = <HTMLElement>this.element.querySelector(\".day-items > header\");\r\n            var headerdate = startdate.clone();\r\n            for (var i = 0; i < 7; i++) {\r\n                var head = document.createElement(\"DIV\");\r\n                head.className = \"day-item day-header\";\r\n                head.innerText = headerdate.format(\"ddd\");\r\n                var dow = headerdate.day();\r\n                if (dow == 0 || dow == 6) {\r\n                    head.classList.add(\"weekend\");\r\n                }\r\n                this._lastdow = headerdate.day();\r\n                headerdate.add(1, \"d\");\r\n                \r\n                this.header.appendChild(head);\r\n            }\r\n\r\n            this.content = <HTMLElement>this.element.querySelector(\".day-items > section\");\r\n            this.days = this.renderDaysWrapper(this.content);\r\n        }\r\n\r\n        generateDays(animIn, animOut) {            \r\n            if (this.days) {\r\n                var currentDays = this.days;\r\n                animOut(currentDays).then(() => {\r\n                    currentDays.parentElement.removeChild(currentDays);\r\n                });\r\n            }\r\n            this.selected = null;\r\n            this.days = this.renderDaysWrapper(this.content);\r\n            animIn(this.days).then(() => {\r\n                this.monthTxt.innerText = this.currentDate.format(\"MMMM\");\r\n                this.yearTxt.innerText = this.currentDate.format(\"YYYY\");\r\n            });\r\n        }        \r\n\r\n        renderDaysWrapper(container: HTMLElement) {\r\n            var itemsWrapper = document.createElement(\"DIV\");\r\n            itemsWrapper.className = \"day-items-wrapper\";\r\n            this.renderDays(itemsWrapper);\r\n            container.appendChild(itemsWrapper);\r\n            return itemsWrapper;\r\n        }\r\n\r\n        renderDays(container: HTMLElement) {\r\n            var startdate = this.currentDate.clone().day(this.parent.parent.startDayOfWeek);\r\n\t\t\t\r\n            var currentMonth = this.currentDate.month();\r\n            var currentDate = moment(this.parent.parent.value).hour(0).minute(0).second(0).millisecond(0);\r\n            var minDate = null;\r\n            if (this.parent.parent.minDate)\r\n                minDate = moment(this.parent.parent.minDate);\r\n            var maxDate = null;\r\n            if (this.parent.parent.maxDate)\r\n                maxDate = moment(this.parent.parent.maxDate);\r\n\r\n            var contentdate = startdate.clone();\r\n            var lastday = this.currentDate.clone().add(1, \"M\").add(-1, \"d\");\r\n            if (lastday.day() != this._lastdow)\r\n                lastday.day(this._lastdow + 7);\r\n\r\n            var count = 0;\r\n            while (contentdate <= lastday) {\r\n                var day = <HTMLButtonElement>document.createElement(\"BUTTON\");\r\n                day.className = \"day-item\";\r\n                day.id = \"day-\" + contentdate.format(\"YYYY-MM-DD\");\r\n                day.innerText = contentdate.format(\"DD\");\r\n                if (contentdate.diff(currentDate) == 0) {\r\n                    day.classList.add(\"selected\");\r\n                    this.selected = day;\r\n                }\r\n                var dow = contentdate.day();\r\n                if (dow == 0 || dow == 6) {\r\n                    day.classList.add(\"weekend\");\r\n                }\r\n                if (contentdate.month() != currentMonth) {\r\n                    day.classList.add(\"notthismonth\");\r\n                }\r\n                (<any>day).mcnCalendarDay = contentdate.clone();\r\n\r\n                WinJSContrib.UI.tap(day, (arg) => {\r\n                    var date = <moment.Moment>arg.mcnCalendarDay;\r\n                    arg.classList.add(\"selected\");\r\n                    if (this.selected) {\r\n                        this.selected.classList.remove(\"selected\");\r\n                    }\r\n                    this.selected = arg;\r\n                    this.parent.parent.value = date.toDate();\r\n                    this.parent.parent.dispatchEvent(\"change\");\r\n                });\r\n\r\n                contentdate.add(1, \"d\");\r\n                container.appendChild(day);\r\n            }\r\n        }\r\n\r\n        remove(anim): WinJS.Promise<any>{\r\n            anim = anim || WinJS.UI.Animation.drillOutOutgoing;\r\n\t\t\tif (!this.element)\r\n\t\t\t\treturn WinJS.Promise.wrap();\r\n\t\t\t\r\n            return anim(this.element).then(() => {\r\n                WinJSContrib.UI.untapAll(this.element);\r\n\t\t\t\tthis.element.parentElement.removeChild(this.element);\r\n\t\t\t\tthis.element = null;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n    export var Calendar = WinJS.Class.mix(WinJS.Utilities.markSupportedForProcessing(CalendarControl), WinJS.Utilities.eventMixin, WinJS.Utilities.createEventProperties(\"change\"));\r\n\r\n\texport var CalendarDayPanel = WinJS.Class.mix(CalendarDayPanelControl,\r\n\t\tWinJS.Utilities.eventMixin,\r\n        WinJS.Utilities.createEventProperties(\"selected\"));\r\n}"],"sourceRoot":"/source/"}
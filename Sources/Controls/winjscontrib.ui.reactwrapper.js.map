{"version":3,"sources":["Sources/Controls/winjscontrib.ui.reactwrapper.ts"],"names":["WinJSContrib","WinJSContrib.UI","WinJSContrib.UI.ReactWrapperControl","WinJSContrib.UI.ReactWrapperControl.constructor","WinJSContrib.UI.ReactWrapperControl.props","WinJSContrib.UI.ReactWrapperControl.component","WinJSContrib.UI.ReactWrapperControl.refresh","WinJSContrib.UI.ReactWrapperControl.destroyReactComponent","WinJSContrib.UI.ReactWrapperControl.dispose"],"mappings":"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","file":"Sources/Controls/winjscontrib.ui.reactwrapper.js","sourcesContent":["module WinJSContrib.UI {\r\n    export class ReactWrapperControl<TProps> {\r\n        element: HTMLElement;\r\n        eventTracker: WinJSContrib.UI.EventTracker;\r\n        compFactory: __React.DOMFactory<any>;\r\n        _component: any;\r\n        _reactcomponent: any;\r\n        _props: TProps;\r\n\r\n        constructor(element, options) {\r\n            this.element = element || document.createElement('DIV');\r\n            this.eventTracker = new WinJSContrib.UI.EventTracker();\r\n            options = options || {};\r\n            this.element.winControl = this;            \r\n            this.element.classList.add('win-disposable');\r\n            this.element.classList.add('mcn-layout-ctrl');\r\n            WinJS.UI.setOptions(this, options);\r\n            //this.compFactory = React.createFactory(component);\r\n        }\r\n\r\n        get props(): TProps{\r\n            return this._props;\r\n        }\r\n\r\n        set props(val: TProps) {\r\n            this._props = val;\r\n            this.refresh();\r\n        }\r\n\r\n        get component() {\r\n            return this._component;\r\n        }\r\n\r\n        set component(val) {\r\n            this._component = val;\r\n            var comp = val;\r\n            if (typeof val == 'string') {\r\n                comp = WinJSContrib.Utils.readProperty(window, val);\r\n            }\r\n\r\n            if (typeof comp !== 'function') {\r\n                console.error(\"React Component not found \" + val);\r\n                throw new Error(\"React Component not found \" + val);\r\n            }\r\n\r\n            this.compFactory = React.createFactory(comp);\r\n            this.refresh();\r\n        }\r\n\r\n        refresh() {\r\n            if (this.compFactory) {\r\n                this._reactcomponent = ReactDOM.render(this.compFactory(this.props), this.element);\r\n            }\r\n        }\r\n\r\n        destroyReactComponent() {\r\n            ReactDOM.unmountComponentAtNode(this.element);\r\n        }\r\n\r\n        dispose() {\r\n            this.eventTracker.dispose();\r\n            this.destroyReactComponent();\r\n        }\r\n    }\r\n    export var ReactWrapper = WinJS.Utilities.markSupportedForProcessing(ReactWrapperControl);\r\n}"],"sourceRoot":"/source/"}
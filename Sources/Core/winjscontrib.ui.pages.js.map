{"version":3,"sources":["winjscontrib.ui.pages.ts"],"names":["WinJSContrib","WinJSContrib.UI","WinJSContrib.UI.Pages","abs","selfhost","merge","addMembers","getPageConstructor","getPageConstructor.PageControl_ctor","getPageConstructor.PageControl_ctor.Pages_load","getPageConstructor.PageControl_ctor.Pages_init","getPageConstructor.PageControl_ctor.Pages_render","getPageConstructor.PageControl_ctor.Pages_process","getPageConstructor.PageControl_ctor.Pages_processed","getPageConstructor.PageControl_ctor.Pages_ready","getPageConstructor.PageControl_ctor.Pages_error","Pages_define","render","get","remove"],"mappings":"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","file":"winjscontrib.ui.pages.js","sourceRoot":"C:/projects/github/winjscontrib/","sourcesContent":["module WinJSContrib.UI.Pages {\r\n\r\n    (function (_Pages, _Global, _Base, _CorePages, _BaseUtils, _ElementUtilities, _WriteProfilerMark, Promise, Fragments, ControlProcessor) {\r\n        'use strict';\r\n\r\n        var viewMap = _CorePages._viewMap || {};\r\n\r\n        //this property allows defining mixins applyed to all pages\r\n        _Pages.defaultPageMixins = [\r\n            {\r\n                $: function (selector) {\r\n                    return $(selector, this.element || this._element);\r\n                },\r\n                q: function (selector) {\r\n                    if (!this.element)\r\n                        return;\r\n\r\n                    return this.element.querySelector(selector);\r\n                },\r\n\r\n                qAll: function (selector) {\r\n                    if (!this.element)\r\n                        return;\r\n\r\n                    var res = this.element.querySelectorAll(selector);\r\n                    if (res && !res.forEach) {\r\n                        res.forEach = function (callback) {\r\n                            for (var i = 0; i < res.length; i++) {\r\n                                callback(res[i], i);\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n            {\r\n                dispose: function () {\r\n                    if (this._promises) {\r\n                        this.cancelPromises();\r\n                        this._promises = null;\r\n                    }\r\n                },\r\n\r\n                promises: {\r\n                    configurable: true,\r\n                    get: function () {\r\n                        if (!this._promises)\r\n                            this._promises = [];\r\n                        return this._promises;\r\n                    }\r\n                },\r\n\r\n                addPromise: function (prom) {\r\n                    this.promises.push(prom);\r\n                    return prom;\r\n                },\r\n\r\n                cancelPromises: function () {\r\n                    var page = this;\r\n                    if (page.promises) {\r\n                        for (var i = 0; i < page.promises.length; i++) {\r\n                            if (page.promises[i]) {\r\n                                page.promises[i].cancel();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                dispose: function () {\r\n                    if (this._eventTracker) {\r\n                        this._eventTracker.dispose();\r\n                        this._eventTracker = null;\r\n                    }\r\n                },\r\n\r\n                eventTracker: {\r\n                    configurable: true,\r\n                    get: function () {\r\n                        if (!this._eventTracker)\r\n                            this._eventTracker = new WinJSContrib.UI.EventTracker();\r\n                        return this._eventTracker;\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n\r\n        function abs(uri) {\r\n            var a = _Global.document.createElement(\"a\");\r\n            a.href = uri;\r\n            return a.href;\r\n        }\r\n\r\n        function selfhost(uri) {\r\n            return _Global.document.location.href.toLowerCase() === uri.toLowerCase();\r\n        }\r\n\r\n        var _mixinBase = {\r\n            dispose: function () {\r\n                /// <signature helpKeyword=\"WinJS.UI.Pages.dispose\">\r\n                /// <summary locid=\"WinJS.UI.Pages.dispose\">\r\n                /// Disposes this Page.\r\n                /// </summary>\r\n                /// </signature>\r\n                if (this._disposed) {\r\n                    return;\r\n                }\r\n\r\n                this._disposed = true;\r\n                _ElementUtilities.disposeSubTree(this.element);\r\n                this.element = null;\r\n            },\r\n\r\n            init: function () { },\r\n\r\n            load: function (uri) {\r\n                /// <signature helpKeyword=\"WinJS.UI.Pages._mixin.load\">\r\n                /// <summary locid=\"WinJS.UI.Pages._mixin.load\">\r\n                /// Creates a copy of the DOM elements from the specified URI.  In order for this override\r\n                /// to be used, the page that contains the load override needs to be defined by calling\r\n                /// WinJS.UI.Pages.define() before WinJS.UI.Pages.render() is called.\r\n                /// </summary>\r\n                /// <param name=\"uri\" locid=\"WinJS.UI.Pages._mixin.load_p:uri\">\r\n                /// The URI from which to copy the DOM elements.\r\n                /// </param>\r\n                /// <returns type=\"WinJS.Promise\" locid=\"WinJS.UI.Pages._mixin.load_returnValue\">\r\n                /// A promise whose fulfilled value is the set of unparented DOM elements, if asynchronous processing is necessary. If not, returns nothing.\r\n                /// </returns>\r\n                /// </signature>\r\n                if (!this.selfhost) {\r\n                    return Fragments.renderCopy(abs(uri));\r\n                }\r\n            },\r\n\r\n            process: function (element, options) {\r\n                /// <signature helpKeyword=\"WinJS.UI.Pages._mixin.process\">\r\n                /// <summary locid=\"WinJS.UI.Pages._mixin.process\">\r\n                /// Processes the unparented DOM elements returned by load.\r\n                /// </summary>\r\n                /// <param name=\"element\" locid=\"WinJS.UI.Pages._mixin.process_p:element\">\r\n                /// The DOM element that will contain all the content for the page.\r\n                /// </param>\r\n                /// <param name=\"options\" locid=\"WinJS.UI.Pages._mixin.process_p:options\">\r\n                /// The options that are to be passed to the constructor of the page.\r\n                /// </param>\r\n                /// <returns type=\"WinJS.Promise\" locid=\"WinJS.UI.Pages._mixin.process_returnValue\">\r\n                /// A promise that is fulfilled when processing is complete.\r\n                /// </returns>\r\n                /// </signature>\r\n                return ControlProcessor.processAll(element);\r\n            },\r\n\r\n            processed: function () { },\r\n\r\n            render: function (element, options, loadResult) {\r\n                /// <signature helpKeyword=\"WinJS.UI.Pages._mixin.render\">\r\n                /// <summary locid=\"WinJS.UI.Pages._mixin.render\">\r\n                /// Renders the control, typically by adding the elements specified in the loadResult parameter to the specified element.\r\n                /// </summary>\r\n                /// <param name=\"element\" locid=\"WinJS.UI.Pages._mixin.render_p:element\">\r\n                /// The DOM element that will contain all the content for the page.\r\n                /// </param>\r\n                /// <param name=\"options\" locid=\"WinJS.UI.Pages._mixin.render_p:options\">\r\n                /// The options passed into the constructor of the page.\r\n                /// </param>\r\n                /// <param name=\"loadResult\" locid=\"WinJS.UI.Pages._mixin.render_p:loadResult\">\r\n                /// The elements returned from the load method.\r\n                /// </param>\r\n                /// <returns type=\"WinJS.Promise\" locid=\"WinJS.UI.Pages._mixin.render_returnValue\">\r\n                /// A promise that is fulfilled when rendering is complete, if asynchronous processing is necessary. If not, returns nothing.\r\n                /// </returns>\r\n                /// </signature>\r\n                if (!this.selfhost) {\r\n                    element.appendChild(loadResult);\r\n                }\r\n                return element;\r\n            },\r\n\r\n            ready: function () { }\r\n        };\r\n\r\n        function merge(targetCtor, sourcePrototype) {\r\n            if (sourcePrototype) {\r\n                if (!sourcePrototype.__proto__.hasOwnProperty('hasOwnProperty')) {\r\n                    //if prototype is not \"object\" we start by merging it's parent members\r\n                    //by merging from parent to child we ensure that inheritance chain is respected\r\n                    merge(targetCtor, sourcePrototype.__proto__);\r\n                }\r\n                return _Base.Class.mix(targetCtor, sourcePrototype);\r\n            }\r\n            return targetCtor;\r\n        }\r\n\r\n        function addMembers(ctor, members) {\r\n            if (!members)\r\n                return ctor;\r\n\r\n            if (typeof members == 'function') {\r\n                if (!ctor.prototype._attachedConstructors)\r\n                    ctor.prototype._attachedConstructors = [];\r\n\r\n                ctor.prototype._attachedConstructors.push(members);\r\n                return merge(ctor, members.prototype);\r\n            } else if (typeof members == 'object') {\r\n                return _Base.Class.mix(ctor, members);\r\n            }\r\n\r\n            return ctor;\r\n        }\r\n\r\n        function getPageConstructor(uri, members?) {\r\n            /// <signature helpKeyword=\"WinJS.UI.Pages.define\">\r\n            /// <summary locid=\"WinJS.UI.Pages.define\">\r\n            /// Creates a new page control from the specified URI that contains the specified members.\r\n            /// Multiple calls to this method for the same URI are allowed, and all members will be\r\n            /// merged.\r\n            /// </summary>\r\n            /// <param name=\"uri\" locid=\"WinJS.UI.Pages.define_p:uri\">\r\n            /// The URI for the content that defines the page.\r\n            /// </param>\r\n            /// <param name=\"members\" locid=\"WinJS.UI.Pages.define_p:members\">\r\n            /// Additional members that the control will have.\r\n            /// </param>\r\n            /// <returns type=\"Function\" locid=\"WinJS.UI.Pages.define_returnValue\">\r\n            /// A constructor function that creates the page.\r\n            /// </returns>\r\n            /// </signature>\r\n            var refUri = abs(uri).toLowerCase();\r\n            var base = viewMap[refUri];\r\n            uri = abs(uri);\r\n\r\n            if (!base) {\r\n                base = _Base.Class.define(\r\n                    // This needs to follow the WinJS.UI.processAll \"async constructor\"\r\n                    // pattern to interop nicely in the \"Views.Control\" use case.\r\n                    //\r\n                    function PageControl_ctor(element, options, complete, parentedPromise) {\r\n                        var that = this;\r\n                        this._disposed = false;\r\n                        this.element = element = element || _Global.document.createElement(\"div\");\r\n                        _ElementUtilities.addClass(element, \"win-disposable\");\r\n                        element.msSourceLocation = uri;\r\n                        this.uri = uri;\r\n                        this.selfhost = selfhost(uri);\r\n                        element.winControl = this;\r\n                        that.parentedComplete = parentedPromise;\r\n                        _ElementUtilities.addClass(element, \"pagecontrol\");\r\n                        var profilerMarkIdentifier = \" uri='\" + uri + \"'\" + _BaseUtils._getProfilerMarkIdentifier(this.element);\r\n\r\n                        _WriteProfilerMark(\"WinJS.UI.Pages:createPage\" + profilerMarkIdentifier + \",StartTM\");\r\n\r\n                        var load = Promise.timeout().then(function Pages_load() {\r\n                            return that.load(uri);\r\n                        });\r\n\r\n                        var renderCalled = load.then(function Pages_init(loadResult) {\r\n                            if (that._attachedConstructors) {\r\n                                that._attachedConstructors.forEach(function (ct) {\r\n                                    ct.apply(that, [element, options]);\r\n                                });\r\n                            }\r\n\r\n                            return Promise.join({\r\n                                loadResult: loadResult,\r\n                                initResult: that.init(element, options)\r\n                            });\r\n                        }).then(function Pages_render(result) {\r\n                                return that.render(element, options, result.loadResult);\r\n                            });\r\n\r\n                        this.elementReady = renderCalled.then(function () {\r\n                            return element;\r\n                        });\r\n\r\n                        this.renderComplete = renderCalled.then(function Pages_process() {\r\n                            return that.process(element, options);\r\n                        }).then(function Pages_processed() {\r\n                                return that.processed(element, options);\r\n                            }).then(function () {\r\n                                WinJSContrib.UI.bindMembers(element, that);\r\n                                WinJSContrib.UI.bindActions(element, that);\r\n                                return that;\r\n                            });\r\n\r\n                        var callComplete = function () {\r\n                            complete && complete(that);\r\n                            _WriteProfilerMark(\"WinJS.UI.Pages:createPage\" + profilerMarkIdentifier + \",StopTM\");\r\n                        };\r\n\r\n                        // promises guarantee order, so this will be called prior to ready path below\r\n                        //\r\n                        this.renderComplete.then(callComplete, callComplete);\r\n\r\n                        this.readyComplete = this.renderComplete.then(function () {\r\n                            return parentedPromise;\r\n                        }).then(function Pages_ready() {\r\n\r\n                                that.ready(element, options);\r\n\r\n                                return that;\r\n                            }).then(\r\n                            null,\r\n                            function Pages_error(err) {\r\n                                if (that.error)\r\n                                    return that.error(err);\r\n                            }\r\n                            );\r\n                    },\r\n                    _mixinBase\r\n                    );\r\n                base = _Base.Class.mix(base, WinJS.UI.DOMEventMixin);\r\n                base.winJSContrib = true;\r\n\r\n                //this addition is for providing a way to inject behavior in all pages\r\n                _Pages.defaultPageMixins.forEach(function (mixin) {\r\n                    var d = base.prototype.dispose;\r\n                    base = _Base.Class.mix(base, mixin);\r\n\r\n                    //we want to allow this mixins to provide their own addition to \"dispose\"\r\n                    if (d && mixin.hasOwnProperty('dispose')) {\r\n                        base.prototype.dispose = function () {\r\n                            d.apply(this);\r\n                            mixin.dispose.apply(this);\r\n                        };\r\n                    }\r\n\r\n                });\r\n                viewMap[refUri] = base;\r\n            }\r\n\r\n            base = addMembers(base, members);\r\n\r\n            base.selfhost = selfhost(uri);\r\n\r\n            return base;\r\n        }\r\n\r\n        function Pages_define(uri, members?) {\r\n            /// <signature helpKeyword=\"WinJS.UI.Pages.define\">\r\n            /// <summary locid=\"WinJS.UI.Pages.define\">\r\n            /// Creates a new page control from the specified URI that contains the specified members.\r\n            /// Multiple calls to this method for the same URI are allowed, and all members will be\r\n            /// merged.\r\n            /// </summary>\r\n            /// <param name=\"uri\" locid=\"WinJS.UI.Pages.define_p:uri\">\r\n            /// The URI for the content that defines the page.\r\n            /// </param>\r\n            /// <param name=\"members\" locid=\"WinJS.UI.Pages.define_p:members\">\r\n            /// Additional members that the control will have.\r\n            /// </param>\r\n            /// <returns type=\"Function\" locid=\"WinJS.UI.Pages.define_returnValue\">\r\n            /// A constructor function that creates the page.\r\n            /// </returns>\r\n            /// </signature>\r\n\r\n            var ctor = viewMap[uri];\r\n\r\n            if (!ctor) {\r\n                ctor = getPageConstructor(uri);\r\n            }\r\n\r\n            if (members) {\r\n                ctor = addMembers(ctor, members);\r\n            }\r\n\r\n            if (ctor.selfhost) {\r\n                WinJS.Utilities.ready(function () {\r\n                    render(abs(uri), _Global.document.body);\r\n                }, true);\r\n            }\r\n\r\n            return ctor;\r\n        }\r\n\r\n        function render(uri, element, options?, parentedPromise?) {\r\n            var Ctor = _CorePages.get(uri);\r\n            var control = new Ctor(element, options, null, parentedPromise);\r\n            return control.renderComplete.then(null, function (err) {\r\n                return Promise.wrapError({\r\n                    error: err,\r\n                    page: control\r\n                });\r\n            });\r\n        }\r\n\r\n        function get(uri) {\r\n            var ctor = viewMap[uri];\r\n            if (!ctor) {\r\n                ctor = Pages_define(uri);\r\n            }\r\n            return ctor;\r\n        }\r\n\r\n        function remove(uri) {\r\n            Fragments.clearCache(abs(uri));\r\n            delete viewMap[uri.toLowerCase()];\r\n        }\r\n\r\n        _Pages._corePages = {\r\n            get: _CorePages.get,\r\n            render: _CorePages.render,\r\n            define: _CorePages.define,\r\n            _remove: _CorePages._remove,\r\n            _viewMap: _CorePages._viewMap,\r\n        }\r\n\r\n        var pageOverride = {\r\n            define: Pages_define,\r\n            get: get,\r\n            render: render,\r\n            _remove: remove,\r\n            _viewMap: viewMap\r\n        };\r\n\r\n        var source = <any>WinJS.UI.Pages;\r\n        (<any>WinJS.Namespace)._moduleDefine(_Pages, null, pageOverride);\r\n        source.get = pageOverride.get;\r\n        source.define = pageOverride.define;\r\n        source.render = pageOverride.render;\r\n        source._remove = pageOverride._remove;\r\n\r\n    })(WinJSContrib.UI.Pages, window, WinJS, WinJS.UI.Pages, WinJS.Utilities, WinJS.Utilities, msWriteProfilerMark, WinJS.Promise, WinJS.UI.Fragments, WinJS.UI);\r\n\r\n}"]}
{"version":3,"sources":["winjscontrib.core.ts"],"names":["WinJSContrib","WinJSContrib.UI","WinJSContrib.UI.Pages","WinJSContrib.UI.Pages.define","WinJSContrib.UI.Pages.fragmentMixin","WinJSContrib.UI.Pages.broadcast","WinJSContrib.UI.Pages.renderFragment","WinJSContrib.UI.Pages.renderFragment.preparePageControl","WinJSContrib.UI.offsetFrom","WinJSContrib.UI.EventTracker","WinJSContrib.UI.EventTracker.constructor","WinJSContrib.UI.EventTracker.addEvent","WinJSContrib.UI.EventTracker.addBinding","WinJSContrib.UI.EventTracker.dispose","WinJSContrib.UI.appbarsOpen","WinJSContrib.UI.appbarsClose","WinJSContrib.UI.appbarsDisable","WinJSContrib.UI.appbarsEnable","WinJSContrib.UI.elementLoaded","onerror","onload","WinJSContrib.UI.loadImage","WinJSContrib.UI.listElementsAfterMe","WinJSContrib.UI.removeElementAnimation","WinJSContrib.UI.bindPageActions","WinJSContrib.UI.bindPageLinks","WinJSContrib.UI.parentNavigator","WinJSContrib.UI.bindMembers","WinJSContrib.UI.bindActions","WinJSContrib.UI.MediaTrigger","WinJSContrib.UI.MediaTrigger.constructor","WinJSContrib.UI.MediaTrigger.dispose","WinJSContrib.UI.MediaTrigger.registerMediaEvent","WinJSContrib.UI.MediaTrigger._mediaEvent","WinJSContrib.UI.MediaTrigger.check","WinJSContrib.UI.MediaTrigger.addEventListener","WinJSContrib.UI.MediaTrigger.dispatchEvent","WinJSContrib.UI.MediaTrigger.removeEventListener","WinJSContrib.UI.registerNavigationEvents","WinJSContrib.UI.registerNavigationEvents.cancelNavigation","padLeft","WinJSContrib.Promise","WinJSContrib.Promise.waterfall","WinJSContrib.Promise.promises","WinJSContrib.Promise.parallel","WinJSContrib.Promise.batch","WinJSContrib.Utils","WinJSContrib.Utils.startsWith","WinJSContrib.Utils.endsWith","WinJSContrib.Utils.queryStringFrom","WinJSContrib.Utils.triggerEvent","WinJSContrib.Utils.triggerCustomEvent","WinJSContrib.Utils.getobject","WinJSContrib.Utils.setobject","WinJSContrib.Utils.readProperty","WinJSContrib.Utils.PropertyDescriptor","WinJSContrib.Utils.PropertyDescriptor.constructor","WinJSContrib.Utils.PropertyDescriptor.ensureParent","WinJSContrib.Utils.PropertyDescriptor.propValue","WinJSContrib.Utils.getProperty","WinJSContrib.Utils.writeProperty","WinJSContrib.Utils.randomFromInterval","WinJSContrib.Utils.alphabeticSort","WinJSContrib.Utils.distinctArray","WinJSContrib.Utils.getDistinctPropertyValues","WinJSContrib.Utils.removeAccents","WinJSContrib.Utils.removePageFromHistory","WinJSContrib.Utils.pad2","WinJSContrib.Utils.ellipsisizeString","WinJSContrib.Utils.guid","WinJSContrib.Utils.inherit","WinJSContrib.Utils.moveChilds","WinJSContrib.Utils.getParent","WinJSContrib.Utils.getParentControlByClass","WinJSContrib.Utils.getParentPage","WinJSContrib.Utils.getScopeControl","WinJSContrib.Utils.getTemplate","WinJSContrib.Utils.resolveMethod","WinJSContrib.Utils.readValue","WinJSContrib.Utils.resolveValue","WinJSContrib.Utils.hasValue","WinJSContrib.Utils.formatXHRError","WinJSContrib.Utils.unwrapJoinError","WinJSContrib.Utils.inject"],"mappings":"AAKA,IAAO,YAAY,CA6WlB;AA7WD,WAAO,YAAY;IAACA,IAAAA,EAAEA,CA6WrBA;IA7WmBA,WAAAA,EAAEA;QAACC,IAAAA,KAAKA,CA6W3BA;QA7WsBA,WAAAA,KAAKA,EAACA,CAACA;YAC1BC,AAKAA;;;;eADGA;YACQA,2BAAqBA,GAAgBA,CAACA;gBAE7CA,CAACA,EAAEA,UAAUA,QAAQA;oBACjB,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACtD,CAAC;gBAEDA,CAACA,EAAEA,UAAUA,QAAQA;oBACjB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBAChD,CAAC;gBAEDA,IAAIA,EAAEA,UAAUA,QAAQA;oBACpB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;oBAClD,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;wBACtB,GAAG,CAAC,OAAO,GAAG,UAAU,QAAQ;4BAC5B,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCAClC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;4BACxB,CAAC;wBACL,CAAC,CAAA;oBACL,CAAC;gBACL,CAAC;gBAEDA,YAAYA,EAAEA;oBACVA,GAAGA,EAAEA;wBACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;4BACpB,IAAI,CAAC,aAAa,GAAG,IAAI,YAAY,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;wBAC5D,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;oBAC9B,CAAC;iBACJA;gBAEDA,QAAQA,EAAEA;oBACNA,GAAGA,EAAEA;wBACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;4BAChB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;wBACxB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;oBAC1B,CAAC;iBACJA;gBAEDA,UAAUA,EAAEA,UAAUA,IAAIA;oBACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACzB,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAEDA,cAAcA,EAAEA;oBACZ,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAChB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACnB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;4BAC9B,CAAC;wBACL,CAAC;oBACL,CAAC;gBACL,CAAC;aACJA,CAACA,CAACA;YAEHA,AAIAA;;;eADGA;qBACaA,MAAMA,CAACA,QAAQA,EAAEA,OAAOA;gBACpCC,IAAIA,IAAIA,GAAGA,KAAKA,CAACA,EAAEA,CAACA,KAAKA,CAACA,MAAMA,CAACA,QAAQA,EAAEA,OAAOA,CAACA,CAACA;gBACpDA,YAAYA,CAACA,EAAEA,CAACA,KAAKA,CAACA,aAAaA,CAACA,IAAIA,CAACA,CAACA;gBAC1CA,MAAMA,CAACA,IAAIA,CAACA;YAChBA,CAACA;YAJeD,YAAMA,GAANA,MAIfA,CAAAA;YAEDA,AAcAA;;;;;;;;;;;;;eADGA;qBACaA,aAAaA,CAACA,WAAWA;gBACrCE,IAAIA,KAAKA,GAAGA,WAAWA,CAACA,SAASA,CAACA;gBAElCA,EAAEA,CAACA,CAACA,WAAWA,CAACA,YAAYA,CAACA;oBACzBA,MAAMA,CAACA;gBAEXA,WAAWA,CAACA,YAAYA,GAAGA,IAAIA,CAACA;gBAEhCA,YAAYA,CAACA,EAAEA,CAACA,KAAKA,CAACA,qBAAqBA,CAACA,OAAOA,CAACA,UAAUA,KAAKA;oBAC/D,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;gBACxC,CAAC,CAACA,CAACA;gBAEHA,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA,CAACA;oBACjBA,AACAA,8CAD8CA;oBAC9CA,KAAKA,CAACA,OAAOA,GAAGA,KAAKA,CAACA,IAAIA,CAACA;oBAG3BA,KAAKA,CAACA,IAAIA,GAAGA,UAAUA,GAAGA;wBACtB,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG;4BAC3E,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;gCACjB,AACA,0GAD0G;gCAC1G,QAAQ,CAAC,KAAK,CAAC,CAAC;4BACpB,CAAC;4BACD,MAAM,CAAC,GAAG,CAAC;wBACf,CAAC,CAAC,CAAC;oBACP,CAAC,CAAAA;oBAEDA,IAAIA,QAAQA,GAAGA,UAAUA,KAAKA;wBAC1B,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC;wBACjC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC;wBAC3B,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC;wBACjC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC;wBACrC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC;wBAC/B,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;wBAC7B,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;wBAC7B,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,YAAY,CAAC;wBAE3C,KAAK,CAAC,IAAI,GAAG,UAAU,OAAO,EAAE,OAAO;4BACnC,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,IAAI,QAAQ,GAAG,SAAS,CAAC;4BACzB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;4BACtC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;4BAEzC,AAGA,4BAH4B;4BAC5B,mDAAmD;4BACnD,mCAAmC;4BACnC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,OAAO;gCAC9E,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;oCAChC,MAAM,CAAC,OAAO,CAAC;gCACnB,CAAC,CAAC,CAAA;4BACN,CAAC,CAAC,CAAC;wBACP,CAAC,CAAA;wBAED,KAAK,CAAC,OAAO,GAAG,UAAU,OAAO,EAAE,OAAO;4BACtC,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,IAAI,WAAW,GAAG,SAAS,CAAC;4BAC5B,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC;wBACtE,CAAC,CAAA;wBAED,KAAK,CAAC,SAAS,GAAG,UAAU,OAAO,EAAE,OAAO;4BACxC,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,IAAI,aAAa,GAAG,SAAS,CAAC;4BAC9B,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;4BAC3C,AAEA,wEAFwE;4BAExE,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;gCAChC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;4BACvF,CAAC,CAAC,CAAC,IAAI,CAAC;gCACJ,qDAAqD;gCACrD,iCAAiC;4BACrC,CAAC,CAAC,CAAC,IAAI,CAAC;gCACJ,0BAA0B;gCAC1B,mDAAmD;4BACvD,CAAC,CAAC,CAAC,IAAI,CAAC;gCACJ,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC7F,CAAC,CAAC,CAAC,IAAI,CAAC;gCACJ,yBAAyB;gCACzB,kDAAkD;4BACtD,CAAC,CAAC,CAAC,IAAI,CAAC;gCACJ,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC;4BAC1E,CAAC,CAAC,CAAC;wBAEP,CAAC,CAAA;wBAED,KAAK,CAAC,MAAM,GAAG,UAAU,OAAO,EAAE,OAAO,EAAE,UAAU;4BACjD,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,IAAI,UAAU,GAAG,SAAS,CAAC;4BAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;gCACjB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;4BACnF,IAAI;gCACA,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;4BAEnD,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC;wBACpE,CAAC,CAAA;wBAED,KAAK,CAAC,KAAK,GAAG,UAAU,OAAO,EAAE,OAAO;4BACpC,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;4BAC3C,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC;gCAC/D,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;4BACrE,CAAC,CAAC,CAAC,IAAI,CAAC;gCACJ,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;oCAC1B,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;gCACvE,CAAC;4BACL,CAAC,CAAC,CAAC,IAAI,CAAC;gCACJ,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;4BACjG,CAAC,CAAC,CAAC;wBACP,CAAC,CAAA;wBAED,KAAK,CAAC,OAAO,GAAG;4BACZ,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;4BAChC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gCACpB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;gCAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;4BAC9B,CAAC;4BACD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gCACvC,IAAI,CAAC,cAAc,EAAE,CAAC;gCACtB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;4BACxB,CAAC;4BAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;gCAChB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;wBAC9B,CAAC,CAAA;wBAED,KAAK,CAAC,YAAY,GAAG;4BACjB,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,IAAI,gBAAgB,GAAG,SAAS,CAAC;4BACjC,IAAI,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;4BAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gCACvB,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC,CAAC;4BAC7E,CAAC;4BAED,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;gCACV,yEAAyE;4BAC7E,CAAC,CAAC,CAAC;wBACP,CAAC,CAAA;oBACL,CAAC,CAAAA;gBACLA,CAACA;gBAEDA,MAAMA,CAACA,WAAWA,CAACA;YACvBA,CAACA;YA5IeF,mBAAaA,GAAbA,aA4IfA,CAAAA;YAEDA,SAASA,SAASA,CAACA,IAAIA,EAAEA,OAAOA,EAAEA,SAASA,EAAEA,IAAIA,EAAEA,MAAOA,EAAEA,KAAMA;gBAC9DG,IAAIA,eAAeA,GAAGA,OAAOA,CAACA,gBAAgBA,CAACA,kBAAkBA,CAACA,CAACA;gBACnEA,IAAIA,QAAQA,GAAGA,EAAEA,CAACA;gBAClBA,EAAEA,CAACA,CAACA,MAAMA,CAACA;oBACPA,QAAQA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,EAAEA,CAACA,MAAMA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBAG9DA,IAAIA,KAAKA,GAAGA,OAAOA,CAACA,gBAAgBA,CAACA,kBAAkBA,CAACA,CAACA;gBAEzDA,IAAIA,KAAKA,GAAGA,CAACA,CAACA;gBACdA,IAAIA,MAAMA,GAAGA,KAAKA,CAACA,MAAMA,CAACA;gBAC1BA,OAAOA,KAAKA,GAAGA,MAAMA,EAAEA,CAACA;oBACpBA,IAAIA,SAASA,GAAGA,KAAKA,CAACA,KAAKA,CAACA,CAACA;oBAC7BA,EAAEA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA;wBACZA,IAAIA,KAAKA,GAAGA,SAASA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA;wBAC5CA,EAAEA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;4BACRA,QAAQA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,EAAEA,CAACA,KAAKA,CAACA,KAAKA,CAACA,SAASA,CAACA,UAAUA,EAAEA,IAAIA,CAACA,CAACA,CAACA,CAACA;wBAE7EA,CAACA;oBACLA,CAACA;oBAEDA,AAEAA,mBAFmBA;oBACnBA,oFAAoFA;oBACpFA,KAAKA,IAAIA,CAACA,CAACA;gBACfA,CAACA;gBAEDA,EAAEA,CAACA,CAACA,KAAKA,CAACA;oBACNA,QAAQA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,EAAEA,CAACA,KAAKA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBAE7DA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;YACxCA,CAACA;YAEDH,AAQAA;;;;;;;eADGA;qBACaA,cAAcA,CAACA,SAASA,EAAEA,QAAQA,EAAEA,IAAIA,EAAEA,OAAOA;gBAC7DI,IAAIA,iBAAiBA,CAACA;gBACtBA,IAAIA,aAAaA,CAACA;gBAClBA,OAAOA,GAAGA,OAAOA,IAAIA,EAAEA,CAACA;gBACxBA,IAAIA,OAAOA,GAAGA,QAAQA,CAACA,aAAaA,CAACA,KAAKA,CAACA,CAACA;gBAC5CA,OAAOA,CAACA,YAAYA,CAACA,KAAKA,EAAEA,MAAMA,CAACA,gBAAgBA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,CAACA,SAASA,CAACA,CAACA;gBAC9EA,OAAOA,CAACA,KAAKA,CAACA,OAAOA,GAAGA,GAAGA,CAACA;gBAC5BA,SAASA,CAACA,WAAWA,CAACA,OAAOA,CAACA,CAACA;gBAE/BA,IAAIA,eAAeA,GAAGA,IAAIA,KAAKA,CAACA,OAAOA,CAACA,UAAUA,CAACA,EAAEA,CAACA;oBAAI,iBAAiB,GAAG,CAAC,CAAC;oBAAC,aAAa,GAAG,CAAC,CAAC;gBAAC,CAAC,CAACA,CAACA;gBACvGA,IAAIA,QAAQA,GAAGA,OAAOA,CAACA,QAAQA,EAACA,8BAA8BA;gBAC9DA,IAAIA,WAAWA,GAAGA,EAAEA,CAACA;gBACrBA,IAAIA,eAAeA,GAAGA,KAAKA,CAACA,EAAEA,CAACA,KAAKA,CAACA,GAAGA,CAACA,QAAQA,CAACA,CAACA;gBACnDA,YAAYA,CAACA,EAAEA,CAACA,KAAKA,CAACA,aAAaA,CAACA,eAAeA,CAACA,CAACA;gBAIrDA,SAASA,kBAAkBA,CAACA,WAAWA;oBACnCC,AAGAA,kCAHkCA;oBAClCA,gEAAgEA;oBAChEA,GAAGA;oBACHA,WAAWA,CAACA,eAAeA,GAAGA,EAAEA,QAAQA,EAAEA,QAAQA,EAAEA,KAAKA,EAAEA,IAAIA,EAAEA,CAACA;oBAClEA,EAAEA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA;wBACnBA,OAAOA,CAACA,QAAQA,CAACA,WAAWA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,CAACA;oBAChDA,CAACA;oBACDA,EAAEA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA,CAACA;wBACjBA,WAAWA,CAACA,YAAYA,CAACA,IAAIA,CAACA;4BAC1B,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;wBAC9C,CAAC,CAACA,CAACA;oBACPA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA;wBACnBA,WAAWA,CAACA,cAAcA,CAACA,IAAIA,CAACA;4BAC5B,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;wBAChD,CAAC,CAACA,CAACA;oBACPA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,OAAOA,CAACA,OAAOA,CAACA,CAACA,CAACA;wBAClBA,WAAWA,CAACA,cAAcA,CAACA,IAAIA,CAACA;4BAC5B,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC;wBACrC,CAAC,CAACA,CAACA,IAAIA,CAACA;4BACA,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;wBAC/C,CAAC,CAACA,CAACA;oBACXA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,WAAWA,CAACA,kBAAkBA,IAAIA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA;wBACtDA,EAAEA,CAACA,CAACA,WAAWA,CAACA,kBAAkBA,CAACA;4BAC/BA,WAAWA,CAACA,eAAeA,GAAGA,WAAWA,CAACA,kBAAkBA,CAACA;wBACjEA,IAAIA;4BACAA,WAAWA,CAACA,eAAeA,GAAGA,OAAOA,CAACA,SAASA,CAACA;wBAEpDA,WAAWA,CAACA,kBAAkBA,GAAGA;4BAC7B,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,IAAI,IAAI,GAAG,IAAI,CAAC;4BAChB,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;4BAC3B,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;gCACpC,IAAI,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;4BAC5C,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;4BACxB,CAAC;4BAED,AACA,kDADkD;4BAClD,EAAE,CAAC,CAAC,IAAI,CAAC;gCACL,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBAC1C,CAAC,CAAAA;oBACLA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,OAAOA,CAACA,mBAAmBA,CAACA,CAACA,CAACA;wBAC9BA,WAAWA,CAACA,oBAAoBA,GAAGA,OAAOA,CAACA,mBAAmBA,CAACA;wBAC/DA,WAAWA,CAACA,cAAcA,GAAGA;4BACzB,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC;wBACrC,CAAC,CAAAA;oBACLA,CAACA;oBAEDA,EAAEA,CAACA,CAACA,CAACA,WAAWA,CAACA,UAAUA,CAACA;wBAACA,WAAWA,CAACA,UAAUA,GAAGA,EAAEA,CAACA;oBAEzDA,WAAWA,CAACA,oBAAoBA,GAAGA,WAAWA,CAACA,cAAcA,CAACA,IAAIA,CAACA;wBAC/D,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,oBAAoB,CAAC;4BACtC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBACnD,CAAC,CAACA,CAACA,IAAIA,CAACA,UAAUA,OAAOA;wBACjB,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC;oBACpC,CAAC,CAACA,CAACA,IAAIA,CAACA,UAAUA,OAAOA;wBACrB,EAAE,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;4BAChC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,EAAE,UAAU,EAAE;gCAAI,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;4BAAC,CAAC,CAAC,CAAA;wBAClH,CAAC;oBACL,CAAC,CAACA,CAACA,IAAIA,CAACA;wBACJ,EAAE,CAAC,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC;4BACjC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,kBAAkB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;wBAC9E,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;wBAC3C,CAAC;oBACL,CAAC,CAACA,CAACA,IAAIA,CAACA,iBAAiBA,EAAEA,aAAaA,CAACA,CAACA;gBAClDA,CAACA;gBAEDD,IAAIA,WAAWA,GAAGA,IAAIA,eAAeA,CAACA,OAAOA,EAAEA,IAAIA,EAAEA,kBAAkBA,EAAEA,QAAQA,CAACA,CAACA;gBACnFA,WAAWA,CAACA,gBAAgBA,GAAGA,QAAQA,CAACA;gBACxCA,MAAMA,CAACA,eAAeA,CAACA;YAC3BA,CAACA;YAjGeJ,oBAAcA,GAAdA,cAiGfA,CAAAA;QAELA,CAACA,EA7WsBD,KAAKA,GAALA,QAAKA,KAALA,QAAKA,QA6W3BA;IAADA,CAACA,EA7WmBD,EAAEA,GAAFA,eAAEA,KAAFA,eAAEA,QA6WrBA;AAADA,CAACA,EA7WM,YAAY,KAAZ,YAAY,QA6WlB;AACD,AAIA,6CAJ6C;AAC7C,4CAA4C;AAC5C,4CAA4C;AAO5C,IAAO,YAAY,CAmlBlB;AAnlBD,WAAO,YAAY;IAACA,IAAAA,EAAEA,CAmlBrBA;IAnlBmBA,WAAAA,EAAEA,EAACA,CAACA;QAKTC,cAAWA,GAA4BA,EAAEA,CAACA;QAErDA,AAKAA;;;;WADGA;QACQA,uBAAoBA,GAAYA,KAAKA,CAACA;QAIjDA,AAMAA;;;;;WADGA;iBACaA,UAAUA,CAACA,OAAoBA,EAAEA,MAAmBA;YAChEO,IAAIA,SAASA,GAAGA,CAACA,CAACA;YAClBA,IAAIA,SAASA,GAAGA,CAACA,CAACA;YAClBA,IAAIA,CAACA,GAAGA,OAAOA,CAACA,WAAWA,CAACA;YAC5BA,IAAIA,CAACA,GAAGA,OAAOA,CAACA,YAAYA,CAACA;YAE7BA,OAAOA,OAAOA,IAAIA,OAAOA,IAAIA,MAAMA,EAAEA,CAACA;gBAClCA,SAASA,IAAIA,CAACA,OAAOA,CAACA,UAAUA,GAAGA,OAAOA,CAACA,UAAUA,GAAGA,OAAOA,CAACA,UAAUA,CAACA,CAACA;gBAC5EA,SAASA,IAAIA,CAACA,OAAOA,CAACA,SAASA,GAAGA,OAAOA,CAACA,SAASA,GAAGA,OAAOA,CAACA,SAASA,CAACA,CAACA;gBACzEA,OAAOA,GAAgBA,OAAOA,CAACA,YAAYA,CAACA;YAEhDA,CAACA;YAEDA,MAAMA,CAACA,EAAEA,CAACA,EAAEA,SAASA,EAAEA,CAACA,EAAEA,SAASA,EAAEA,KAAKA,EAAEA,CAACA,EAAEA,MAAMA,EAAEA,CAACA,EAAEA,CAACA;QAC/DA,CAACA;QAdeP,aAAUA,GAAVA,UAcfA,CAAAA;QAGDA,IAAaA,YAAYA;YAGrBQ;;;eAGGA;YACHA,SAPSA,YAAYA;gBAQjBC,IAAIA,CAACA,MAAMA,GAAGA,EAAEA,CAACA;YACrBA,CAACA;YAEDD;;;;;;;;eAQGA;YACIA,+BAAQA,GAAfA,UAAgBA,CAACA,EAAEA,SAAiBA,EAAEA,OAAOA,EAAEA,OAAgBA;gBAC3DE,IAAIA,OAAOA,GAAGA,IAAIA,CAACA;gBACnBA,CAACA,CAACA,gBAAgBA,CAACA,SAASA,EAAEA,OAAOA,EAAEA,OAAOA,CAACA,CAACA;gBAChDA,IAAIA,UAAUA,GAAGA;oBACb,IAAA,CAAC;wBACG,CAAC,CAAC,mBAAmB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;wBAC1C,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;wBAC7C,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;4BACX,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;wBAClC,CAAC;oBACL,CAAE;oBAAA,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACjB,OAAO,CAAC,KAAK,CAAC,4CAA4C,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;oBACpF,CAAC;gBACL,CAAC,CAACA;gBAEFA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;gBAC7BA,MAAMA,CAACA,UAAUA,CAACA;YACtBA,CAACA;YAEDF;;;;;;eAMGA;YACIA,iCAAUA,GAAjBA,UAAkBA,CAACA,EAAEA,SAAiBA,EAAEA,OAAOA;gBAC3CG,CAACA,CAACA,IAAIA,CAACA,SAASA,EAAEA,OAAOA,CAACA,CAACA;gBAC3BA,IAAIA,UAAUA,GAAGA;oBACb,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;gBACjC,CAAC,CAACA;gBACFA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;gBAC7BA,MAAMA,CAACA,UAAUA,CAACA;YACtBA,CAACA;YAEDH;;;eAGGA;YACIA,8BAAOA,GAAdA;gBACII,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAC1CA,IAAIA,CAACA,MAAMA,CAACA,CAACA,CAACA,EAAEA,CAACA;gBACrBA,CAACA;gBACDA,IAAIA,CAACA,MAAMA,GAAGA,EAAEA,CAACA;YACrBA,CAACA;YACLJ,mBAACA;QAADA,CAjEAR,AAiECQ,IAAAR;QAjEYA,eAAYA,GAAZA,YAiEZA,CAAAA;QAEDA,AAIAA;;;WADGA;iBACaA,WAAWA;YACvBa,IAAIA,GAAGA,GAAGA,QAAQA,CAACA,gBAAgBA,CAACA,iFAAiFA,CAACA,CAACA;YACvHA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,GAAGA,CAACA,MAAMA,CAACA,CAACA,CAACA;gBACpBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,GAAGA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAClCA,IAAIA,CAACA,GAAQA,GAAGA,CAACA,CAACA,CAACA,CAACA;oBACpBA,EAAEA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,CAACA,CAACA;wBACfA,CAACA,CAACA,UAAUA,CAACA,IAAIA,EAAEA,CAACA;oBACxBA,CAACA;gBACLA,CAACA;YACLA,CAACA;QACLA,CAACA;QAVeb,cAAWA,GAAXA,WAUfA,CAAAA;QAEDA,AAIAA;;;WADGA;iBACaA,YAAYA;YACxBc,IAAIA,GAAGA,GAAGA,QAAQA,CAACA,gBAAgBA,CAACA,iFAAiFA,CAACA,CAACA;YACvHA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,GAAGA,CAACA,MAAMA,CAACA,CAACA,CAACA;gBACpBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,GAAGA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAClCA,IAAIA,CAACA,GAAQA,GAAGA,CAACA,CAACA,CAACA,CAACA;oBACpBA,EAAEA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,CAACA,CAACA;wBACfA,CAACA,CAACA,UAAUA,CAACA,IAAIA,EAAEA,CAACA;oBACxBA,CAACA;gBACLA,CAACA;YACLA,CAACA;QACLA,CAACA;QAVed,eAAYA,GAAZA,YAUfA,CAAAA;QAEDA,AAIAA;;;WADGA;iBACaA,cAAcA;YAC1Be,IAAIA,GAAGA,GAAGA,QAAQA,CAACA,gBAAgBA,CAACA,iFAAiFA,CAACA,CAACA;YACvHA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,GAAGA,CAACA,MAAMA,CAACA,CAACA,CAACA;gBACpBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,GAAGA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBAClCA,IAAIA,CAACA,GAAQA,GAAGA,CAACA,CAACA,CAACA,CAACA;oBACpBA,EAAEA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,CAACA,CAAC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","file":"winjscontrib.core.js","sourceRoot":"C:/projects/github/winjscontrib/","sourcesContent":["interface JQuery {\r\n    tap(func);\r\n    untap();\r\n} \r\n\r\nmodule WinJSContrib.UI.Pages {\r\n    /**\r\n     * List of mixins to apply to each fragment managed by WinJS Contrib (through navigator or by calling explicitely {@link WinJSContrib.UI.Pages.fragmentMixin}).\r\n     * @field WinJSContrib.UI.Pages.defaultFragmentMixins\r\n     * @type {Array}\r\n     */\r\n    export var defaultFragmentMixins : Array<any> = [{\r\n\r\n        $: function (selector) {\r\n            return $(selector, this.element || this._element);\r\n        },\r\n\r\n        q: function (selector) {\r\n            return this.element.querySelector(selector);\r\n        },\r\n\r\n        qAll: function (selector) {\r\n            var res = this.element.querySelectorAll(selector);\r\n            if (res && !res.forEach) {\r\n                res.forEach = function (callback) {\r\n                    for (var i = 0; i < res.length; i++) {\r\n                        callback(res[i], i);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        eventTracker: {\r\n            get: function () {\r\n                if (!this._eventTracker)\r\n                    this._eventTracker = new WinJSContrib.UI.EventTracker();\r\n                return this._eventTracker;\r\n            }\r\n        },\r\n\r\n        promises: {\r\n            get: function () {\r\n                if (!this._promises)\r\n                    this._promises = [];\r\n                return this._promises;\r\n            }\r\n        },\r\n\r\n        addPromise: function (prom) {\r\n            this.promises.push(prom);\r\n            return prom;\r\n        },\r\n\r\n        cancelPromises: function () {\r\n            var page = this;\r\n            if (page.promises) {\r\n                for (var i = 0; i < page.promises.length; i++) {\r\n                    if (page.promises[i]) {\r\n                        page.promises[i].cancel();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }];\r\n\r\n    /**\r\n     * substitute for WinJS.UI.Pages.define that injects custom WinJS Contrib behaviors\r\n     * @function WinJSContrib.UI.Pages.define\r\n     */\r\n    export function define(location, members) {\r\n        var ctor = WinJS.UI.Pages.define(location, members);\r\n        WinJSContrib.UI.Pages.fragmentMixin(ctor);\r\n        return ctor;\r\n    }\r\n\r\n    /**\r\n     * Inject WinJSContrib fragment enhancements, such as \"$\",\"q\", \"qAll\" functions for scoped selectors, eventTracker and promises properties\r\n     * This enhancement also allows you to add behavior on each WinJS fragment by adding them to {@link WinJSContrib.UI.Pages.defaultFragmentMixins}\r\n     * WinJS Contrib navigator is calling this method before processing the page, so you don't need to explicitely wrap all your pages if you use it \r\n     * @function WinJSContrib.UI.Pages.fragmentMixin\r\n     * @param {function} constructor constructor for the fragment\r\n     * @returns {function} constructor for the fragment\r\n     * @example\r\n     * WinJSContrib.UI.Pages.fragmentMixin(WinJS.UI.Pages.define(\"./demos/home.html\", {\r\n     *     ready : function(){\r\n     *         //your page ready stuff\r\n     *     }\r\n     * }));\r\n     */\r\n    export function fragmentMixin(constructor) {\r\n        var proto = constructor.prototype;\r\n\r\n        if (constructor.winJSContrib)\r\n            return;\r\n\r\n        constructor.winJSContrib = true;\r\n\r\n        WinJSContrib.UI.Pages.defaultFragmentMixins.forEach(function (mixin) {\r\n            WinJS.Class.mix(constructor, mixin);\r\n        });\r\n\r\n        if (!proto.__wLoad) {\r\n            //wrap WinJS page events with custom functions\r\n            proto.__wLoad = proto.load;\r\n\r\n\r\n            proto.load = function (uri) {\r\n                return WinJS.Promise.as(this.__wLoad.apply(this, arguments)).then(function (arg) {\r\n                    if (!proto.__wInit) {\r\n                        //this register should happen after first page load, otherwise page methods will override framework method\r\n                        register(proto);\r\n                    }\r\n                    return arg;\r\n                });\r\n            }\r\n\r\n            var register = function (proto) {\r\n                proto.__wDispose = proto.dispose;\r\n                proto.__wInit = proto.init;\r\n                proto.__wProcess = proto.process;\r\n                proto.__wProcessed = proto.processed;\r\n                proto.__wRender = proto.render;\r\n                proto.__wReady = proto.ready;\r\n                proto.__wError = proto.error;\r\n                proto.__wUpdateLayout = proto.updateLayout;\r\n\r\n                proto.init = function (element, options) {\r\n                    var page = this;\r\n                    var initArgs = arguments;\r\n                    element.classList.add('mcn-fragment');\r\n                    element.classList.add('mcn-layout-ctrl');\r\n\r\n                    //if (element.style.display)\r\n                    //    this._initialDisplay = element.style.display;\r\n                    //element.style.display = 'hidden';\r\n                    return WinJS.Promise.as(page.__wInit.apply(this, initArgs)).then(function (initres) {\r\n                        return WinJS.Promise.timeout().then(function () {\r\n                            return initres;\r\n                        })\r\n                    });\r\n                }\r\n\r\n                proto.process = function (element, options) {\r\n                    var page = this;\r\n                    var processargs = arguments;\r\n                    return WinJS.Promise.as(page.__wProcess.apply(page, processargs));\r\n                }\r\n\r\n                proto.processed = function (element, options) {\r\n                    var page = this;\r\n                    var processedargs = arguments;\r\n                    WinJSContrib.UI.bindMembers(element, page);\r\n                    //return WinJS.Promise.as(page.__wProcessed.apply(page, processedargs));\r\n\r\n                    return page.prepareDataPromise.then(function () {\r\n                        return broadcast(page, element, 'prepare', [element, options], null, page.prepare);\r\n                    }).then(function () {\r\n                        //element.style.display = page._initialDisplay || '';\r\n                        //return WinJS.Promise.timeout();\r\n                    }).then(function () {\r\n                        //if (page.onbeforelayout)\r\n                        //    return page.onbeforelayout(element, options);\r\n                    }).then(function () {\r\n                        return broadcast(page, element, 'pageLayout', [element, options], null, page.pageLayout);\r\n                    }).then(function () {\r\n                        //if (page.onafterlayout)\r\n                        //    return page.onafterlayout(element, options);\r\n                    }).then(function () {\r\n                        return WinJS.Promise.as(page.__wProcessed.apply(page, processedargs));\r\n                    });\r\n\r\n                }\r\n\r\n                proto.render = function (element, options, loadResult) {\r\n                    var page = this;\r\n                    var renderargs = arguments;\r\n                    if (page.prepareData)\r\n                        page.prepareDataPromise = WinJS.Promise.as(page.prepareData(element, options));\r\n                    else\r\n                        page.prepareDataPromise = WinJS.Promise.wrap();\r\n\r\n                    return WinJS.Promise.as(page.__wRender.apply(page, renderargs));\r\n                }\r\n\r\n                proto.ready = function (element, options) {\r\n                    var page = this;\r\n                    WinJSContrib.UI.bindActions(element, this);\r\n                    return WinJS.Promise.as(page.__wReady.apply(page, arguments)).then(function () {\r\n                        return broadcast(page, element, 'pageReady', [element, options]);\r\n                    }).then(function () {\r\n                        if (page.enterPageAnimation) {\r\n                            return WinJS.Promise.as(page.enterPageAnimation(element, options));\r\n                        }\r\n                    }).then(function () {\r\n                        return broadcast(page, element, 'contentReady', [element, options], null, page.contentReady);\r\n                    });\r\n                }\r\n\r\n                proto.dispose = function () {\r\n                    $('.tap', this.element).untap();\r\n                    if (this.eventTracker) {\r\n                        this.eventTracker.dispose();\r\n                        this._eventTracker = null;\r\n                    }\r\n                    if (this.promises && this.cancelPromises) {\r\n                        this.cancelPromises();\r\n                        this._promises = [];\r\n                    }\r\n\r\n                    if (this.__wDispose)\r\n                        this.__wDispose(this);\r\n                }\r\n\r\n                proto.updateLayout = function () {\r\n                    var page = this;\r\n                    var updateLayoutArgs = arguments;\r\n                    var p = WinJS.Promise.wrap();\r\n                    if (page.__wUpdateLayout) {\r\n                        p = WinJS.Promise.as(page.__wUpdateLayout.apply(page, updateLayoutArgs));\r\n                    }\r\n\r\n                    return p.then(function () {\r\n                        //return broadcast(page, page.element, 'updateLayout', updateLayoutArgs);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        return constructor;\r\n    }\r\n\r\n    function broadcast(ctrl, element, eventName, args, before?, after?) {\r\n        var pagelayoutCtrls = element.querySelectorAll('.mcn-layout-ctrl');\r\n        var promises = [];\r\n        if (before)\r\n            promises.push(WinJS.Promise.as(before.apply(ctrl, args)));\r\n\r\n\r\n        var query = element.querySelectorAll(\".mcn-layout-ctrl\");\r\n\r\n        var index = 0;\r\n        var length = query.length;\r\n        while (index < length) {\r\n            var childctrl = query[index];\r\n            if (childctrl) {\r\n                var event = childctrl.winControl[eventName];\r\n                if (event) {\r\n                    promises.push(WinJS.Promise.as(event.apply(childctrl.winControl, args)));\r\n\r\n                }\r\n            }\r\n\r\n            // Skip descendants\r\n            //index += childctrl.querySelectorAll(\".mcn-fragment, .mcn-layout-ctrl\").length + 1;\r\n            index += 1;\r\n        }\r\n\r\n        if (after)\r\n            promises.push(WinJS.Promise.as(after.apply(ctrl, args)));\r\n\r\n        return WinJS.Promise.join(promises);\r\n    }\r\n\r\n    /**\r\n     * render a html fragment with winjs contrib pipeline and properties, and add WinJS Contrib page events.\r\n     * @function WinJSContrib.UI.Pages.renderFragment\r\n     * @param {HTMLElement} container element that will contain the fragment\r\n     * @param {string} location url for the fragment\r\n     * @param {Object} args arguments to the fragment\r\n     * @param {Object} options rendering options\r\n     */\r\n    export function renderFragment(container, location, args, options) {\r\n        var fragmentCompleted;\r\n        var fragmentError;\r\n        options = options || {};\r\n        var element = document.createElement(\"div\");\r\n        element.setAttribute(\"dir\", window.getComputedStyle(element, null).direction);\r\n        element.style.opacity = '0';\r\n        container.appendChild(element);\r\n\r\n        var fragmentPromise = new WinJS.Promise(function (c, e) { fragmentCompleted = c; fragmentError = e; });\r\n        var parented = options.parented;// || WinJS.Promise.timeout();\r\n        var layoutCtrls = [];\r\n        var pageConstructor = WinJS.UI.Pages.get(location);\r\n        WinJSContrib.UI.Pages.fragmentMixin(pageConstructor);\r\n\r\n\r\n\r\n        function preparePageControl(elementCtrl) {\r\n            //if (args && args.injectToPage) {\r\n            //    WinJSContrib.Utils.inject(elementCtrl, args.injectToPage);\r\n            //}\r\n            elementCtrl.navigationState = { location: location, state: args };\r\n            if (options.oncreate) {\r\n                options.oncreate(elementCtrl.element, args);\r\n            }\r\n            if (options.oninit) {\r\n                elementCtrl.elementReady.then(function () {\r\n                    options.oninit(elementCtrl.element, args);\r\n                });\r\n            }\r\n\r\n            if (options.onrender) {\r\n                elementCtrl.renderComplete.then(function () {\r\n                    options.onrender(elementCtrl.element, args);\r\n                });\r\n            }\r\n\r\n            if (options.onready) {\r\n                elementCtrl.renderComplete.then(function () {\r\n                    return elementCtrl.readyComplete;\r\n                }).then(function () {\r\n                        options.onready(elementCtrl.element, args);\r\n                    });\r\n            }\r\n\r\n            if (elementCtrl.enterPageAnimation || options.enterPage) {\r\n                if (elementCtrl.enterPageAnimation)\r\n                    elementCtrl._enterAnimation = elementCtrl.enterPageAnimation;\r\n                else\r\n                    elementCtrl._enterAnimation = options.enterPage;\r\n\r\n                elementCtrl.enterPageAnimation = function () {\r\n                    var page = this;\r\n                    var elts = null;\r\n                    element.style.opacity = '';\r\n                    if (page && page.getAnimationElements) {\r\n                        elts = page.getAnimationElements(false);\r\n                    } else {\r\n                        elts = page.element;\r\n                    }\r\n\r\n                    //this.dispatchEvent(\"pageContentReady\", navargs);\r\n                    if (elts)\r\n                        return page._enterAnimation(elts);\r\n                }\r\n            }\r\n\r\n            if (options.closeOldPagePromise) {\r\n                elementCtrl._beforelayoutPromise = options.closeOldPagePromise;\r\n                elementCtrl.onbeforelayout = function () {\r\n                    return this._beforelayoutPromise;\r\n                }\r\n            }\r\n\r\n            if (!elementCtrl.beforeShow) elementCtrl.beforeShow = [];\r\n\r\n            elementCtrl.contentReadyComplete = elementCtrl.renderComplete.then(function () {\r\n                if (!WinJSContrib.UI.disableAutoResources)\r\n                    return WinJS.Resources.processAll(element);\r\n            }).then(function (control) {\r\n                    return elementCtrl.elementReady;\r\n                }).then(function (control) {\r\n                    if (elementCtrl.beforeShow.length) {\r\n                        return WinJSContrib.Promise.parallel(elementCtrl.beforeShow, function (cb) { return WinJS.Promise.as(cb()); })\r\n                    }\r\n                }).then(function () {\r\n                    if (elementCtrl.enterPageAnimation) {\r\n                        return WinJS.Promise.as(elementCtrl.enterPageAnimation(element, options));\r\n                    } else {\r\n                        elementCtrl.element.style.opacity = '';\r\n                    }\r\n                }).then(fragmentCompleted, fragmentError);\r\n        }\r\n\r\n        var elementCtrl = new pageConstructor(element, args, preparePageControl, parented);\r\n        elementCtrl.parentedComplete = parented;\r\n        return fragmentPromise;\r\n    }\r\n\r\n}\r\n///<reference path=\"../typings/jquery.d.ts\"/>\r\n///<reference path=\"../typings/winjs.d.ts\"/>\r\n///<reference path=\"../typings/winrt.d.ts\"/>\r\n\r\ninterface JQuery {\r\n    tap(func);\r\n    untap();\r\n} \r\n\r\nmodule WinJSContrib.UI {       \r\n    export interface WinJSContribApplication {\r\n        navigator? : any\r\n    }\r\n\r\n    export var Application: WinJSContribApplication = {};\r\n\r\n    /**\r\n     * indicate if fragment should not look for resources when building control\r\n     * @field WinJSContrib.UI.disableAutoResources\r\n     * @type {boolean}\r\n     */\r\n    export var disableAutoResources: boolean = false;\r\n\r\n\r\n\r\n    /**\r\n     * Calculate offset of element relative to parent element. If parent parameter is null, offset is relative to document\r\n     * @function WinJSContrib.UI.offsetFrom\r\n     * @param {HTMLElement} element element to evaluate\r\n     * @param {HTMLElement} parent reference of offset\r\n     */\r\n    export function offsetFrom(element: HTMLElement, parent: HTMLElement) {\r\n        var xPosition = 0;\r\n        var yPosition = 0;\r\n        var w = element.clientWidth;\r\n        var h = element.clientHeight;\r\n\r\n        while (element && element != parent) {\r\n            xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);\r\n            yPosition += (element.offsetTop - element.scrollTop + element.clientTop);\r\n            element = <HTMLElement>element.offsetParent;\r\n\r\n        }\r\n\r\n        return { x: xPosition, y: yPosition, width: w, height: h };\r\n    }\r\n\r\n\r\n    export class EventTracker {\r\n        public events: Array<any>;\r\n\r\n        /**\r\n         * @class WinJSContrib.UI.EventTracker\r\n         * @classdesc object to register and release events from addEventListener or bind\r\n         */\r\n        constructor() {\r\n            this.events = [];\r\n        }\r\n\r\n        /**\r\n         * register an event from an object\r\n         * @function WinJSContrib.UI.EventTracker.prototype.addEvent\r\n         * @param {Object} e object containing addEventListener\r\n         * @param {string} eventName name of the event\r\n         * @param {function} handler\r\n         * @param {boolean} capture\r\n         * @returns {function} function to call for unregistering the event\r\n         */\r\n        public addEvent(e, eventName: string, handler, capture: boolean) {\r\n            var tracker = this;\r\n            e.addEventListener(eventName, handler, capture);\r\n            var unregister = function () {\r\n                try {\r\n                    e.removeEventListener(eventName, handler);\r\n                    var idx = tracker.events.indexOf(unregister);\r\n                    if (idx >= 0) {\r\n                        tracker.events.splice(idx, 1);\r\n                    }\r\n                } catch (exception) {\r\n                    console.error('unexpected error while releasing callback ' + exception.message);\r\n                }\r\n            };\r\n\r\n            this.events.push(unregister);\r\n            return unregister;\r\n        }\r\n\r\n        /**\r\n         * register binding event\r\n         * @function WinJSContrib.UI.EventTracker.prototype.addBinding\r\n         * @param {Object} e object containing bind method\r\n         * @param {string} eventName name of the binding event\r\n         * @param {function} handler\r\n         */\r\n        public addBinding(e, eventName: string, handler) {\r\n            e.bind(eventName, handler);\r\n            var unregister = function () {\r\n                e.unbind(eventName, handler);\r\n            };\r\n            this.events.push(unregister);\r\n            return unregister;\r\n        }\r\n\r\n        /**\r\n         * release all registered events\r\n         * @function WinJSContrib.UI.EventTracker.prototype.dispose\r\n         */\r\n        public dispose() {\r\n            for (var i = 0; i < this.events.length; i++) {\r\n                this.events[i]();\r\n            }\r\n            this.events = [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * open all appbars\r\n     * @function WinJSContrib.UI.appbarsOpen\r\n     */\r\n    export function appbarsOpen() {\r\n        var res = document.querySelectorAll('div[data-win-control=\"WinJS.UI.AppBar\"],div[data-win-control=\"WinJS.UI.NavBar\"]');\r\n        if (res && res.length) {\r\n            for (var i = 0; i < res.length; i++) {\r\n                var e = <any>res[i];\r\n                if (e.winControl) {\r\n                    e.winControl.show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * close all appbars\r\n     * @function WinJSContrib.UI.appbarsClose\r\n     */\r\n    export function appbarsClose() {\r\n        var res = document.querySelectorAll('div[data-win-control=\"WinJS.UI.AppBar\"],div[data-win-control=\"WinJS.UI.NavBar\"]');\r\n        if (res && res.length) {\r\n            for (var i = 0; i < res.length; i++) {\r\n                var e = <any>res[i];\r\n                if (e.winControl) {\r\n                    e.winControl.hide();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * disable all appbars\r\n     * @function WinJSContrib.UI.appbarsDisable\r\n     */\r\n    export function appbarsDisable() {\r\n        var res = document.querySelectorAll('div[data-win-control=\"WinJS.UI.AppBar\"],div[data-win-control=\"WinJS.UI.NavBar\"]');\r\n        if (res && res.length) {\r\n            for (var i = 0; i < res.length; i++) {\r\n                var e = <any>res[i];\r\n                if (e.winControl) {\r\n                    e.winControl.disabled = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * enable all appbars\r\n     * @function WinJSContrib.UI.appbarsEnable\r\n     */\r\n    export function appbarsEnable() {\r\n        $('div[data-win-control=\"WinJS.UI.AppBar\"],div[data-win-control=\"WinJS.UI.NavBar\"]').each(function () {\r\n            if (this.winControl) {\r\n                this.winControl.disabled = false;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /** \r\n     * build a promise around element \"load\" event (work for all element with src property like images, iframes, ...)\r\n     * @function WinJSContrib.UI.elementLoaded\r\n     * @param {HTMLElement} element\r\n     * @param {string} url url used to feed \"src\" on element\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function elementLoaded(elt, url) {\r\n        return new WinJS.Promise(function (complete, error) {\r\n            function onerror(e) {\r\n                elt.onload = undefined;\r\n                elt.onerror = undefined;\r\n                elt.onreadystatechange = undefined;\r\n                error('element not loaded');\r\n            }\r\n\r\n            function onload(e) {\r\n                elt.onload = undefined;\r\n                elt.onerror = undefined;\r\n                elt.onreadystatechange = undefined;\r\n                complete({\r\n                    element: elt,\r\n                    url: url\r\n                });\r\n            }\r\n\r\n            elt.onerror = onerror;\r\n            elt.onload = onload;\r\n            elt.onreadystatechange = onload;\r\n            if (elt.naturalWidth > 0) {\r\n                onload(undefined);\r\n            }\r\n            elt.src = url;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create a promise for getting an image object from url\r\n     * @function WinJSContrib.UI.loadImage\r\n     * @param {string} imgUrl url for the picture\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function loadImage(imgUrl) {\r\n        return new WinJS.Promise(function (complete, error) {\r\n            var image = new Image();\r\n\r\n            function onerror(e) {\r\n                image.onload = undefined;\r\n                image.onerror = undefined;\r\n                error('image not loaded');\r\n            }\r\n\r\n            function onload(e) {\r\n                image.onload = undefined;\r\n                image.onerror = undefined;\r\n                complete({\r\n                    element: image,\r\n                    url: imgUrl\r\n                });\r\n            }\r\n\r\n            image.onerror = onerror;\r\n            image.onload = onload;\r\n            if (image.naturalWidth > 0) {\r\n                onload(undefined);\r\n            }\r\n            image.src = imgUrl;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * List all elements found after provided element\r\n     * @function WinJSContrib.UI.listElementsAfterMe\r\n     * @param {HTMLElement} elt target element\r\n     * @returns {Array} list of sibling elements\r\n     */\r\n    export function listElementsAfterMe(elt) {\r\n        var res = [];\r\n        var passed = false;\r\n        if (elt.parentElement) {\r\n            var parent = elt.parentElement;\r\n            for (var i = 0; i < parent.children.length; i++) {\r\n                if (parent.children[i] === elt) {\r\n                    passed = true;\r\n                } else if (passed) {\r\n                    res.push(parent.children[i]);\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * create an animation for removing an element from a list\r\n     * @function WinJSContrib.UI.removeElementAnimation\r\n     * @param {HTMLElement} element that will be removed\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function removeElementAnimation(elt) {\r\n        return new WinJS.Promise(function (complete, error) {\r\n            var remainings = WinJSContrib.UI.listElementsAfterMe(elt);\r\n            var anim = WinJS.UI.Animation.createDeleteFromListAnimation([\r\n                elt\r\n            ], remainings);\r\n            elt.style.position = \"fixed\";\r\n            elt.style.opacity = '0';\r\n            anim.execute().done(function () {\r\n                complete(elt);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * setup declarative binding to parent control function. It looks for \"data-page-action\" attributes, \r\n     * and try to find a matching method on the supplyed control.\r\n     * You could add arguments with a \"page-action-args\" attribute. The argument can be an object or a function\r\n     * @function WinJSContrib.UI.bindPageActions\r\n     * @param {HTMLElement} element root node crawled for page actions\r\n     * @param {Object} control control owning functions to call\r\n     */\r\n    export function bindPageActions(element, control) {\r\n        $('*[data-page-action]', element).each(function () {\r\n            var actionName = $(this).addClass('page-action').data('page-action');\r\n\r\n            var action = control[actionName];\r\n            if (action && typeof action === 'function') {\r\n                $(this).tap(function (eltarg) {\r\n                    var actionArgs = $(eltarg).data('page-action-args');\r\n                    if (actionArgs && typeof actionArgs == 'string') {\r\n                        try {\r\n                            var tmp = WinJSContrib.Utils.readValue(eltarg, actionArgs);\r\n                            if (tmp) {\r\n                                actionArgs = tmp;\r\n                            } else {\r\n                                actionArgs = JSON.parse(actionArgs);\r\n                            }\r\n                        } catch (exception) {\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    control[actionName].bind(control)({ elt: eltarg, args: actionArgs });\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * setup declarative binding to page link. It looks for \"data-page-link\" attributes. \r\n     * If any the content of the attribute point toward a page. clicking that element will navigate to that page.\r\n     * You could add arguments with a \"page-action-args\" attribute. The argument can be an object or a function\r\n     * @function WinJSContrib.UI.bindPageLinks\r\n     * @param {HTMLElement} element root node crawled for page actions\r\n     */\r\n    export function bindPageLinks(element) {\r\n        $('*[data-page-link]', element).each(function () {\r\n            var target = $(this).addClass('page-link').data('page-link');\r\n\r\n            if (target && target.indexOf('/') < 0) {\r\n                var tmp = WinJSContrib.Utils.readProperty(window, target);\r\n                if (tmp) {\r\n                    target = tmp;\r\n                }\r\n            }\r\n\r\n            if (target) {\r\n                $(this).tap(function(eltarg) {\r\n                    var actionArgs = $(eltarg).data('page-action-args');\r\n                    if (actionArgs && typeof actionArgs == 'string') {\r\n                        try {\r\n                            var tmp = WinJSContrib.Utils.readValue(eltarg, actionArgs);\r\n                            if (tmp) {\r\n                                actionArgs = tmp;\r\n                            } else {\r\n                                actionArgs = JSON.parse(actionArgs);\r\n                            }\r\n                        } catch (exception) {\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    if (WinJSContrib.UI.parentNavigator && WinJSContrib.UI.parentNavigator(eltarg)) {\r\n                        var nav = WinJSContrib.UI.parentNavigator(eltarg);\r\n                        nav.navigate(target, actionArgs);\r\n                    } else {\r\n                        WinJS.Navigation.navigate(target, actionArgs);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    export function parentNavigator(element) {\r\n        var current = element.parentNode;\r\n\r\n        while (current) {\r\n            if (current.mcnNavigator) {\r\n                return current.winControl;\r\n            }\r\n            current = current.parentNode;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add this element or control as member to the control. It looks for \"data-page-member\" attributes. If attribute is empty, it tooks the element id as member name.\r\n     * @function WinJSContrib.UI.bindMembers\r\n     * @param {HTMLElement} element root node crawled for page actions\r\n     * @param {Object} control control owning functions to call\r\n     */\r\n    export function bindMembers(element, control) {\r\n        $('*[data-page-member]', element).each(function () {\r\n            var memberName = $(this).addClass('page-member').data('page-member');\r\n            if (!memberName)\r\n                memberName = this.id;\r\n\r\n            if (memberName && !control[memberName]) {\r\n                control[memberName] = this;\r\n                if (this.winControl) {\r\n                    control[memberName] = this.winControl;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * setup declarative binding to parent control function and to navigation links. It internally invoke both {@link WinJSContrib.UI.bindPageActions} and {@link WinJSContrib.UI.bindPageLinks}\r\n     * @function WinJSContrib.UI.bindActions\r\n     * @param {HTMLElement} element root node crawled for page actions\r\n     * @param {Object} control control owning functions to call\r\n     */\r\n    export function bindActions(element, control) {\r\n        WinJSContrib.UI.bindPageActions(element, control);\r\n        WinJSContrib.UI.bindPageLinks(element);\r\n    }    \r\n\r\n    /**\r\n     * Trigger events on media queries. This class is usefull as a component for other controls to change some properties based on media queries\r\n     * @class WinJSContrib.UI.MediaTrigger\r\n     * @param {Object} items object containing one property for each query\r\n     * @param {Object} linkedControl control linked to media trigger\r\n     */\r\n    export class MediaTrigger{\r\n        public queries : Array<any>;\r\n        public linkedControl : any;\r\n\r\n        constructor(items, linkedControl){\r\n            var ctrl = this;\r\n            ctrl.queries = [];\r\n            ctrl.linkedControl = linkedControl;\r\n\r\n            for (var name in items) {\r\n                var e = items[name];\r\n                if (e.query) {\r\n                    ctrl.registerMediaEvent(name, e.query, e);\r\n                }\r\n            }\r\n        }\r\n\r\n            /**\r\n             * @function WinJSContrib.UI.MediaTrigger.prototype.dispose\r\n             * release media trigger\r\n             */\r\n            public dispose() {\r\n                var ctrl = this;\r\n                ctrl.linkedControl = null;\r\n                this.queries.forEach(function (q) {\r\n                    q.dispose();\r\n                });\r\n            }\r\n\r\n            /**\r\n             * register an event from a media query\r\n             * @function WinJSContrib.UI.MediaTrigger.prototype.registerMediaEvent\r\n             * @param {string} name event name\r\n             * @param {string} query media query\r\n             * @param {Object} data data associated with this query\r\n             */\r\n            public registerMediaEvent(name, query, data) {\r\n                var ctrl = this;\r\n                var mq = window.matchMedia(query);\r\n                var internalQuery = <any>{\r\n                    name: name,\r\n                    query: query,\r\n                    data: data,\r\n                    mq: mq,\r\n                    dispose : null\r\n                }\r\n\r\n                var f = function (arg) {\r\n                    if (arg.matches) {\r\n                        ctrl._mediaEvent(arg, internalQuery);\r\n                    }\r\n                };\r\n\r\n                mq.addListener(f);\r\n                internalQuery.dispose = function () {\r\n                    mq.removeListener(f);\r\n                }\r\n\r\n                ctrl.queries.push(internalQuery);\r\n            }\r\n\r\n            \r\n            _mediaEvent(arg, query) {\r\n                var ctrl = this;\r\n                if (ctrl.linkedControl) {\r\n                    WinJS.UI.setOptions(ctrl.linkedControl, query.data);\r\n                }\r\n                ctrl.dispatchEvent('media', query);\r\n            }\r\n\r\n            /**\r\n             * @function WinJSContrib.UI.MediaTrigger.prototype.check\r\n             * Check all registered queries\r\n             */\r\n            public check() {\r\n                var ctrl = this;\r\n                ctrl.queries.forEach(function (q) {\r\n                    var mq = window.matchMedia(q.query);\r\n                    if (mq.matches) {\r\n                        ctrl._mediaEvent({ matches: true }, q);\r\n                    }\r\n                });\r\n            }\r\n\r\n        /**\r\n         * Adds an event listener to the control.\r\n         * @function WinJSContrib.UI.MediaTrigger.prototype.addEventListener\r\n         * @param type The type (name) of the event.\r\n         * @param listener The listener to invoke when the event gets raised.\r\n         * @param useCapture If true, initiates capture, otherwise false.\r\n        **/\r\n        public addEventListener(type: string, listener: Function, useCapture?: boolean): void {\r\n        }\r\n\r\n        /**\r\n         * Raises an event of the specified type and with the specified additional properties.\r\n         * @function WinJSContrib.UI.MediaTrigger.prototype.dispatchEvent\r\n         * @param type The type (name) of the event.\r\n         * @param eventProperties The set of additional properties to be attached to the event object when the event is raised.\r\n         * @returns true if preventDefault was called on the event.\r\n        **/\r\n        public dispatchEvent(type: string, eventProperties: any): boolean { \r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Removes an event listener from the control.\r\n         * @function WinJSContrib.UI.MediaTrigger.prototype.removeEventListener\r\n         * @param type The type (name) of the event.\r\n         * @param listener The listener to remove.\r\n         * @param useCapture true if capture is to be initiated, otherwise false.\r\n        **/\r\n        public removeEventListener(type: string, listener: Function, useCapture?: boolean): void { }\r\n    }\r\n    WinJS.Class.mix(WinJSContrib.UI.MediaTrigger, WinJS.Utilities.eventMixin);\r\n\r\n    \r\n\r\n    /**\r\n     * register navigation related events like hardware backbuttons. This method keeps track of previously registered navigation handlers\r\n     *  and disable them until the latests is closed, enablinh multi-level navigation.\r\n     * @function WinJSContrib.UI.registerNavigationEvents\r\n     * @param {Object} control control taking ownership of navigation handlers\r\n     * @param {function} callback callback to invoke when \"back\" is requested\r\n     * @returns {function} function to call for releasing navigation handlers\r\n     */\r\n    export function registerNavigationEvents(control, callback) {\r\n        var locked = [];\r\n\r\n        control.navLocks = control.navLocks || [];\r\n        control.navLocks.isActive = true;\r\n\r\n        var backhandler = function (arg) {\r\n            if (!control.navLocks || control.navLocks.length === 0) {\r\n                callback.bind(control)(arg);\r\n            }\r\n        }\r\n\r\n        var navcontrols = document.querySelectorAll('.mcn-navigation-ctrl');\r\n        for (var i = 0; i < navcontrols.length; i++) {\r\n            var navigationCtrl = (<any>navcontrols[i]).winControl;\r\n            if (navigationCtrl && navigationCtrl != control) {\r\n                navigationCtrl.navLocks = navigationCtrl.navLocks || [];\r\n                if (navigationCtrl.navLocks.isActive && (!navigationCtrl.navLocks.length || navigationCtrl.navLocks.indexOf(control) < 0)) {\r\n                    navigationCtrl.navLocks.push(control);\r\n                    locked.push(navigationCtrl);\r\n                }\r\n            }\r\n        }\r\n\r\n        function cancelNavigation(args) {\r\n            //this.eventTracker.addEvent(nav, 'beforenavigate', this._beforeNavigate.bind(this));\r\n            var p = new WinJS.Promise(function (c) { });\r\n            args.detail.setPromise(p);\r\n            //setImmediate(function () {\r\n            p.cancel();\r\n            //});\r\n        }\r\n\r\n        WinJS.Navigation.addEventListener('beforenavigate', cancelNavigation);\r\n        if ((<any>window).Windows && (<any>window).Windows.Phone)\r\n            (<any>window).Windows.Phone.UI.Input.HardwareButtons.addEventListener(\"backpressed\", backhandler);\r\n        else\r\n            document.addEventListener(\"backbutton\", backhandler);\r\n\r\n        if (WinJSContrib.UI.Application && WinJSContrib.UI.Application.navigator)\r\n            WinJSContrib.UI.Application.navigator.addLock();\r\n\r\n        return function () {\r\n            if (WinJSContrib.UI.Application && WinJSContrib.UI.Application.navigator)\r\n                WinJSContrib.UI.Application.navigator.removeLock();\r\n\r\n            control.navLocks.isActive = false;\r\n            locked.forEach(function (navigationCtrl) {\r\n                var idx = navigationCtrl.navLocks.indexOf(control);\r\n                if (idx >= 0)\r\n                    navigationCtrl.navLocks.splice(idx, 1);\r\n            });\r\n\r\n            WinJS.Navigation.removeEventListener('beforenavigate', cancelNavigation);\r\n            if ((<any>window).Windows && (<any>window).Windows.Phone)\r\n                (<any>window).Windows.Phone.UI.Input.HardwareButtons.removeEventListener(\"backpressed\", backhandler);\r\n            else\r\n                document.removeEventListener(\"backbutton\", backhandler);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n///<reference path=\"../typings/jquery.d.ts\"/>\r\n///<reference path=\"../typings/winjs.d.ts\"/>\r\n///<reference path=\"../typings/winrt.d.ts\"/>\r\n\r\ninterface Object {\r\n    map(obj, mapping);\r\n}\r\n\r\ninterface String {\r\n    format(a1, a2);\r\n    format(a1, a2, a3);\r\n    padLeft(length, leadingChar);\r\n    startsWith(e);\r\n    endsWith(e);\r\n}\r\n\r\n\r\nif (!Object.map) {\r\n    Object.map = function (obj, mapping) {\r\n        var mapped = {};\r\n        if (typeof obj !== 'object') {\r\n            return mapped;\r\n        }\r\n        if (typeof mapping !== 'function') {\r\n            // We could just return obj but that wouldn't be\r\n            // consistent with the rest of the interface which always returns\r\n            // a new object.\r\n            mapping = function (key, val) {\r\n                return [key, val];\r\n            };\r\n        }\r\n        Object.keys(obj).forEach(function (key) {\r\n            var transmuted = mapping.apply(obj, [key, obj[key]]);\r\n            if (transmuted && transmuted.length) {\r\n                mapped[transmuted[0] || key] = transmuted[1];\r\n            }\r\n        });\r\n        return mapped;\r\n    }\r\n}\r\n\r\nif (!String.prototype.format) {\r\n    String.prototype.format = function () {\r\n        var args = arguments;\r\n        return this.replace(/{(\\d+)}/g, function (match, number) {\r\n            return typeof args[number] !== 'undefined' ? args[number] : match;\r\n        });\r\n    }\r\n}\r\n\r\nif (!String.prototype.padLeft) {\r\n    String.prototype.padLeft = function padLeft(length, leadingChar) {\r\n        if (leadingChar === undefined) {\r\n            leadingChar = \"0\";\r\n        }\r\n\r\n        return this.length < length ? (leadingChar + this).padLeft(length, leadingChar) : this;\r\n    }\r\n}\r\n\r\nmodule WinJSContrib.Promise {\r\n    /** \r\n     * apply callback for each item in the array in waterfall \r\n     * @function WinJSContrib.Promise.waterfall\r\n     * @param {Array} dataArray items to process with async tasks\r\n     * @param {function} promiseCallback function applyed to each item (could return a promise for item callback completion)\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function waterfall(dataArray, promiseCallback) {\r\n        var resultPromise = WinJS.Promise.wrap();\r\n        var results = [];\r\n\r\n        if (!dataArray) {\r\n            return WinJS.Promise.wrap([]);\r\n        }\r\n        var dataPromise = WinJS.Promise.as(dataArray);\r\n\r\n        return dataPromise.then(function (items) {\r\n            var queueP = function (p, item) {\r\n                return p.then(function (r) {\r\n                    return WinJS.Promise.as(promiseCallback(item)).then(function (r) {\r\n                        results.push(r);\r\n                    });\r\n                });\r\n            }\r\n\r\n            for (var i = 0, l = items.length; i < l; i++) {\r\n                resultPromise = queueP(resultPromise, items[i]);\r\n            }\r\n\r\n            return resultPromise.then(function (r) {\r\n                return results;\r\n            });\r\n        });\r\n    }\r\n\r\n    function promises(dataArray, promiseCallback) {\r\n        if (!dataArray) {\r\n            return WinJS.Promise.wrap([]);\r\n        }\r\n        var dataPromise = WinJS.Promise.as(dataArray);\r\n\r\n        return dataPromise.then(function (items) {\r\n            var promises = [];\r\n            for (var i = 0, l = items.length; i < l; i++) {\r\n                promises.push(WinJS.Promise.as(promiseCallback(items[i])));\r\n            }\r\n\r\n            return promises;\r\n        });\r\n    }\r\n\r\n    /** \r\n     * apply callback for each item in the array in parallel (equivalent to WinJS.Promise.join) \r\n     * @function WinJSContrib.Promise.parallel\r\n     * @param {Array} dataArray items to process with async tasks\r\n     * @param {function} promiseCallback function applyed to each item (could return a promise for item callback completion)\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function parallel(dataArray, promiseCallback) {\r\n        if (!dataArray) {\r\n            return WinJS.Promise.wrap([]);\r\n        }\r\n        var dataPromise = WinJS.Promise.as(dataArray);\r\n\r\n        return dataPromise.then(function (items) {\r\n            var promises = [];\r\n            for (var i = 0, l = items.length; i < l; i++) {\r\n                promises.push(WinJS.Promise.as(promiseCallback(items[i])));\r\n            }\r\n\r\n            return WinJS.Promise.join(promises);\r\n        });\r\n    }\r\n\r\n    /** \r\n     * apply callback for each item in the array in batch of X parallel items\r\n     * @function WinJSContrib.Promise.batch\r\n     * @param {Array} dataArray items to process with async tasks\r\n     * @param {number} batchSize number of items to batch\r\n     * @param {function} promiseCallback function applyed to each item (could return a promise for item callback completion)\r\n     * @returns {WinJS.Promise}\r\n     */\r\n    export function batch(dataArray, batchSize, promiseCallback) {\r\n        if (!dataArray) {\r\n            return WinJS.Promise.wrap([]);\r\n        }\r\n        var dataPromise = WinJS.Promise.as(dataArray);\r\n\r\n        return dataPromise.then(function (items) {\r\n            var resultPromise = WinJS.Promise.wrap();\r\n            var batcheditems = [];\r\n            var results = [];\r\n            var hasErrors = false;\r\n\r\n            var queueBatch = function (p, items) {\r\n                //var batchresults = [];\r\n                return p.then(function (r) {\r\n                    return WinJS.Promise.join(items.map(function (item) { return WinJS.Promise.as(promiseCallback(item)); })).then(function (results) {\r\n                        results = results.concat(results);\r\n                    }, function (errors) {\r\n                            results = results.concat(errors);\r\n                            hasErrors = true;\r\n                        });\r\n                });\r\n            }\r\n\r\n            for (var i = 0, l = items.length; i < l; i++) {\r\n                batcheditems.push(items[i]);\r\n                if (i > 0 && i % batchSize === 0) {\r\n                    resultPromise = queueBatch(resultPromise, batcheditems);\r\n                    batcheditems = [];\r\n                }\r\n\r\n            }\r\n\r\n            if (batcheditems.length) {\r\n                resultPromise = queueBatch(resultPromise, batcheditems);\r\n            }\r\n\r\n            return resultPromise.then(function () {\r\n                if (hasErrors)\r\n                    return <any>WinJS.Promise.wrapError(results);\r\n\r\n                return <any>results;\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\n\r\nmodule WinJSContrib.Utils {\r\n    /** indicate if string starts with featured characters \r\n     * @function WinJSContrib.Utils.startsWith\r\n     * @param {string} str string to search within\r\n     * @param {string} strToMatch match string\r\n     * @returns {boolean} true if string starts with strToMatch\r\n     */\r\n    export function startsWith(str, strToMatch) {\r\n        if (!strToMatch) {\r\n            return false;\r\n        }\r\n        var match = (str.match(\"^\" + strToMatch) == strToMatch);\r\n        return match;\r\n    }\r\n\r\n    if (!String.prototype.startsWith) {\r\n        String.prototype.startsWith = function (str) {\r\n            return WinJSContrib.Utils.startsWith(this, str);\r\n        };\r\n    }\r\n\r\n    /** indicate if string ends with featured characters \r\n     * @function WinJSContrib.Utils.endsWith\r\n     * @param {string} str string to search within\r\n     * @param {string} strToMatch match string\r\n     * @returns {boolean} true if string starts with strToMatch\r\n     */\r\n    export function endsWith(str, strToMatch) {\r\n        if (!strToMatch) {\r\n            return false;\r\n        }\r\n        return (str.match(strToMatch + \"$\") == strToMatch);\r\n    }\r\n\r\n    if (!String.prototype.endsWith) {\r\n        String.prototype.endsWith = function (str) {\r\n            return WinJSContrib.Utils.endsWith(this, str);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * generate a string formatted as a query string from object properties\r\n     * @function WinJSContrib.Utils.queryStringFrom\r\n     * @param {Object} obj object to format\r\n     * @returns {string}\r\n     */\r\n    export function queryStringFrom(obj) {\r\n        var str = [];\r\n        for (var p in obj)\r\n            if (obj.hasOwnProperty(p)) {\r\n                str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\r\n            }\r\n        return str.join(\"&\");\r\n    }\r\n\r\n    /**\r\n     * trigger an event on a DOM node\r\n     * @function WinJSContrib.Utils.triggerEvent\r\n     * @param {HTMLElement} element receiving the event\r\n     * @param {string} eventName name of the event\r\n     * @param {boolean} bubbles indicate if event should bubble\r\n     * @param {boolean} cancellable indicate if event can be cancelled\r\n     */\r\n    export function triggerEvent(element, eventName, bubbles, cancellable) {\r\n        var eventToTrigger = document.createEvent(\"Event\");\r\n        eventToTrigger.initEvent(eventName, bubbles, cancellable);\r\n        element.dispatchEvent(eventToTrigger);\r\n    }\r\n\r\n    /**\r\n     * @function WinJSContrib.Utils.triggerCustomEvent\r\n     * @param {HTMLElement} element receiving the event\r\n     * @param {string} eventName name of the event\r\n     * @param {boolean} bubbles indicate if event should bubble\r\n     * @param {boolean} cancellable indicate if event can be cancelled\r\n     */\r\n    export function triggerCustomEvent(element, eventName, bubbles, cancellable, data) {\r\n        var eventToTrigger = document.createEvent(\"CustomEvent\");\r\n        eventToTrigger.initCustomEvent(eventName, bubbles, cancellable, data);\r\n        element.dispatchEvent(eventToTrigger);\r\n    }\r\n\r\n    /* \r\n    Core object properties features\r\n    */\r\n\r\n    //return object value based on property name. Property name is a string containing the name of the property, \r\n    //or the name of the property with an indexer, ex: myproperty[2] (to get item in a array)\r\n    function getobject(obj, prop) {\r\n        if (!obj)\r\n            return;\r\n\r\n        if (prop === 'this')\r\n            return obj;\r\n\r\n        var baseValue = obj[prop];\r\n        if (typeof baseValue !== \"undefined\")\r\n            return baseValue;\r\n\r\n        var idx = prop.indexOf('[');\r\n        if (idx < 0)\r\n            return;\r\n        var end = prop.indexOf(']', idx);\r\n        if (end < 0)\r\n            return;\r\n\r\n        var val = prop.substr(idx + 1, end - idx);\r\n        val = parseInt(val);\r\n\r\n        return obj[val];\r\n    }\r\n\r\n    //set object property value based on property name. Property name is a string containing the name of the property, \r\n    //or the name of the property with an indexer, ex: myproperty[2] (to get item in a array)\r\n    function setobject(obj, prop, data) {\r\n        if (WinJSContrib.Utils.hasValue(prop)) {\r\n            if (obj.setProperty) {\r\n                obj.setProperty(prop, data);\r\n                return;\r\n            }\r\n\r\n            obj[prop] = data;\r\n            return;\r\n        }\r\n\r\n        if (typeof prop === \"string\") {\r\n            var idx = prop.indexOf('[');\r\n            if (idx < 0)\r\n                return;\r\n            var end = prop.indexOf(']', idx);\r\n            if (end < 0)\r\n                return;\r\n\r\n            var val = prop.substr(idx + 1, end - idx);\r\n            val = parseInt(val);\r\n\r\n            obj[val] = data;\r\n        }\r\n    }\r\n\r\n    /** Read property value on an object based on expression\r\n    * @function WinJSContrib.Utils.readProperty\r\n    * @param {Object} source the object containing data\r\n    * @param {Object} properties property descriptor. could be a string in js notation ex: 'myProp.myChildProp, \r\n    * or an array of strings ['myProp', 'myChildProp']. String notation can contain indexers\r\n    * @returns {Object} property value\r\n    */\r\n    export function readProperty(source, properties) {\r\n        if (typeof properties == 'string' && source[properties])\r\n            return source[properties];\r\n\r\n        if (!properties || !properties.length)\r\n            return source;\r\n\r\n        var prop = WinJSContrib.Utils.getProperty(source, properties);\r\n        if (prop) {\r\n            return prop.propValue;\r\n        }\r\n    }\r\n\r\n    export class PropertyDescriptor {\r\n        constructor(public parent, public parentDescriptor, public keyProp) {\r\n        }\r\n\r\n        public ensureParent() {\r\n            if (parent) {\r\n                return parent;\r\n            } else {\r\n                if (this.parentDescriptor) {\r\n                    this.parentDescriptor.ensureParent();\r\n\r\n                    if (!this.parentDescriptor.parent[this.parentDescriptor.keyProp]) {\r\n                        this.parentDescriptor.parent[this.parentDescriptor.keyProp] = {};\r\n                        this.parent = this.parentDescriptor.parent[this.parentDescriptor.keyProp];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        get propValue() {\r\n            return getobject(this.parent, this.keyProp);\r\n        }\r\n\r\n        set propValue(val) {\r\n            this.ensureParent();\r\n            setobject(this.parent, this.keyProp, val);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * return a propery descriptor for an object based on expression\r\n     * @function WinJSContrib.Utils.getProperty\r\n     * @param {Object} source the object containing data\r\n     * @param {string[]} properties property descriptor. could be a string in js notation ex: 'myProp.myChildProp, \r\n     * or an array of strings ['myProp', 'myChildProp']. String notation can contain indexers\r\n     * @returns {Object} property descriptor\r\n     */\r\n    export function getProperty(source, properties) {\r\n        if (typeof properties == 'string') {\r\n            properties = properties.split('.');\r\n        }\r\n\r\n        if (!properties || !properties.length) {\r\n            properties = ['this'];\r\n            //return;\r\n        }\r\n\r\n        var parent = source;\r\n        var previousDescriptor = null;\r\n        for (var i = 0; i < properties.length; i++) {\r\n            var descriptor = new PropertyDescriptor(parent, previousDescriptor, properties[i]);\r\n            previousDescriptor = descriptor;\r\n\r\n            if (i == properties.length - 1) {\r\n                return descriptor;\r\n            }\r\n            parent = getobject(parent, properties[i]);\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    /**\r\n     * Write property value on an object based on expression\r\n     * @function WinJSContrib.Utils.writeProperty\r\n     * @param {Object} source the object containing data\r\n     * @param {string[]} properties property descriptor. could be a string in js notation ex: 'myProp.myChildProp, \r\n     * or an array of strings ['myProp', 'myChildProp']. String notation can contain indexers\r\n     * @param {Object} data data to feed to the property\r\n     */\r\n    export function writeProperty(source, properties, data) {\r\n        var prop = WinJSContrib.Utils.getProperty(source, properties);\r\n        if (prop) {\r\n            prop.propValue = data;\r\n            //prop.parent[prop.keyProp] = data;\r\n        }\r\n    }\r\n\r\n\r\n    /** generate a random value between two numbers \r\n     * @function WinJSContrib.Utils.randomFromInterval\r\n     * @param {number} from lower limit\r\n     * @param {number} to upper limit\r\n     * @returns {number}\r\n     */\r\n    export function randomFromInterval(from, to) {\r\n        return (Math.random() * (to - from + 1) + from) << 0;\r\n    }\r\n\r\n    /** \r\n     * function to use as a callback for Array.sort when you want the array to be sorted alphabetically\r\n     * @function WinJSContrib.Utils.alphabeticSort\r\n     * @param {string} a\r\n     * @param {string} b\r\n     * @returns {number}\r\n     */\r\n    export function alphabeticSort(a, b) {\r\n        if (a > b)\r\n            return 1;\r\n        if (a < b)\r\n            return -1;\r\n\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * generate an array with only distinct elements\r\n     * @function WinJSContrib.Utils.distinctArray\r\n     * @param {Array} array\r\n     * @param {string} path to array's item property used for checking items\r\n     * @param {boolean} ignorecase indicate if comparison should ignore case when using string\r\n     * @returns {Array}\r\n     */\r\n    export function distinctArray(array, property, ignorecase) {\r\n        if (array === null || array.length === 0) return array;\r\n        if (typeof ignorecase == \"undefined\") ignorecase = false;\r\n        var sMatchedItems = \"\";\r\n        var foundCounter = 0;\r\n        var newArray = [];\r\n        var sFind;\r\n        var i;\r\n\r\n        if (ignorecase) {\r\n            for (i = 0; i < array.length; i++) {\r\n                if (property) {\r\n                    var data = WinJSContrib.Utils.readProperty(array[i], property.split('.'));\r\n                    sFind = data;\r\n                    if (!data)\r\n                        sFind = data;\r\n                    if (data && data.toLowerCase)\r\n                        sFind = data.toLowerCase();\r\n                } else {\r\n                    sFind = array[i];\r\n                }\r\n                if (sMatchedItems.indexOf(\"|\" + sFind + \"|\") < 0) {\r\n                    sMatchedItems += \"|\" + sFind + \"|\";\r\n                    newArray[foundCounter++] = array[i];\r\n                }\r\n            }\r\n        } else {\r\n            for (i = 0; i < array.length; i++) {\r\n                if (property) {\r\n                    sFind = WinJSContrib.Utils.readProperty(array[i], property.split('.'));\r\n                } else {\r\n                    sFind = array[i];\r\n                }\r\n\r\n                if (sMatchedItems.indexOf(\"|\" + sFind + \"|\") < 0) {\r\n                    sMatchedItems += \"|\" + sFind + \"|\";\r\n                    newArray[foundCounter++] = array[i];\r\n                }\r\n            }\r\n        }\r\n        return newArray;\r\n    }\r\n\r\n    /**\r\n     * get distinct values from an array of items\r\n     * @function WinJSContrib.Utils.getDistinctPropertyValues\r\n     * @param {Array} array items array\r\n     * @param {string} property property path for values\r\n     * @param {boolean} ignorecase ignore case for comparisons\r\n     */\r\n    export function getDistinctPropertyValues(array, property, ignorecase) {\r\n        return Utils.distinctArray(array, property, ignorecase).map(function (item) {\r\n            return WinJSContrib.Utils.readProperty(item, property.split('.'));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Remove all accented characters from a string and replace them with their non-accented counterpart for ex: replace \"é\" with \"e\"\r\n     * @function WinJSContrib.Utils.removeAccents\r\n     * @param {string} s\r\n     * @returns {string}\r\n     */\r\n    export function removeAccents(s) {\r\n        var r = s.toLowerCase();\r\n        r = r.replace(new RegExp(\"[àáâãäå]\", 'g'), \"a\");\r\n        r = r.replace(new RegExp(\"æ\", 'g'), \"ae\");\r\n        r = r.replace(new RegExp(\"ç\", 'g'), \"c\");\r\n        r = r.replace(new RegExp(\"[èéêë]\", 'g'), \"e\");\r\n        r = r.replace(new RegExp(\"[ìíîï]\", 'g'), \"i\");\r\n        r = r.replace(new RegExp(\"ñ\", 'g'), \"n\");\r\n        r = r.replace(new RegExp(\"[òóôõö]\", 'g'), \"o\");\r\n        r = r.replace(new RegExp(\"œ\", 'g'), \"oe\");\r\n        r = r.replace(new RegExp(\"[ùúûü]\", 'g'), \"u\");\r\n        r = r.replace(new RegExp(\"[ýÿ]\", 'g'), \"y\");\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * remove a page from navigation history\r\n     * @function WinJSContrib.Utils.removePageFromHistory\r\n     * @param {string} pageLocation page url\r\n     */\r\n    export function removePageFromHistory(pageLoc) {\r\n        var history = [];\r\n        if (WinJS.Navigation.history && WinJS.Navigation.history.backStack && WinJS.Navigation.history.backStack.length) {\r\n            WinJS.Navigation.history.backStack.forEach(function (page) {\r\n                if (page.location !== pageLoc) {\r\n                    history.push(page);\r\n                }\r\n            });\r\n        }\r\n        WinJS.Navigation.history.backStack = history;\r\n    }\r\n\r\n    /**\r\n     * format a number on 2 digits\r\n     * @function WinJSContrib.Utils.pad2\r\n     * @param {number} number\r\n     */\r\n    export function pad2(number) {\r\n        return (number < 10 ? '0' : '') + number;\r\n    }\r\n\r\n    /**\r\n     * truncate a string and add ellipse if text if greater than certain size\r\n     * @function WinJSContrib.Utils.ellipsisizeString\r\n     * @param {string} text text to truncate\r\n     * @param {number} maxSize maximum size for text\r\n     * @param {boolean} useWordBoundary indicate if truncate should happen on the closest word boundary (like space)\r\n     */\r\n    export function ellipsisizeString(text, maxSize, useWordBoundary) {\r\n        if (!text) {\r\n            return '';\r\n        }\r\n        var toLong = text.length > maxSize, text_ = toLong ? text.substr(0, maxSize - 1) : text;\r\n        text_ = useWordBoundary && toLong ? text_.substr(0, text_.lastIndexOf(' ')) : text_;\r\n        return toLong ? text_ + '...' : text_;\r\n    }\r\n\r\n    /**\r\n     * generate a new Guid\r\n     * @function WinJSContrib.Utils.guid\r\n     * @returns {string}\r\n     */\r\n    export function guid() {\r\n        var d = new Date().getTime();\r\n        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (d + Math.random() * 16) % 16 | 0;\r\n            d = Math.floor(d / 16);\r\n            return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);\r\n        });\r\n        return uuid;\r\n    }\r\n\r\n    /**\r\n     * inherit property from parent WinJS controls\r\n     * @function WinJSContrib.Utils.inherit\r\n     * @param {HTMLElement} element\r\n     * @param {string} property property name\r\n     */\r\n    export function inherit(element, property) {\r\n        if (element && element.parentElement) {\r\n            var current = element.parentElement;\r\n            while (current) {\r\n                if (current.winControl) {\r\n                    if (current.winControl[property] !== undefined) {\r\n                        return current.winControl[property];\r\n                    }\r\n                }\r\n                current = current.parentElement;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * move DOM childrens form one node to the other\r\n     * @function WinJSContrib.Utils.moveChilds\r\n     * @param {HTMLElement} source source node containing elements to move\r\n     * @param {HTMLElement} target target node for moved elements\r\n     */\r\n    export function moveChilds(source, target) {\r\n        var childs = [];\r\n        for (var i = 0; i < source.children.length; i++) {\r\n            childs.push(source.children[i]);\r\n        }\r\n        childs.forEach(function (elt) {\r\n            target.appendChild(elt);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * get parent control identifyed by a property attached on DOM element\r\n     * @function WinJSContrib.Utils.getParent\r\n     * @param {string} property property attached to control's DOM element, for ex: msParentSelectorScope\r\n     * @param {HTMLElement} element DOM element to scan\r\n     * @returns {Object} WinJS control\r\n     */\r\n    export function getParent(property, element) {\r\n        var current = element.parentNode;\r\n\r\n        while (current) {\r\n            if (current[property] && current.winControl) {\r\n                return current.winControl;\r\n            }\r\n            current = current.parentNode;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get parent control identifyed by a css class\r\n     * @function WinJSContrib.Utils.getParentControlByClass\r\n     * @param {string} className css class name\r\n     * @param {HTMLElement} element DOM element to scan\r\n     * @returns {Object} WinJS control\r\n     */\r\n    export function getParentControlByClass(className, element) {\r\n        var current = element.parentNode;\r\n\r\n        while (current) {\r\n            if (current.classList && current.classList.contains(className) && current.winControl) {\r\n                return current.winControl;\r\n            }\r\n            current = current.parentNode;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get parent page control (work only with WinJSContrib.UI.PageControlNavigator\r\n     * @function WinJSContrib.Utils.getParentPage\r\n     * @param {HTMLElement} element DOM element to scan\r\n     * @returns {Object} WinJS control\r\n     */\r\n    export function getParentPage(element) {\r\n        return WinJSContrib.Utils.getParent('mcnPage', element);\r\n    }\r\n\r\n    /**\r\n     * get parent scope control (based on msParentSelectorScope)\r\n     * @function WinJSContrib.Utils.getScopeControl\r\n     * @param {HTMLElement} element DOM element to scan\r\n     * @returns {Object} WinJS control\r\n     */\r\n    export function getScopeControl(element) {\r\n        var current = element.parentNode;\r\n\r\n        while (current) {\r\n            if (current.msParentSelectorScope) {\r\n                var scope = current.parentNode;\r\n                if (scope) {\r\n                    var scopeControl = scope.winControl;\r\n                    if (scopeControl) {\r\n                        return scopeControl;\r\n\r\n                    }\r\n                    //var scopeParent = scope.parentNode;\r\n                    //var scopeParentControl = scopeParent.winControl;\r\n                }\r\n            }\r\n            current = current.parentNode;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get WinJS.Binding.Template like control from a path, a control, a function or a DOM element\r\n     * @function WinJSContrib.Utils.getTemplate\r\n     * @param {Object} template template input\r\n     * @returns {Object} WinJS.Binding.Template or template-like object (object with a render function)\r\n     */\r\n    export function getTemplate(template) {\r\n        if (template) {\r\n            var templatetype = typeof template;\r\n            if (templatetype == 'string') {\r\n                return new WinJS.Binding.Template(null, { href: template });\r\n            }\r\n            if (templatetype == 'function') {\r\n                return {\r\n                    render: function (data, elt) {\r\n                        var res = template(data, elt);\r\n                        return WinJS.Promise.as(res);\r\n                    }\r\n                };\r\n            } else if (template.winControl) {\r\n                return template.winControl;\r\n            } else if (template.render) {\r\n                return template;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get a function from an expression, for example 'page:myAction' will return the myAction function from the parent page.\r\n     * The returned function will be bound to it's owner. This function relies on {link WinJSContrib.Utils.resolveValue}, see this for details about how data are crawled\r\n     * @function WinJSContrib.Utils.resolveMethod\r\n     * @param {HTMLElement} element DOM element to look\r\n     * @param {string} text expression like 'page:something' or 'ctrl:something' or 'something'\r\n     * @returns {function}\r\n     */\r\n    export function resolveMethod(element, text) {\r\n        var res = WinJSContrib.Utils.resolveValue(element, text);\r\n        if (res && typeof res == 'function')\r\n            return res;\r\n\r\n        return undefined;\r\n    }\r\n\r\n    export function readValue(element, text) {\r\n        var res = WinJSContrib.Utils.resolveValue(element, text);\r\n        if (res) {\r\n            if (typeof res == 'function')\r\n                return res(element);\r\n            else\r\n                return res;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * resolve value from an expression. This helper will crawl the DOM up, and provide the property or function from parent page or control.\r\n     * @function WinJSContrib.Utils.resolveValue\r\n     * @param {HTMLElement} element DOM element to look\r\n     * @param {string} text expression like 'page:something' or 'ctrl:something' or 'something'\r\n     * @returns {Object}\r\n     */\r\n    export function resolveValue(element, text) {\r\n        var methodName, control, method;\r\n\r\n        if (text.indexOf('page:') === 0) {\r\n            methodName = text.substr(5);\r\n            if (WinJSContrib.Utils.getParentPage) {\r\n                control = WinJSContrib.Utils.getParentPage(element);\r\n            }\r\n            if (!control && WinJSContrib.UI.Application.navigator) {\r\n                control = WinJSContrib.UI.Application.navigator.pageControl;\r\n            }\r\n\r\n            if (!control)\r\n                return;\r\n\r\n            method = WinJSContrib.Utils.readProperty(control, methodName);\r\n            if (method && typeof method === 'function')\r\n                method = method.bind(control);\r\n        } else if (text.indexOf('ctrl:') === 0) {\r\n            methodName = text.substr(5);\r\n            control = WinJSContrib.Utils.getScopeControl(element);\r\n            method = WinJSContrib.Utils.readProperty(control, methodName);\r\n            if (method && typeof method === 'function')\r\n                method = method.bind(control);\r\n        } else {\r\n            methodName = text;\r\n            control = WinJSContrib.Utils.getScopeControl(element);\r\n            method = WinJSContrib.Utils.readProperty(window, methodName);\r\n        }\r\n\r\n        return method;\r\n    }\r\n\r\n    /**\r\n     * Checks in a safe way if an object has a value, which could be 'false', '0' or '\"\"'\r\n     * @function WinJSContrib.Utils.hasValue\r\n     * @param {Object} item The object to check.\r\n     * @returns {Boolean} Whether the object has a value or not.\r\n     */\r\n    export function hasValue(item) {\r\n        return typeof item !== \"undefined\" && item !== null;\r\n    }\r\n\r\n    /**\r\n     * format error from an xhr call\r\n     * @function WinJSContrib.Utils.formatXHRError\r\n     */\r\n    export function formatXHRError(xhr) {\r\n        return \"{0} - {1}: {2}\".format(xhr.status, xhr.statusText, xhr.responseText);\r\n    }\r\n\r\n    /**\r\n     * Unwraps the real error from a WinJS.Promise.join operation, which by design returns an array with 'undefined' for all cells,\r\n     * excepts the one corresponding to the promise that really faulted.\r\n     * @function WinJSContrib.Utils.unwrapJoinError\r\n     * @param {function} errorCallback The callback to use to handle the error.\r\n     * @returns {Function} The result of the callback being fired with the real error.\r\n     */\r\n    export function unwrapJoinError(errorCallback) {\r\n\r\n        return function (errorArray) {\r\n            var unwrappedError = null;\r\n            for (var i = 0; i < errorArray.length; i++) {\r\n                var tentativeError = errorArray[i];\r\n                if (typeof tentativeError !== \"undefined\") {\r\n                    unwrappedError = tentativeError;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return errorCallback(unwrappedError);\r\n        };\r\n    }\r\n\r\n    /**\r\n     * inject properties from source object to target object\r\n     * @function WinJSContrib.Utils.inject\r\n     */\r\n    export function inject(target, source) {\r\n        if (source) {\r\n            for (var k in source) {\r\n                target[k] = source[k];\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}
/* 
 * WinJS Contrib v2.1.0.6
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

var WinJSContrib;!function(t){var n;!function(n){function e(t){if(t.detail.kind===Windows.ApplicationModel.Activation.ActivationKind.protocol&&t.detail.uri){var n={action:void 0},e={},i=t.detail.uri.query;return"?"==i[0]&&(i=i.substr(1)),i&&i.split("&").forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}),n.protocol={action:t.detail.uri.host,args:e},n}}function i(){var t=Windows.Networking.Connectivity.NetworkConnectivityLevel,n=Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();if(null!==n){var e=n.getNetworkConnectivityLevel();return e===t.constrainedInternetAccess||e===t.internetAccess}return!1}function o(){var t=Windows.Networking.Connectivity.NetworkConnectivityLevel,n=Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();if(null!==n){var e=n.getNetworkConnectivityLevel();return e===t.internetAccess}return!1}function r(n){var e=function(e){n(t.WinRT.hasInternetAccess())},i=Windows.Networking.Connectivity.NetworkInformation;return i.addEventListener("networkstatuschanged",e),function(){i.removeEventListener("networkstatuschanged",e)}}n.readProtocol=e,n.isConnected=i,n.hasInternetAccess=o,n.onInternetStatusChanged=r}(n=t.WinRT||(t.WinRT={}))}(WinJSContrib||(WinJSContrib={}));var WinJSContrib;!function(t){var n;!function(n){function e(t){var n=window;if(t){if(n.Windows){var e=new Windows.UI.Popups.MessageDialog(t.content);return t.title&&(e.title=t.title),t.commands&&t.commands.forEach&&t.commands.forEach(function(t,n){var i=new Windows.UI.Popups.UICommand;t.id&&(i.id=t.id),i.label=t.label,t.callback&&(i.invoked=t.callback),e.commands.append(i),t.isDefault&&(e.defaultCommandIndex=n)}),e.showAsync()}return new WinJS.Promise(function(e,i){var o="";t.title&&(o=t.title);var r=[];t.commands&&t.commands.forEach?t.commands.forEach(function(t,n){r.push(t.label)}):r=["Ok"],n.navigator&&n.navigator.notification&&n.navigator.notification.confirm?n.navigator.notification.confirm(t.content,function(n){if(t.commands&&t.commands[n-1]&&t.commands[n-1].callback){var i=t.commands[n-1].callback();i&&i.then?i.then(function(){e(!0)}):e(!0)}else e(0!=n?!0:!1)},o,r):e(window.confirm(o)?!0:!1)})}return WinJS.Promise.wrapError("you must specify commands as an array of objects with properties text and callback such as {text: '', callback: function(c){}}")}function i(n,e){return t.Alerts.messageBox({title:n,content:e})}function o(n,e,i,o){return new WinJS.Promise(function(r,a){t.Alerts.messageBox({title:n,content:e,commands:[{label:i,callback:function(t){r(!0)},isDefault:!0},{label:o,callback:function(t){r(!1)}}]})})}function r(t){if(!Windows)throw"No notification plugin found";var n=Windows.UI.Notifications,e=t.template||(t.picture?n.ToastTemplateType.toastImageAndText01:n.ToastTemplateType.toastText01),i=n.ToastNotificationManager.getTemplateContent(e),o=i.getElementsByTagName("text"),r=i.getElementsByTagName("image");if(t.launch){var a=i.getElementsByTagName("toast");a[0].setAttribute("launch",JSON.stringify(t.launch))}o[0].appendChild(i.createTextNode(t.text)),t.text2&&o.length>1&&o[1].appendChild(i.createTextNode(t.text2)),t.text3&&o.length>1&&o[2].appendChild(i.createTextNode(t.text3)),t.picture&&r[0].setAttribute("src",t.picture);var s=new n.ToastNotification(i),c=n.ToastNotificationManager.createToastNotifier();c.show(s)}function a(n,e){t.Alerts.toastNotification({text:n,picture:e})}n.messageBox=e,n.message=i,n.confirm=o,n.toastNotification=r,n.toast=a}(n=t.Alerts||(t.Alerts={}))}(WinJSContrib||(WinJSContrib={}));var WinJSContrib;!function(t){var n;!function(n){var e=function(){function n(t){this.maxBufferSize=50,this.maxFlushDelay=2e3,this.maxFileSize=5242880,this.buffer=[],this.file=t,this.readyPromise=WinJS.Promise.wrap(t)}return n.from=function(t,e){var i=new n(null);return i.readyPromise=t.createFileAsync(e,Windows.Storage.CreationCollisionOption.openIfExists).then(function(t){return i.file=t,t}),i},n.prototype.clone=function(){var t=new n(this.file);return t.maxBufferSize=this.maxBufferSize,t.maxFlushDelay=this.maxFlushDelay,t},n.prototype.format=function(t,n,e){},n.prototype.log=function(n,e,i){for(var o=this,r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];this.buffer.push((new Date).getTime()+"	"+t.Logs.Levels[i].toUpperCase()+"	"+(n.Config.prefix?n.Config.prefix+"	":"")+e),r&&r.length&&r.forEach(function(t){o.buffer.push("string"==typeof t?"	"+t:"\r\n"+JSON.stringify(t))}),this.buffer.push("\r\n"),this.maxBufferSize&&this.buffer.length>this.maxBufferSize&&this.flush(),this.maxFlushDelay&&!this.flushTimeout&&(this.flushTimeout=setTimeout(function(){o.flushTimeout=null,o.flush()},this.maxFlushDelay))},n.prototype.flush=function(){var t=this;if(t.readyPromise&&t.buffer.length){var n=t.readyPromise,e=t.buffer.join("");t.buffer=[],t.readyPromise=new WinJS.Promise(function(i,o){n.then(function(t){return t?Windows.Storage.FileIO.appendTextAsync(t,e).then(function(){return t},function(n){return console.error(n),t}):t}).then(function(n){return n&&t.maxFileSize?n.getBasicPropertiesAsync().then(function(e){if(e.size>t.maxFileSize){var i=n.path,o=n.name;return n.renameAsync(n.name+".old",Windows.Storage.NameCollisionOption.generateUniqueName).then(function(){return Windows.Storage.StorageFolder.getFolderFromPathAsync(i.substr(0,i.lastIndexOf("\\"))).then(function(n){return n.createFileAsync(o).then(function(n){return t.file=n,n})})})}return n}):void 0}).then(i,function(t){console.error(t),i()})})}},n.prototype.group=function(t){},n.prototype.groupCollapsed=function(t){},n.prototype.groupEnd=function(){},n}();n.WinRTFileLogger=e}(n=t.Logs||(t.Logs={}))}(WinJSContrib||(WinJSContrib={}));
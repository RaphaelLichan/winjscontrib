/* 
 * WinJS Contrib v2.1.0.4
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

var WinJSContrib;!function(t){var n;!function(n){function e(t){if(t.detail.kind===Windows.ApplicationModel.Activation.ActivationKind.protocol&&t.detail.uri){var n={action:void 0},e={},i=t.detail.uri.query;return"?"==i[0]&&(i=i.substr(1)),i&&i.split("&").forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}),n.protocol={action:t.detail.uri.host,args:e},n}}function i(){var t=Windows.Networking.Connectivity.NetworkConnectivityLevel,n=Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();if(null!==n){var e=n.getNetworkConnectivityLevel();return e===t.constrainedInternetAccess||e===t.internetAccess}return!1}function o(){var t=Windows.Networking.Connectivity.NetworkConnectivityLevel,n=Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile();if(null!==n){var e=n.getNetworkConnectivityLevel();return e===t.internetAccess}return!1}function a(n){var e=function(e){n(t.WinRT.hasInternetAccess())},i=Windows.Networking.Connectivity.NetworkInformation;return i.addEventListener("networkstatuschanged",e),function(){i.removeEventListener("networkstatuschanged",e)}}n.readProtocol=e,n.isConnected=i,n.hasInternetAccess=o,n.onInternetStatusChanged=a}(n=t.WinRT||(t.WinRT={}))}(WinJSContrib||(WinJSContrib={}));var WinJSContrib;!function(t){var n;!function(n){function e(t){var n=window;if(t){if(n.Windows){var e=new Windows.UI.Popups.MessageDialog(t.content);return t.title&&(e.title=t.title),t.commands&&t.commands.forEach&&t.commands.forEach(function(t,n){var i=new Windows.UI.Popups.UICommand;t.id&&(i.id=t.id),i.label=t.label,t.callback&&(i.invoked=t.callback),e.commands.append(i),t.isDefault&&(e.defaultCommandIndex=n)}),e.showAsync()}return new WinJS.Promise(function(e,i){var o="";t.title&&(o=t.title);var a=[];t.commands&&t.commands.forEach?t.commands.forEach(function(t,n){a.push(t.label)}):a=["Ok"],n.navigator&&n.navigator.notification&&n.navigator.notification.confirm?n.navigator.notification.confirm(t.content,function(n){if(t.commands&&t.commands[n-1]&&t.commands[n-1].callback){var i=t.commands[n-1].callback();i&&i.then?i.then(function(){e(!0)}):e(!0)}else e(0!=n?!0:!1)},o,a):e(window.confirm(o)?!0:!1)})}return WinJS.Promise.wrapError("you must specify commands as an array of objects with properties text and callback such as {text: '', callback: function(c){}}")}function i(n,e){return t.Alerts.messageBox({title:n,content:e})}function o(n,e,i,o){return new WinJS.Promise(function(a,r){t.Alerts.messageBox({title:n,content:e,commands:[{label:i,callback:function(t){a(!0)},isDefault:!0},{label:o,callback:function(t){a(!1)}}]})})}function a(t){if(!Windows)throw"No notification plugin found";var n=Windows.UI.Notifications,e=t.template||(t.picture?n.ToastTemplateType.toastImageAndText01:n.ToastTemplateType.toastText01),i=n.ToastNotificationManager.getTemplateContent(e),o=i.getElementsByTagName("text"),a=i.getElementsByTagName("image");if(t.launch){var r=i.getElementsByTagName("toast");r[0].setAttribute("launch",JSON.stringify(t.launch))}o[0].appendChild(i.createTextNode(t.text)),t.text2&&o.length>1&&o[1].appendChild(i.createTextNode(t.text2)),t.text3&&o.length>1&&o[2].appendChild(i.createTextNode(t.text3)),t.picture&&a[0].setAttribute("src",t.picture);var c=new n.ToastNotification(i),s=n.ToastNotificationManager.createToastNotifier();s.show(c)}function r(n,e){t.Alerts.toastNotification({text:n,picture:e})}n.messageBox=e,n.message=i,n.confirm=o,n.toastNotification=a,n.toast=r}(n=t.Alerts||(t.Alerts={}))}(WinJSContrib||(WinJSContrib={}));